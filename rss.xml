<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>æ•¬ç»´</title>
    <description>ä¸€ä¸ªå–œæ¬¢æ¶‚æ¶‚ç”»ç”»çš„äººï¼Œæ›¾ç»çš„Rubistï¼Œä¸€ä¸ªCI/CDçš„è·µè¡Œè€…ï¼Œä¸€ä¸ªæ¢å¯»æœ€ä½³å®è·µçš„äººã€‚</description>
    <link>https://jingwei.link//</link>
    <atom:link href="https://jingwei.link/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Sat, 16 Nov 2019 11:26:37 +0800</pubDate>
    <lastBuildDate>Sat, 16 Nov 2019 11:26:37 +0800</lastBuildDate>
    <generator>Jekyll v4.0.0</generator>
    
      <item>
        <title>MySQL æ•°æ®åº“çš„åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; id=&quot;markdown-toc-å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#é€‚ç”¨äººç¾¤&quot; id=&quot;markdown-toc-é€‚ç”¨äººç¾¤&quot;&gt;é€‚ç”¨äººç¾¤&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ•°æ®åº“çš„åŸºæœ¬ä½¿ç”¨&quot; id=&quot;markdown-toc-æ•°æ®åº“çš„åŸºæœ¬ä½¿ç”¨&quot;&gt;æ•°æ®åº“çš„åŸºæœ¬ä½¿ç”¨&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#æ•°æ®åº“çš„å®‰è£…ä¸å¯åŠ¨&quot; id=&quot;markdown-toc-æ•°æ®åº“çš„å®‰è£…ä¸å¯åŠ¨&quot;&gt;æ•°æ®åº“çš„å®‰è£…ä¸å¯åŠ¨&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#è¿æ¥æ•°æ®åº“æœåŠ¡&quot; id=&quot;markdown-toc-è¿æ¥æ•°æ®åº“æœåŠ¡&quot;&gt;è¿æ¥æ•°æ®åº“æœåŠ¡&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#åˆ›å»ºæ•°æ®åº“&quot; id=&quot;markdown-toc-åˆ›å»ºæ•°æ®åº“&quot;&gt;åˆ›å»ºæ•°æ®åº“&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#åˆ›å»ºæ•°æ®è¡¨&quot; id=&quot;markdown-toc-åˆ›å»ºæ•°æ®è¡¨&quot;&gt;åˆ›å»ºæ•°æ®è¡¨&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#åˆ›å»º-users-è¡¨&quot; id=&quot;markdown-toc-åˆ›å»º-users-è¡¨&quot;&gt;åˆ›å»º users è¡¨&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#åˆ›å»º-blogs-è¡¨&quot; id=&quot;markdown-toc-åˆ›å»º-blogs-è¡¨&quot;&gt;åˆ›å»º blogs è¡¨&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#åˆ›å»º-comments-è¡¨&quot; id=&quot;markdown-toc-åˆ›å»º-comments-è¡¨&quot;&gt;åˆ›å»º comments è¡¨&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#åˆ›å»ºä¸€äº›å‡æ•°æ®ä¾¿äºåé¢æ£€ç´¢ä½¿ç”¨&quot; id=&quot;markdown-toc-åˆ›å»ºä¸€äº›å‡æ•°æ®ä¾¿äºåé¢æ£€ç´¢ä½¿ç”¨&quot;&gt;åˆ›å»ºä¸€äº›å‡æ•°æ®ä¾¿äºåé¢æ£€ç´¢ä½¿ç”¨&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#join-çš„ä½¿ç”¨&quot; id=&quot;markdown-toc-join-çš„ä½¿ç”¨&quot;&gt;JOIN çš„ä½¿ç”¨&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#explain-çš„ä½¿ç”¨&quot; id=&quot;markdown-toc-explain-çš„ä½¿ç”¨&quot;&gt;EXPLAIN çš„ä½¿ç”¨&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#åœ¨-usersusername-å­—æ®µä¸Šæ·»åŠ ç´¢å¼•&quot; id=&quot;markdown-toc-åœ¨-usersusername-å­—æ®µä¸Šæ·»åŠ ç´¢å¼•&quot;&gt;åœ¨ users.username å­—æ®µä¸Šæ·»åŠ ç´¢å¼•&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å°ç»“&quot; id=&quot;markdown-toc-å°ç»“&quot;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;å¯¹ä¸€èˆ¬çš„å¼€å‘è€…æ¥è¯´ï¼ŒMySQL å®‰è£…æˆåŠŸä»¥åï¼Œå‰©ä¸‹çš„å°±æ˜¯åŸºæœ¬çš„ä½¿ç”¨äº†ï¼Œå¦‚æœæ˜¯è¿ç»´å¼€å‘ï¼Œå¯èƒ½è¿˜ä¼šæ¶‰åŠåˆ°æ•°æ®åº“çš„è¿ç»´ã€‚æœ¬æ–‡æš‚ä¸”ä¸è€ƒè™‘è¿ç»´ä¸Šçš„æ“ä½œï¼Œä»…å°±æ•°æ®åº“çš„ä½¿ç”¨ç»™å‡ºä¸€äº›ç¤ºä¾‹ï¼Œä¸»è¦åŒ…æ‹¬ &lt;code class=&quot;highlighter-rouge&quot;&gt;CURD&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;JOIN&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;EXPLAIN&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;é€‚ç”¨äººç¾¤&quot;&gt;é€‚ç”¨äººç¾¤&lt;/h2&gt;
&lt;p&gt;å…¥é—¨â€”â€”åˆçº§â€”â€”&lt;strong&gt;ä¸­çº§âˆš&lt;/strong&gt;â€”â€”é«˜çº§ï¼›æœ¬æ–‡é€‚åº”ä¸­çº§åŠä»¥ä¸Šã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ•°æ®åº“çš„åŸºæœ¬ä½¿ç”¨&quot;&gt;æ•°æ®åº“çš„åŸºæœ¬ä½¿ç”¨&lt;/h2&gt;
&lt;h3 id=&quot;æ•°æ®åº“çš„å®‰è£…ä¸å¯åŠ¨&quot;&gt;æ•°æ®åº“çš„å®‰è£…ä¸å¯åŠ¨&lt;/h3&gt;
&lt;p&gt;ç›®å‰å¸¸è§çš„æ“ä½œç³»ç»Ÿæœ‰ä¸‰ç±»ï¼šLinuxã€Windowsã€Macã€‚ä¸åŒå¹³å°å®‰è£…è½¯ä»¶çš„æ–¹å¼å„å¼‚ï¼Œå®‰è£…è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜ä¹Ÿå„ä¸ç›¸åŒï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±æ‰€ä½¿ç”¨çš„å¹³å°è¿›è¡Œæ¢ç´¢ã€‚å› ä¸ºæœ¬äººä½¿ç”¨çš„æ˜¯ Macï¼Œå› æ­¤åªç»™å‡º Mac æ“ä½œç³»ç»Ÿä¸Š MySQL çš„å®‰è£…ä¸å¯åŠ¨ã€‚&lt;/p&gt;

&lt;p&gt;ç®€å•æ€»ç»“ä¸‹æ¥å°±æ˜¯ä¸‹é¢å‡ ä¸ªå‘½ä»¤&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# å®‰è£… homebrewï¼Œ å‚è€ƒ https://brew.sh/&lt;/span&gt;
/usr/bin/ruby &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;curl &lt;span class=&quot;nt&quot;&gt;-fsSL&lt;/span&gt; https://raw.githubusercontent.com/Homebrew/install/master/install&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# æŸ¥æ‰¾å¯ä»¥å®‰è£…çš„ mysql æ–¹æ¡ˆ&lt;/span&gt;
brew search mysql

&lt;span class=&quot;c&quot;&gt;# å®‰è£… 5.7 ç‰ˆæœ¬çš„  mysql&lt;/span&gt;
brew &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;mysql@5.7

&lt;span class=&quot;c&quot;&gt;# æŸ¥çœ‹ mysql@5.7 çš„å®‰è£…ä¿¡æ¯ã€å¯åŠ¨ä¿¡æ¯ç­‰&lt;/span&gt;
brew info mysql@5.7

&lt;span class=&quot;c&quot;&gt;# å¼€æœºå¯åŠ¨ mysql@5.7&lt;/span&gt;
brew services start mysql@5.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;è¿æ¥æ•°æ®åº“æœåŠ¡&quot;&gt;è¿æ¥æ•°æ®åº“æœåŠ¡&lt;/h3&gt;
&lt;p&gt;å¯åŠ¨ MySQL åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;ps -ef |grep mysql&lt;/code&gt; æ¥æŸ¥çœ‹ä¸ MySQL ç›¸å…³çš„è¿›ç¨‹ï¼Œå¯ä»¥å‘ç° åå°ä¼šè¿è¡Œä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;mysqld&lt;/code&gt; çš„è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„ â€œè¿æ¥æ•°æ®åº“â€ å…¶å®æŒ‡çš„æ˜¯è¿æ¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;mysqld&lt;/code&gt; æä¾›çš„æ•°æ®åº“æœåŠ¡ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€èˆ¬æœ¬åœ°ï¼ˆè‡ªå·±çš„ç”µè„‘ä¸Šé¢ï¼‰å®‰è£…å®Œ MySQL åï¼Œä¼šé»˜è®¤å®‰è£… &lt;code class=&quot;highlighter-rouge&quot;&gt;mysql&lt;/code&gt; è¿™ä¸ªå‘½ä»¤ï¼Œå¯ä»¥ç”¨å®ƒæ¥è¿æ¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;mysqld&lt;/code&gt; æä¾›çš„æœåŠ¡ï¼ˆå› ä¸ºçœŸæ­£æä¾›æ•°æ®åº“æœåŠ¡çš„æ˜¯ mysqldï¼Œæˆ–è®¸ MySQL åº”è¯¥å« MySQLD æ¯”è¾ƒå¥½ï¼Ÿ ğŸ˜†ï¼‰ã€‚&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# è¿æ¥æœ¬åœ° localhost ç«¯å£ä¸º 3306 çš„æ•°æ®åº“ hello&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# ä½¿ç”¨ root ç”¨æˆ·ï¼Œä¸”è¦æ±‚è¾“å…¥å¯†ç &lt;/span&gt;
mysql &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; localhost &lt;span class=&quot;nt&quot;&gt;-P&lt;/span&gt; 3306 &lt;span class=&quot;nt&quot;&gt;-D&lt;/span&gt; hello &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; root &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# æˆ‘ä»¬å¯ä»¥å¿½ç•¥ -h å’Œ -P æ¥ç®€åŒ–ä¸Šé¢çš„è¯­å¥&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# ä¸‹é¢çš„è¯­å¥è¡¨ç¤ºï¼š ä»¥ root ç”¨æˆ·è¿æ¥æœ¬åœ° 3306 ç«¯å£ä¸Šçš„æ•°æ®åº“ hello&lt;/span&gt;
mysql &lt;span class=&quot;nt&quot;&gt;-D&lt;/span&gt; hello &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; root &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# å¦‚æœä¸éœ€è¦æŒ‡å®šè¿æ¥å“ªä¸ªæ•°æ®åº“ï¼Œè¿˜å¯ä»¥çœç•¥ -D åŠå…¶å‚æ•°&lt;/span&gt;
mysql &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; root &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# å¦‚æœéœ€è¦æŒ‡å®šå­—ç¬¦é›†ä¸º utf8mb4ï¼Œéœ€è¦æ·»åŠ ï¼ˆå¦‚æœè¦å­˜å‚¨ emoji å°±å¿…é¡»è¦æŒ‡å®šè¿™ä¸ªå­—ç¬¦é›†ï¼‰&lt;/span&gt;
mysql &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; root &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--default-character-set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;utf8mb4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;åˆ›å»ºæ•°æ®åº“&quot;&gt;åˆ›å»ºæ•°æ®åº“&lt;/h3&gt;
&lt;p&gt;è¿æ¥åˆ°æ•°æ®åº“ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­å¥åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;-- SQL çš„æ³¨é‡Šä½¿ç”¨çš„æ˜¯ åŒæ¨ªçº¿ â€œ--â€&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-- å¦‚æœ hello æ•°æ®åº“å·²ç»å­˜åœ¨ï¼Œå°±æ˜¾å¼åœ°å…ˆåˆ é™¤è¿™ä¸ªæ•°æ®åº“&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-- ç„¶ååˆ›å»ºä¸€ä¸ªåä¸º hello çš„æ•°æ®åº“ï¼Œå¹¶æŒ‡å®šå…¶é»˜è®¤çš„å­—ç¬¦é›†ä¸º utf8mb4&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-- å¤§å®¶å¯ä»¥è‡ªè¡Œæœç´¢ MySQL utf8mb4 ç›¸å…³çš„å†…å®¹&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DATABASE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DATABASE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`hello`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;CHARACTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`utf8mb4`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;-- æœ‰äº†æ•°æ®åº“ä»¥åå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ•°æ®åº“äº†ï¼Œç„¶åæ‰å¯ä»¥åœ¨æ•°æ®åº“ä¸­åˆ›å»ºè¡¨&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;USE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;åˆ›å»ºæ•°æ®è¡¨&quot;&gt;åˆ›å»ºæ•°æ®è¡¨&lt;/h3&gt;

&lt;p&gt;æ¥ä¸‹æ¥æˆ‘ä»¬æ¨¡ä»¿ä¸€ä¸ªåšå®¢ç³»ç»Ÿåˆ›å»ºå‡ ä¸ªæ•°æ®è¡¨ï¼Œåˆ†åˆ«åŒ…æ‹¬ç”¨æˆ·è¡¨ usersã€åšå®¢è¡¨ blogs å’Œè¯„è®ºè¡¨ commentsã€‚&lt;/p&gt;

&lt;p&gt;åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™æˆ‘ä»¬æœ‰å‡ ä¸ªé»˜è®¤é¡¹ï¼Œæ•°æ®åº“å¼•æ“ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;InnoDB&lt;/code&gt;ï¼ˆå°ç™½ç”¨æˆ·åªéœ€è¦è®°ä½ InnoDB å¯ä»¥æ»¡è¶³ç»å¤§éƒ¨åˆ†åœºæ™¯ï¼‰ï¼Œå­—ç¬¦é›†ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;utf8mb4&lt;/code&gt;ã€‚ç”±äº &lt;code class=&quot;highlighter-rouge&quot;&gt;InnodB&lt;/code&gt; çš„ â€œèšç°‡ç´¢å¼•â€ å’Œâ€œäºŒçº§ç´¢å¼•åŒ…å«å¼•ç”¨è¡Œçš„ä¸»é”®åˆ—â€çš„ç‰¹æ€§ï¼Œé»˜è®¤æƒ…å†µä¸‹æˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ªç±»å‹ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;int&lt;/code&gt; çš„ä¸»é”®  &lt;code class=&quot;highlighter-rouge&quot;&gt;id&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&quot;åˆ›å»º-users-è¡¨&quot;&gt;åˆ›å»º users è¡¨&lt;/h4&gt;

&lt;p&gt;ä¸‹é¢çš„è¯­å¥åˆ›å»ºäº†ç”¨æˆ· users è¡¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;-- ä¸ºäº†è¯•éªŒç¯å¢ƒçš„å¹²å‡€æ•´æ´ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨ users è¡¨&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-- å¦‚æœå·²ç»å­˜åœ¨ users è¡¨å°±å…ˆåˆ é™¤æ‰ï¼Œæ¥ç€åˆ›å»º users è¡¨&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-- ç”¨æˆ·è¡¨ä¸­åŒ…å«çš„å­—æ®µåŠå…¶å«ä¹‰å¯ä»¥æŸ¥çœ‹ COMMENT ä¸­å¤‡æ³¨çš„å†…å®¹&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`users`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AUTO_INCREMENT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ä¸»é”®ï¼Œç”¨æˆ· id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`created_at`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;datetime&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'åˆ›å»ºæ—¶é—´'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`updated_at`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;datetime&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'æ›´æ–°æ—¶é—´'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`username`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ç”¨æˆ·å'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`birthday`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;datetime&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ç”Ÿæ—¥æ—¥æœŸ'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`idx_user_created_at`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`created_at`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USING&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BTREE&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ENGINE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;InnoDB&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CHARSET&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utf8mb4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;åˆ›å»º-blogs-è¡¨&quot;&gt;åˆ›å»º blogs è¡¨&lt;/h4&gt;

&lt;p&gt;ä¸‹é¢çš„è¯­å¥åˆ›å»ºäº†åšå®¢ blogs è¡¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;-- ä¸ºäº†è¯•éªŒç¯å¢ƒçš„å¹²å‡€æ•´æ´ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨ blogs è¡¨&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-- å¦‚æœå·²ç»å­˜åœ¨ blogs è¡¨å°±å…ˆåˆ é™¤æ‰ï¼Œæ¥ç€åˆ›å»º blogs è¡¨&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-- ç”¨æˆ·è¡¨ä¸­åŒ…å«çš„å­—æ®µåŠå…¶å«ä¹‰å¯ä»¥æŸ¥çœ‹ COMMENT ä¸­å¤‡æ³¨çš„å†…å®¹&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blogs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`blogs`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AUTO_INCREMENT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ä¸»é”®ï¼Œåšå®¢ id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`created_at`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;datetime&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'åˆ›å»ºæ—¶é—´'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`updated_at`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;datetime&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'æ›´æ–°æ—¶é—´'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`user_id`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ç”¨æˆ·id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`title`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'åšå®¢æ ‡é¢˜ï¼Œæœ€å¤š 50 ä¸ªå­—ç¬¦'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`content`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'åšå®¢å†…å®¹'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`idx_blogs_created_at`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`created_at`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USING&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BTREE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`idx_blogs_user_id`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`user_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USING&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BTREE&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ENGINE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;InnoDB&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CHARSET&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utf8mb4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;åˆ›å»º-comments-è¡¨&quot;&gt;åˆ›å»º comments è¡¨&lt;/h4&gt;

&lt;p&gt;ä¸‹é¢çš„è¯­å¥åˆ›å»ºäº†è¯„è®º comments è¡¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;-- ä¸ºäº†è¯•éªŒç¯å¢ƒçš„å¹²å‡€æ•´æ´ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨ comments è¡¨&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-- å¦‚æœå·²ç»å­˜åœ¨ comments è¡¨å°±å…ˆåˆ é™¤æ‰ï¼Œæ¥ç€åˆ›å»º comments è¡¨&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-- ç”¨æˆ·è¡¨ä¸­åŒ…å«çš„å­—æ®µåŠå…¶å«ä¹‰å¯ä»¥æŸ¥çœ‹ COMMENT ä¸­å¤‡æ³¨çš„å†…å®¹&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comments&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`comments`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AUTO_INCREMENT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ä¸»é”®ï¼Œè¯„è®º id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`created_at`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;datetime&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'åˆ›å»ºæ—¶é—´'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`updated_at`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;datetime&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'æ›´æ–°æ—¶é—´'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`user_id`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ç”¨æˆ· id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`blog_id`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'åšå®¢ id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;`content`&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;varchar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2048&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'è¯„è®ºå†…å®¹ï¼Œé™åˆ¶æœ€å¤š 2048 ä¸ªå­—ç¬¦'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`idx_blogs_created_at`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`created_at`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USING&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BTREE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`idx_blogs_user_id`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`user_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USING&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BTREE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`idx_blogs_blog_id`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`blog_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USING&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BTREE&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ENGINE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;InnoDB&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CHARSET&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utf8mb4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;åˆ›å»ºä¸€äº›å‡æ•°æ®ä¾¿äºåé¢æ£€ç´¢ä½¿ç”¨&quot;&gt;åˆ›å»ºä¸€äº›å‡æ•°æ®ä¾¿äºåé¢æ£€ç´¢ä½¿ç”¨&lt;/h4&gt;
&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;-- é¦–å…ˆä¸‹é¢æ‰‹åŠ¨ç»™æ¯ä¸ªè¡¨æ’å…¥äº†ä¸€æ¡è®°å½•&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`users`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`username`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`birthday`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ws_by_hand_1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`blogs`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`user_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`title`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`content`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'æµ·ç‡•'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'é«˜å°”åŸºçš„ä½œå“ã€‚'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`blogs`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`user_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`title`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`content`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'æˆ‘çš„å¤§å­¦'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'é«˜å°”åŸºçš„å¦ä¸€éƒ¨ä½œå“ã€‚'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`comments`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`user_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`blog_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`content`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'æˆ‘ä¹Ÿå–œæ¬¢é«˜å°”åŸºçš„ä½œå“ğŸ˜†'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`comments`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`user_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`blog_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`content`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'2'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'è¿™ä¸€éƒ¨æˆ‘ä¹Ÿå¾ˆå–œæ¬¢ğŸ˜†'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;-- ä¸ºäº†è¯´æ˜é—®é¢˜ï¼Œä¸‹é¢å®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¤šä¸ªè™šæ‹Ÿç”¨æˆ·çš„è¿‡ç¨‹&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;DELIMITER&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PROCEDURE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mock_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PROCEDURE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mock_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;BEGIN&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;DECLARE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;INT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;WHILE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DO&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`users`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`username`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`birthday`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&quot;ws_auto_&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`blogs`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`user_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`title`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`content`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'èƒŒå½±'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'æœ±è‡ªæ¸…çš„ä½œå“ã€‚'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`comments`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`user_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`blog_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`content`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'æˆ‘ä¹Ÿå–œæ¬¢ğŸ˜†'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;END&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WHILE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;END&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;DELIMITER&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;-- è°ƒç”¨ mock_users ç”Ÿæˆå¤šä¸ªç”¨æˆ·è´¦æˆ·ï¼Œä»¥åŠå¯¹åº”çš„ blogs å’Œ comments&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CALL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mock_users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;join-çš„ä½¿ç”¨&quot;&gt;JOIN çš„ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡ JOIN çš„æ–¹å¼æ¥è·å–æŸä¸ªç”¨æˆ·å‘è¡¨çš„åšå®¢çš„æ‰€æœ‰å†…å®¹ï¼Œä»¥åŠå…¶åšå®¢æ‰€è·å¾—çš„è¯„è®ºå†…å®¹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blog_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blog_title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blog_content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comment_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comment_user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comment_content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;cu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comment_username&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blogs&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comments&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;blog_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cu&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'ws_by_hand_1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è·å–åˆ°çš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆå¯ä»¥é€šè¿‡æŒ‡å®šå­—æ®µæ¥é€‰æ‹©æ€§çš„æ£€å‡ºå¯¹åº”çš„å­—æ®µçš„å†…å®¹ï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/mysql-curd-join-explain-01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;explain-çš„ä½¿ç”¨&quot;&gt;EXPLAIN çš„ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä»¬çš„è¡¨çš„å†…å®¹æ¯”è¾ƒå°‘ï¼Œå› æ­¤è¿è¡Œä¸Šé¢ &lt;code class=&quot;highlighter-rouge&quot;&gt;JOIN&lt;/code&gt; çš„å†…å®¹ä¸ä¼šæœ‰æ…¢çš„æ„Ÿè§‰ï¼Œä½†æ˜¯æˆ‘ä»¬ä¾ç„¶å¯ä»¥ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;EXPLAIN&lt;/code&gt; è¿›è¡Œä¸€ç•ªæ¢ç´¢ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;EXPLAIN&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blog_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blog_title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blog_content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comment_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comment_user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comment_content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
       &lt;span class=&quot;n&quot;&gt;cu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comment_username&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blogs&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comments&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;blog_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;LEFT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cu&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'ws_by_hand_1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;EXPALIN&lt;/code&gt; ä»£ç è¿è¡Œåå¾—åˆ°çš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;type&lt;/code&gt; ä¸€åˆ—æ¢ç´¢ç´¢å¼•çš„ä½¿ç”¨æƒ…å†µï¼Œå‘ç° &lt;code class=&quot;highlighter-rouge&quot;&gt;users as u&lt;/code&gt; è¡¨æ‰«äº†å…¨é‡è¡¨ï¼ˆ&lt;em&gt;type ä¸º ALL&lt;/em&gt;ï¼‰ï¼Œå½“æˆ‘ä»¬çš„ user è¡¨éå¸¸å¤§çš„æƒ…å†µä¸‹ï¼Œè¿™é‡Œè‚¯å®šä¼šå­˜åœ¨é—®é¢˜ã€‚å…¶å®åœ¨åˆ›å»º &lt;code class=&quot;highlighter-rouge&quot;&gt;users&lt;/code&gt; è¡¨çš„æ—¶å€™æˆ‘åˆ»æ„å°‘åˆ›å»ºäº†ä¸€ä¸ªç´¢å¼•ï¼Œç†è®ºä¸Šåº”è¯¥åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;users.username&lt;/code&gt; è¿™ä¸ªå­—æ®µä¸Šæ·»åŠ ç´¢å¼•ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/mysql-curd-join-explain-02.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;åœ¨-usersusername-å­—æ®µä¸Šæ·»åŠ ç´¢å¼•&quot;&gt;åœ¨ users.username å­—æ®µä¸Šæ·»åŠ ç´¢å¼•&lt;/h4&gt;

&lt;p&gt;å¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­å¥ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;users.username&lt;/code&gt; å­—æ®µæ·»åŠ ç´¢å¼•ï¼š&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`users`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;ADD&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INDEX&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`idx_user_username`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`username`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨æ·»åŠ å®Œç´¢å¼•ä»¥åï¼Œåœ¨æ­¤ &lt;code class=&quot;highlighter-rouge&quot;&gt;EXPLAIN&lt;/code&gt; æˆ‘ä»¬çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;JOIN&lt;/code&gt; è¯­å¥ï¼Œå¯ä»¥å¾—åˆ°ä¸‹å›¾çš„ç»“æœã€‚å¯ä»¥å‘ç° &lt;code class=&quot;highlighter-rouge&quot;&gt;users as u&lt;/code&gt;çš„ type å·²ç»å˜æˆäº†å­—æ®µ &lt;code class=&quot;highlighter-rouge&quot;&gt;username&lt;/code&gt; ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;idx_user_username&lt;/code&gt;ï¼‰ä¸Šçš„ç´¢å¼•&lt;code class=&quot;highlighter-rouge&quot;&gt;ref&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/mysql-curd-join-explain-03.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡å°±æ•°æ®åº“çš„ä½¿ç”¨ç»™å‡ºä¸€äº›ç¤ºä¾‹ï¼Œé€šè¿‡å®ä¾‹ä»£ç çš„æ–¹å¼ç»™å‡º &lt;code class=&quot;highlighter-rouge&quot;&gt;CURD&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;JOIN&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;EXPLAIN&lt;/code&gt;çš„ä½¿ç”¨æ–¹å¼ï¼Œåœ¨å®é™…ç”Ÿäº§è¿‡ç¨‹ä¸­å¯ä»¥ä¸ºå¤§å®¶æä¾›ä¸€äº›å‚è€ƒã€‚
å¯¹äº ORM å·¥å…·çš„ä½¿ç”¨ï¼Œåœ¨æ£€ç´¢çš„è¿‡ç¨‹ä¸­æœ¬è´¨æ˜¯ SQL è¯­å¥çš„æ‹¼è£…ã€æ£€ç´¢ç»“æœçš„è§£æï¼Œåœ¨æ•°æ®åº“å±‚é¢äº†è§£ SQL æ— ç–‘èƒ½å¤Ÿå¢å¼ºå¤§å®¶å¯¹ ORM çš„ä½¿ç”¨çš„ç†è§£ï¼Œä»è€Œå†™å‡ºæ›´åŠ é«˜æ•ˆå¯é çš„ä»£ç ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://brew.sh/&quot;&gt;The missing package manager for macOS (or Linux) â€” Homebrew&lt;/a&gt; macOS ä¸Šå¼ºå¤§çš„åŒ…ç®¡ç†å™¨&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/tufujie/p/9413852.html&quot;&gt;MySQL Explainè¯¦è§£ - åšå®¢å›­&lt;/a&gt; æ¯”è¾ƒè¯¦å°½çš„ä»‹ç» explain çš„å†…å®¹&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2019/10/19/mac-mysql-reinstall.html&quot;&gt;å¸è½½ macOS ä¸­çš„ MySQL æ—¶é‡åˆ°çš„ç–‘é—® - æ•¬ç»´&lt;/a&gt; åœ¨ macOS ä¸Šå®‰è£…/å¸è½½ mysql çš„ä»‹ç»&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sat, 16 Nov 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/11/16/mysql-curd-join-explain.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/11/16/mysql-curd-join-explain.html</guid>
        
        <category>æ•°æ®åº“</category>
        
        <category>ç»éªŒ</category>
        
        <category>å®ç”¨</category>
        
        
        <category>æ•°æ®åº“</category>
        
      </item>
    
      <item>
        <title>ã€ŠåŸæ±åŸå‘³ Go è¯­è¨€å­¦ä¹ ã€‹(9) effective go æ¥å£åŠæ³›å‹</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#èµ„æ–™&quot; id=&quot;markdown-toc-èµ„æ–™&quot;&gt;èµ„æ–™&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#interfaces-and-other-typesæ¥å£ä¸å…¶ä»–ç±»å‹&quot; id=&quot;markdown-toc-interfaces-and-other-typesæ¥å£ä¸å…¶ä»–ç±»å‹&quot;&gt;Interfaces and other typesï¼ˆæ¥å£ä¸å…¶ä»–ç±»å‹ï¼‰&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#interfacesæ¥å£&quot; id=&quot;markdown-toc-interfacesæ¥å£&quot;&gt;Interfacesï¼ˆæ¥å£ï¼‰&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#conversionsç±»å‹è½¬æ¢&quot; id=&quot;markdown-toc-conversionsç±»å‹è½¬æ¢&quot;&gt;Conversionsï¼ˆç±»å‹è½¬æ¢ï¼‰&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#interface-conversions-and-type-assertionsæ¥å£è½¬æ¢ä¸ç±»å‹æ–­è¨€&quot; id=&quot;markdown-toc-interface-conversions-and-type-assertionsæ¥å£è½¬æ¢ä¸ç±»å‹æ–­è¨€&quot;&gt;Interface conversions and type assertionsï¼ˆæ¥å£è½¬æ¢ä¸ç±»å‹æ–­è¨€ï¼‰&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#generalityæ³›å‹&quot; id=&quot;markdown-toc-generalityæ³›å‹&quot;&gt;Generalityï¼ˆæ³›å‹ï¼‰&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#interfaces-and-methodsæ¥å£ä¸æ–¹æ³•&quot; id=&quot;markdown-toc-interfaces-and-methodsæ¥å£ä¸æ–¹æ³•&quot;&gt;Interfaces and methodsï¼ˆæ¥å£ä¸æ–¹æ³•ï¼‰&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;èµ„æ–™&quot;&gt;èµ„æ–™&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://golang.google.cn/doc/effective_go.html&quot;&gt;effective go&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/av75076225&quot;&gt;æœ¬æ–‡çš„è§†é¢‘åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;interfaces-and-other-typesæ¥å£ä¸å…¶ä»–ç±»å‹&quot;&gt;Interfaces and other typesï¼ˆæ¥å£ä¸å…¶ä»–ç±»å‹ï¼‰&lt;/h1&gt;

&lt;h2 id=&quot;interfacesæ¥å£&quot;&gt;Interfacesï¼ˆæ¥å£ï¼‰&lt;/h2&gt;

&lt;p&gt;åœ¨ Go ä¸­ï¼Œå¯ä»¥ç”¨æ¥å£æ¥æŒ‡å®šä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºï¼šå¦‚æœä¸€ä¸ªå¯¹è±¡å¯ä»¥åš&lt;strong&gt;æŸä»¶äº‹æƒ…&lt;/strong&gt;ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥ç”¨åœ¨&lt;strong&gt;æŸä¸ªæŒ‡å®šçš„åœ°æ–¹&lt;/strong&gt;ã€‚ä¹‹å‰å·²ç»çœ‹åˆ°è¿‡å‡ ä¸ªç®€å•çš„ä¾‹å­ï¼šâ‘  å®ç° &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•å¯ä»¥è‡ªå®šä¹‰ç±»å‹çš„æ‰“å°æ ¼å¼ï¼Œâ‘¡ &lt;code class=&quot;highlighter-rouge&quot;&gt;Fprintf&lt;/code&gt; å¯ä»¥å‘ä»»ä½•å®ç°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;Write&lt;/code&gt; æ–¹æ³•çš„ç±»å‹æ‰“å°å†…å®¹ã€‚åœ¨ Go æºç ä¸­ï¼Œæœ‰å¾ˆå¤šåªåŒ…å«ä¸€ä¸¤ä¸ªæ–¹æ³•çš„æ¥å£ï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¿™äº›æ¥å£çš„åç§°ç›´æ¥è¡ç”Ÿè‡ªä»–ä»¬æ‰€åŒ…å«çš„æ–¹æ³•ï¼Œæ¯”å¦‚åªæœ‰ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;Write&lt;/code&gt; æ–¹æ³•çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;io.Writer&lt;/code&gt; æ¥å£ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªç±»å‹å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚æ¯”å¦‚åŒ… &lt;code class=&quot;highlighter-rouge&quot;&gt;sort&lt;/code&gt; å¯ä»¥ç»™å®ç°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;sort.Interface&lt;/code&gt; æ¥å£çš„é›†åˆè¿›è¡Œæ’åºï¼Œä¹Ÿå°±æ˜¯åªè¦é›†åˆç±»å‹å®ç° &lt;code class=&quot;highlighter-rouge&quot;&gt;Len()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;Less(i, j int) bool&lt;/code&gt;, å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;Swap(i, j int)&lt;/code&gt; æ–¹æ³•ï¼Œå°±å¯ä»¥ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;sort.Sort&lt;/code&gt; è¿›è¡Œæ’åºäº†ï¼›åœ¨å®ç°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;sort.Interface&lt;/code&gt; æ¥å£åï¼Œé›†åˆè¿˜å¯ä»¥é€šè¿‡å®ç° &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Stringer&lt;/code&gt; æ¥å£æ¥è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼ã€‚ä¸‹é¢çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sequence&lt;/code&gt; åŒæ—¶å®ç°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;sort.Interface&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Stringer&lt;/code&gt; ä¸¤ä¸ªæ¥å£ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sequence&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// Methods required by sort.Interface.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sequence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sequence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Less&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sequence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Swap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// Copy returns a copy of the Sequence.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sequence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Copy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sequence&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;copy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sequence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;copy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// Method for printing - sorts the elements before printing.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sequence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Copy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Make a copy; don't overwrite argument.&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;[&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;elem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Loop is O(NÂ²); will fix that in next example.&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;elem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;]&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;conversionsç±»å‹è½¬æ¢&quot;&gt;Conversionsï¼ˆç±»å‹è½¬æ¢ï¼‰&lt;/h2&gt;

&lt;p&gt;ä¸Šé¢ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sequence&lt;/code&gt; çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•ï¼ˆå¤æ‚åº¦ä¸º O(NÂ²)ï¼‰åšäº†å¾ˆå¤š &lt;code class=&quot;highlighter-rouge&quot;&gt;Sprint&lt;/code&gt; å·²ç»åšå®Œçš„äº‹æƒ…â€”â€”&lt;code class=&quot;highlighter-rouge&quot;&gt;Sprint&lt;/code&gt; å‡½æ•°å†…ç½®äº†æ‰“å°é›†åˆç±»å‹å€¼çš„åŠŸèƒ½ã€‚å› æ­¤å¦‚æœè°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sprint&lt;/code&gt; å‰æˆ‘ä»¬æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sequence&lt;/code&gt; è½¬æ¢ä¸ºæ™®é€šçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;[]int&lt;/code&gt;ï¼Œå°±å¯ä»¥é¿å…é‡å¤çš„å·¥ä½œåŒæ—¶è¿˜ä¼šåŠ å¿«æ‰§è¡Œé€Ÿåº¦ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sequence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Copy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªæ–¹æ³•æ˜¯å¦ä¸€ä¸ªåœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•ä¸­å®‰å…¨è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sprintf&lt;/code&gt; å‡½æ•°çš„ä¾‹å­ï¼ˆä¸ä¼šè§¦å‘å¾ªç¯è°ƒç”¨ï¼‰ã€‚å› ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;Sequence&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;[]int&lt;/code&gt; è¿™ä¸¤ä¸ªç±»å‹åªæ˜¯ç±»å‹åä¸åŒï¼Œå…¶åº•å±‚çš„æ•°æ®ç»“æ„æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œå› æ­¤è¿™ä¸¤ä¸ªç±»å‹çš„å˜é‡å¯ä»¥ç›¸äº’è¿›è¡Œè½¬æ¢ã€‚è¿™é‡Œçš„ç±»å‹è½¬æ¢å¹¶ä¸ä¼šåˆ›å»ºæ–°çš„å€¼ï¼Œå®ƒåªæ˜¯ä¸´æ—¶æŠŠä¸€ä¸ªå­˜åœ¨çš„å€¼ä½œä¸ºå¦ä¸€ç§ç±»å‹çš„å€¼æ¥çœ‹å¾…ï¼ˆæœ‰ç‰¹ä¾‹ï¼Œæ¯”å¦‚ go å…è®¸æ•´æ•°è½¬æ¢æˆä¸ºæµ®ç‚¹æ•°ï¼Œè€Œè¿™ç§è½¬æ¢ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å€¼ã€‚ï¼‰&lt;/p&gt;

&lt;p&gt;åœ¨ Go ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»å‹è½¬æ¢çš„æ–¹å¼è·å–æ–°ç±»å‹ä¸Šçš„æ–¹æ³•çš„è°ƒç”¨æƒé™ï¼Œè¿™ç§æ–¹å¼ç®—æ˜¯ä¸€ç§æƒ¯ç”¨æ‰‹æ³•å§ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·²ç»å­˜åœ¨çš„ç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;sort.IntSlice&lt;/code&gt; æ¥å‡å°‘ä»£ç é‡ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sequence&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// Method for printing - sorts the elements before printing&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sequence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Copy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IntSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sequence&lt;/code&gt; è½¬æ¢ä¸ºä¸åŒçš„ç±»å‹ä»è€Œä½¿ç”¨æ¯ç§ç±»å‹åŒ…å«çš„åŠŸèƒ½ï¼Œæ¯ç§è½¬æ¢å®Œæˆä¸€éƒ¨åˆ†çš„å·¥ä½œï¼Œä¸€èµ·è¾¾æˆæœ€åæœŸæœ›çš„æ•ˆæœï¼›è¯­å¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;sort.IntSlice(s)&lt;/code&gt; æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;s&lt;/code&gt; è½¬æ¢ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;sort.IntSlice&lt;/code&gt; ç±»å‹ï¼Œè¿™ç§ç±»å‹å®ç°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;sort.Interface&lt;/code&gt; æ¥å£ï¼Œå› æ­¤å¯ä»¥ç›´æ¥è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sort()&lt;/code&gt; æ–¹æ³•ï¼Œå°±é¿å…æˆ‘ä»¬è‡ªå·±åœ¨å®šä¹‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;Len/Less/Swap&lt;/code&gt; æ–¹æ³•äº†ã€‚è¿™ç§ç±»å‹å˜æ¥å˜å»çš„ç”¨æ³•çœ‹èµ·æ¥ä¸åŒå¯»å¸¸ï¼Œä½†æ˜¯å†™èµ·æ¥å¾ˆé«˜æ•ˆã€‚&lt;/p&gt;

&lt;h2 id=&quot;interface-conversions-and-type-assertionsæ¥å£è½¬æ¢ä¸ç±»å‹æ–­è¨€&quot;&gt;Interface conversions and type assertionsï¼ˆæ¥å£è½¬æ¢ä¸ç±»å‹æ–­è¨€ï¼‰&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;ç±»å‹ switch&lt;/strong&gt; è¯­æ³•æ˜¯ç±»å‹è½¬æ¢çš„ä¸€ç§æ–¹å¼ï¼šä»–é¦–å…ˆæ¥æ”¶æŸä¸ª&lt;strong&gt;æ¥å£å˜é‡&lt;/strong&gt;ï¼Œç„¶ååœ¨æ¯ä¸ª case é‡ŒæŠŠæ¥å£å˜é‡è½¬æ¢ä¸ºå¯¹åº”çš„ç±»å‹ã€‚ä¸‹é¢çš„ä»£ç æ˜¯ç®€åŒ–ç‰ˆçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Printf&lt;/code&gt; æ–¹æ³•ï¼Œç”¨æ¥å±•ç¤ºå¦‚ä½•é€šè¿‡ç±»å‹ switch æŠŠä¸€ä¸ªæ¥å£å˜é‡è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚å¦‚æœæ¥å£å˜é‡å·²ç»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåªéœ€è¦æŠŠè¿™ä¸ªå­—ç¬¦ä¸²å€¼è¿”å›å°±å¯ä»¥äº†ï¼›å¦åˆ™å‡å¦‚å®ƒå®ç°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•ï¼ˆå®ç°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;Stringer&lt;/code&gt; æ¥å£ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨è¿™ä¸ªæ–¹æ³•å¹¶è¿”å›å…¶ç»“æœã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Stringer&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;interface&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Value provided by caller.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Stringer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç é‡Œï¼Œç¬¬ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;case&lt;/code&gt; ç›´æ¥ä½¿ç”¨äº†æ¥å£å˜é‡çš„åº•å±‚æ•°æ®ï¼›ç¬¬äºŒä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;case&lt;/code&gt; æŠŠä¸€ä¸ªæ¥å£è½¬æ¢æˆå¦ä¸€ä¸ªæ¥å£ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;interface{}&lt;/code&gt; çš„å€¼è½¬æ¢ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;Stringer&lt;/code&gt; ç±»å‹çš„å€¼ï¼‰ï¼Œåœ¨ Go ä¸­è¿™ç§æŠŠç±»å‹æ‚ç³…åœ¨ä¸€èµ·ä½¿ç”¨çš„åœºæ™¯ä¹Ÿæ˜¯æ¯”è¾ƒå¤šè§çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†è½¬æ¢ç±»å‹ä¸Šé¢å¤§åŠ¨å¹²æˆˆåœ°ä½¿ç”¨äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;switch...case...&lt;/code&gt;è¯­å¥ï¼Œå‡å¦‚æˆ‘ä»¬çŸ¥é“æŸä¸ªå€¼ä¿å­˜çš„æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt; ç±»å‹çš„å€¼ï¼Œè¯¥æ€ä¹ˆç›´æ¥æŠŠè¿™ä¸ªå€¼è§£æå‡ºæ¥ï¼Ÿå½“ç„¶å¯ä»¥ä½¿ç”¨åªæœ‰ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;case&lt;/code&gt; çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;switch&lt;/code&gt; è¯­å¥æ¥å®ç°ï¼Œä½†æ˜¯å¯ä»¥æ›´ç®€å•åœ°é€šè¿‡&lt;strong&gt;ç±»å‹æ–­è¨€&lt;/strong&gt;æ¥å®ç°ã€‚ç±»å‹æ–­è¨€å¯ä»¥åœ¨æ¥å£ç±»å‹çš„å€¼ä¸Šé¢æŠ½å–ç‰¹å®šç±»å‹çš„å€¼ã€‚å®ƒçš„è¯­æ³•æ˜¯ä» &lt;strong&gt;ç±»å‹ switch&lt;/strong&gt; ä¸­å€Ÿé‰´çš„ï¼Œä½†æ˜¯ switch ä¸­ä½¿ç”¨çš„æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;value.(type)&lt;/code&gt;ï¼Œç±»å‹æ–­è¨€çš„æ‹¬å·ä¸­ç›´æ¥æ˜¾å¼æŒ‡å®šç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;value.(typeName)&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;typeName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;value.(typeName)&lt;/code&gt; çš„ç»“æœæ˜¯é™æ€ç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;typeName&lt;/code&gt; å¯¹åº”çš„æ–°å€¼ã€‚è¿™ä¸ªé™æ€ç±»å‹è¦ä¹ˆæ˜¯æ¥å£å˜é‡çš„åº•å±‚æ•°æ®ç±»å‹ï¼Œè¦ä¹ˆæ˜¯æ¥å£å˜é‡çš„åº•å±‚æ•°æ®ç±»å‹å®ç°çš„å¦ä¸€ä¸ªæ¥å£ã€‚å¦‚æœæˆ‘ä»¬å·²ç»çŸ¥é“æŸä¸ªå€¼å­˜å‚¨çš„æ˜¯å­—ç¬¦ä¸²ï¼Œç›´æ¥é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;str := value.(string)&lt;/code&gt; å°±å¯ä»¥è·å–åˆ°ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç±»ä¼¼ &lt;code class=&quot;highlighter-rouge&quot;&gt;str := value.(string)&lt;/code&gt; çš„å†™æ³•å¾ˆç®€å•å¾ˆæ˜“ç”¨ï¼Œä½†æ˜¯å¦‚æœåœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;value&lt;/code&gt; ä¸­ä¿å­˜çš„ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šäº§ç”Ÿè¿è¡Œæ—¶é”™è¯¯å¯¼è‡´ä»£ç å´©æºƒã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ â€œé€—å·ä¸okâ€ çš„æƒ¯ç”¨è¯­æ³•æ¥æ£€æµ‹ç›¸åº”çš„å€¼æ˜¯å¦æ˜¯å­—ç¬¦ä¸²ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;string value is: %q&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;value is not a string&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœç±»å‹æ–­è¨€å¤±è´¥äº†ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;str&lt;/code&gt; ä¾ç„¶å­˜åœ¨ä¸”æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œåªä¸è¿‡å®ƒçš„å€¼ä¼šæ˜¯ç©ºå­—ç¬¦ä¸²ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†è¯´æ˜è¿™ç§ â€œé€—å·ä¸okâ€ å½¢å¼çš„ç±»å‹æ–­è¨€çš„åŠŸèƒ½ï¼Œä¸‹é¢çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;if - else&lt;/code&gt; è¡¨è¾¾å¼ä¸ä¸Šé¢çš„ç±»å‹ switch ç¤ºä¾‹å®ç°äº†ç›¸åŒçš„åŠŸèƒ½ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Stringer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;generalityæ³›å‹&quot;&gt;Generalityï¼ˆæ³›å‹ï¼‰&lt;/h2&gt;

&lt;p&gt;å¦‚æœç±»å‹çš„å­˜åœ¨åªæ˜¯ä¸ºäº†å®ç°æŸä¸ªæ¥å£ï¼Œé™¤äº†æ¥å£ä¸­é™å®šå¿…é¡»è¦å®ç°çš„æ–¹æ³•æ²¡æœ‰å…¶ä»–éœ€è¦å¯¼å‡ºçš„æ–¹æ³•ï¼Œæ­¤æ—¶å°±æ²¡æœ‰å¿…è¦å¯¼å‡ºè¿™ä¸ªç±»å‹ï¼Œåªéœ€å¯¼å‡ºå¯¹åº”æ¥å£å³å¯ï¼Œè¡¨æ˜è¿™ä¸ªç±»å‹çš„å€¼é™¤äº†æ¥å£é‡Œå®šä¹‰çš„æ–¹æ³•å¤–æ²¡æœ‰å…¶ä»–çš„æ–¹æ³•ã€‚å‡å¦‚å¯¹åŒä¸€ä¸ªæ¥å£æœ‰ä¸åŒçš„å®ç°ï¼Œè¿™ç§åšæ³•è¿˜èƒ½é¿å…é‡å¤åœ°ç»™æ–¹æ³•å†™æ–‡æ¡£ï¼ˆåªéœ€è¦åœ¨æ¥å£é‡Œæ³¨æ˜æ¯ç§æ–¹æ³•çš„ä½œç”¨ã€ç”¨æ³•ï¼Œå„ä¸ªç±»å‹å®ç°è¿™äº›æ–¹æ³•çš„æ—¶å€™åªéœ€è¦ç®€å•æ³¨æ˜æ˜¯å“ªä¸ªæ¥å£çš„æ–¹æ³•å°±å¯ä»¥äº†ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œç±»å‹çš„æ„é€ å™¨åº”è¯¥è¿”å›æ¥å£çš„å€¼è€Œä¸æ˜¯ç›¸åº”çš„ç±»å‹çš„å€¼ã€‚æ¯”å¦‚ï¼Œåœ¨å“ˆå¸Œåº“ &lt;code class=&quot;highlighter-rouge&quot;&gt;crc32.NewIEEE&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;adler32.New&lt;/code&gt; ä¸¤ä¸ªæ„é€ å™¨è¿”å›çš„æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;hash.Hash32&lt;/code&gt; æ¥å£ç±»å‹çš„å€¼ã€‚å¦‚æœè¦æŠŠ CRC-32 çš„ç®—æ³•æ›¿ä»£ä¸º Adler-32 çš„ç®—æ³•ï¼Œåªéœ€è¦æ”¹å˜ä¸€ä¸‹è°ƒç”¨çš„æ„é€ å™¨ï¼Œå…¶ä»–çš„ä¸éœ€è¦ä»»ä½•æ”¹å˜ã€‚&lt;/p&gt;

&lt;p&gt;åŒæ ·çš„ï¼Œå¯ä»¥è®©ä¸åŒ &lt;code class=&quot;highlighter-rouge&quot;&gt;crypto&lt;/code&gt; åŒ…ä¸­çš„æµå¯†ç ç®—æ³•ä¸å—åŠ å¯†ç®—æ³•åˆ†å¼€ã€‚åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;crypto/cipher&lt;/code&gt; åŒ…ä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Block&lt;/code&gt; æ¥å£é™å®šäº†å—åŠ å¯†ç®—æ³•å¯¹æŸä¸ªç‹¬ç«‹çš„æ•°æ®å—è¿›è¡ŒåŠ å¯†çš„è¡Œä¸ºï¼›ä¸ºäº†é€šç”¨æ€§ï¼Œä½¿ç”¨å®ç° &lt;code class=&quot;highlighter-rouge&quot;&gt;Block&lt;/code&gt; æ¥å£çš„åŠ å¯†åŒ…æ¥åˆ›å»ºæµåŠ å¯†å™¨ï¼Œä»è€Œå°è£…å—å¯†ç ç®—æ³•çš„ç»†èŠ‚ï¼ŒæŠŠä½¿ç”¨è€…çš„æ³¨æ„åŠ›è§£æ”¾å‡ºæ¥ï¼›æœ€åä¸ºäº†é€šç”¨æ€§ï¼Œè¿”å› &lt;code class=&quot;highlighter-rouge&quot;&gt;Stream&lt;/code&gt; æ¥å£ç±»å‹çš„æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;æ¥å£ &lt;code class=&quot;highlighter-rouge&quot;&gt;crypto/cipher&lt;/code&gt; çš„æºç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Block&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;BlockSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Encrypt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Decrypt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Stream&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;XORKeyStream&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸‹é¢æ˜¯ CTRï¼ˆè®¡æ•°å™¨æ¨¡å¼ï¼‰æµçš„å®šä¹‰ï¼Œå®ƒå¯ä»¥æŠŠå—å¯†ç è½¬æ¢æˆä¸ºæµå¯†ç ï¼›å¯ä»¥çœ‹åˆ°å—å¯†ç ç›¸å…³çš„ç»†èŠ‚è¢«æŠ½è±¡äº†ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// NewCTR returns a Stream that encrypts/decrypts using the given Block in&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// counter mode. The length of iv must be the same as the Block's block size.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NewCTR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;block&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iv&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Stream&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;NewCTR&lt;/code&gt; ä¸å±€é™åº”ç”¨åˆ°æŸç§ç‰¹å®šçš„åŠ å¯†ç®—æ³•å’Œæ•°æ®æºï¼Œå®ƒèƒ½å¤Ÿåº”ç”¨åœ¨æ‰€æœ‰å®ç°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;Block&lt;/code&gt; æ¥å£å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;Stream&lt;/code&gt; æ¥å£çš„åŠ å¯†ç®—æ³•ä¸Šé¢ã€‚åŒæ—¶å› ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;NewCTR&lt;/code&gt; è¿”å›çš„æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;Stream&lt;/code&gt; æ¥å£ç±»å‹ï¼Œå› æ­¤ç”¨å…¶ä»–çš„åŠ å¯†ç®—æ³•æ›¿ä»£ &lt;code class=&quot;highlighter-rouge&quot;&gt;CTR&lt;/code&gt; ç®—æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦æŠŠè°ƒç”¨äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;NewCTR&lt;/code&gt; çš„åœ°æ–¹æ›¿æ¢æˆä¸ºå…¶ä»–åŠ å¯†ç®—æ³•çš„æ„é€ å™¨å°±å¯ä»¥äº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;interfaces-and-methodsæ¥å£ä¸æ–¹æ³•&quot;&gt;Interfaces and methodsï¼ˆæ¥å£ä¸æ–¹æ³•ï¼‰&lt;/h2&gt;

&lt;p&gt;åœ¨ Go ä¸­å‡ ä¹æ‰€æœ‰ä¸œè¥¿éƒ½å¯ä»¥å…³è”æ–¹æ³•ï¼Œéƒ½å¯ä»¥æ»¡è¶³æŸä¸ªæ¥å£ã€‚å…¶ä¸­ä¸€ä¸ªä¾‹å­æ˜¯å®šä¹‰äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;Handler&lt;/code&gt; æ¥å£çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;http&lt;/code&gt; åŒ…ï¼šä»»ä½•å®ç°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;Handler&lt;/code&gt; æ¥å£çš„å¯¹è±¡éƒ½å¯ä»¥å¤„ç† HTTP è¯·æ±‚ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Handler&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ServeHTTP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;ResponseWriter&lt;/code&gt; æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒæä¾›äº†å“åº”å®¢æˆ·ç«¯çš„å‡ ä¸ªæ–¹æ³•ï¼ŒåŒ…å«æ ‡å‡†çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Write&lt;/code&gt; æ–¹æ³•ï¼Œå› æ­¤ &lt;code class=&quot;highlighter-rouge&quot;&gt;http.ResponseWriter&lt;/code&gt; å¯ä»¥è¢«ä½¿ç”¨åœ¨ä»»ä½•åº”ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;io.Writer&lt;/code&gt; çš„åœ°æ–¹ã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;Request&lt;/code&gt; æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼ŒåŒ…å«äº†ä»å®¢æˆ·ç«¯è§£æå‡ºæ¥çš„è¯·æ±‚ä½“ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†ç®€åŒ–ï¼Œè®©æˆ‘ä»¬å¿½ç•¥ POSTs å¹¶ä¸”å‡è®¾ HTTP è¯·æ±‚åªæœ‰ GETsã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªçŸ­å°ä½†æ˜¯å®Œæ•´çš„ HTTP è¯·æ±‚å¤„ç†å™¨ï¼ˆå®ç°äº† ServerHTTP æ–¹æ³•ï¼‰ï¼Œå®ƒèƒ½å¤Ÿç”¨äºè®¡æ•°é¡µé¢è¢«æŸ¥çœ‹çš„æ¬¡æ•°ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Simple counter server.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Counter&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Counter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ServeHTTP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ctr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Fprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;counter = %d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ctr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ï¼ˆæ„Ÿå…´è¶£çš„è¯å¯ä»¥æ¢ç´¢ä¸€ä¸‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;Fprintf&lt;/code&gt; æ˜¯å¦‚ä½•æŠŠå†…å®¹æ‰“å°åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;http.ResponseWriter&lt;/code&gt; çš„ï¼‰&lt;/p&gt;

&lt;p&gt;ä½œä¸ºå‚è€ƒï¼Œä¸‹é¢çš„ä»£ç å±•ç¤ºäº†å¦‚æœæŠŠè¿™æ ·çš„æœåŠ¡ç»‘å®šåˆ° URL æ ‘ä¸Šçš„ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;net/http&quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ctr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Counter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Handle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/counter&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ctr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­é‡Œå…¶å®æ•´æ•°ç±»å‹ä¹Ÿå¯ä»¥æ»¡è¶³éœ€æ±‚ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜è¦æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;Counter&lt;/code&gt; å£°æ˜æˆä¸€ä¸ªç»“æ„ä½“å‘¢ï¼Ÿï¼ˆè¿™é‡Œéœ€è¦æ³¨æ„æ¥æ”¶è€…å¿…é¡»æ˜¯æŒ‡é’ˆæ‰å¯ä»¥è®©è°ƒç”¨è€…æ„ŸçŸ¥åˆ°å®ƒçš„å¢åŠ ï¼‰&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Simpler counter server.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Counter&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Counter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ServeHTTP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Fprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;counter = %d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœé¡µé¢è¢«è®¿é—®æ—¶éœ€è¦è¿›è¡Œé€šçŸ¥ï¼Œä»£ç è¯¥æ€ä¹ˆå†™ï¼Ÿæ­¤æ—¶å¯ä»¥è€ƒè™‘ç»™ç½‘é¡µç»‘ä¸€ä¸ªä¿¡é“ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// A channel that sends a notification on each visit.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// (Probably want the channel to be buffered.)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Chan&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;chan&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Chan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ServeHTTP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Fprint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;notification sent&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æœ€åï¼Œå¦‚æœæˆ‘ä»¬æƒ³å±•ç¤ºæœåŠ¡å™¨å¯åŠ¨æ—¶åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;/args&lt;/code&gt; è·¯å¾„é‡Œä¼ é€’çš„å‚æ•°ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°å†™ä¸€ä¸ªå‡½æ•°æ¥æ‰“å°è¿™äº›å‚æ•°ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ArgServer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é‚£æˆ‘ä»¬è¯¥æ€ä¹ˆæŠŠå®ƒå˜æˆä¸€ä¸ª HTTP æœåŠ¡å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å®šä¹‰ä»»æ„çš„ç±»å‹å¹¶ç»™è¿™ä¸ªç±»å‹å†™ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;ArgServer&lt;/code&gt; æ–¹æ³•ï¼Œç„¶åä¸ä½¿ç”¨æ¥æ”¶è€…çš„å€¼å°±å¯ä»¥äº†ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ›´å¥½çš„æ–¹æ³•ï¼šå› ä¸ºæˆ‘ä»¬å¯ä»¥ç»™ä»»ä½•ç±»å‹ï¼ˆé™¤äº†æŒ‡é’ˆå’Œæ¥å£ï¼‰å®šä¹‰æ–¹æ³•ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç»™å‡½æ•°å®šä¹‰æ–¹æ³•ã€‚åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;http&lt;/code&gt; ä¸­å°±åŒ…å«è¿™æ ·çš„ä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// The HandlerFunc type is an adapter to allow the use of&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// ordinary functions as HTTP handlers.  If f is a function&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// with the appropriate signature, HandlerFunc(f) is a&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// Handler object that calls f.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HandlerFunc&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// ServeHTTP calls f(w, req).&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HandlerFunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ServeHTTP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;HandlerFunc&lt;/code&gt; ç±»å‹å®šä¹‰äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;ServeHTTP&lt;/code&gt; æ–¹æ³•ï¼Œå› æ­¤è¿™ä¸ªç±»å‹çš„å€¼å¯ä»¥å¤„ç† HTTP è¯·æ±‚ã€‚å¯ä»¥ç¢ç£¨ä¸€ä¸‹ä¸Šé¢ä»£ç ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;ServeHTTP&lt;/code&gt; è¿™ä¸ªæ–¹æ³•çš„ä½¿ç”¨ï¼šæ¥å—è€…æ˜¯ä¸€ä¸ªå‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;f&lt;/code&gt;ï¼Œåœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;ServeHTTP&lt;/code&gt; æ–¹æ³•çš„å†…éƒ¨è°ƒç”¨äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;f&lt;/code&gt;ã€‚å¯èƒ½è¿™çœ‹èµ·æ¥æœ‰ä¸€ç‚¹å¥‡æ€ªï¼Œä½†æ˜¯è¿™å’Œ â€œæ¥æ”¶è€…æ˜¯ä¿¡é“å¹¶ä¸”åœ¨å¯¹åº”çš„æ–¹æ³•ä¸­å‘ä¿¡é“ä¸­å‘é€å†…å®¹â€ æ˜¯ä¸€æ ·çš„è®¾è®¡æ¨¡å¼ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†è®© &lt;code class=&quot;highlighter-rouge&quot;&gt;ArgServer&lt;/code&gt; æ³¨å†Œä¸º HTTP æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä¿®æ”¹å®ƒè®©å®ƒæœ‰æ­£ç¡®çš„ç­¾åï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Argument server.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ArgServer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ResponseWriter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Fprintln&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;ArgServer&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;HandlerFunc&lt;/code&gt; æœ‰ç›¸åŒçš„ç­¾åï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠå®ƒè½¬æ¢ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;HandlerFunc&lt;/code&gt; ç±»å‹ä»è€Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªç±»å‹çš„æ–¹æ³•ï¼Œå°±å¥½åƒæˆ‘ä»¬æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sequence&lt;/code&gt; è½¬æ¢ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;IntSlice&lt;/code&gt; ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;IntSlice.Sort&lt;/code&gt; ä¸€æ ·ã€‚ä¸‹é¢çš„ä»£ç ç®€æ´æ˜äº†ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Handle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/args&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HandlerFunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ArgServer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ ·å½“æœ‰äººè®¿é—®äº†é¡µé¢ &lt;code class=&quot;highlighter-rouge&quot;&gt;/args&lt;/code&gt;ï¼Œå¤„ç†å™¨åœ¨è¿™ä¸ªé¡µé¢å®‰è£…äº†ç±»å‹ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;HandlerFunc&lt;/code&gt; çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;ArgServer&lt;/code&gt;ï¼Œå› æ­¤ HTTP æœåŠ¡å™¨ä¼šè§¦å‘ &lt;code class=&quot;highlighter-rouge&quot;&gt;HandlerFunc&lt;/code&gt; ç±»å‹çš„æ–¹æ³• &lt;code class=&quot;highlighter-rouge&quot;&gt;ServeHTTP&lt;/code&gt;ï¼Œä¸Šé¢çš„ä»£ç é‡Œå¯¹åº”çš„æ¥æ”¶å™¨æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;ArgServer&lt;/code&gt;ï¼Œå¹¶ä¸”ä¼šé€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;HandlerFunc.ServeHTTP&lt;/code&gt; å†…çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;f(w, req)&lt;/code&gt;ï¼‰è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;ArgServer&lt;/code&gt; æ–¹æ³•ï¼Œå¦‚æ­¤å‚æ•°å°±è¢«å±•ç¤ºå‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¿™ä¸€å°èŠ‚ä¸­æˆ‘ä»¬åœ¨ç»“æ„ä½“ã€æ•´æ•°ã€ä¿¡é“å’Œå‡½æ•°ä¸Šé¢åˆ†åˆ«åˆ›å»ºäº† HTTP æœåŠ¡å™¨ï¼Œå¯ä»¥åšåˆ°è¿™ä¸€åˆ‡éƒ½æ˜¯å› ä¸ºæ¥å£çš„çº¯ç²¹æ€§ï¼šâ‘  æ¥å£åªå…³æ³¨æ–¹æ³•ï¼Œâ‘¡å¯ä»¥ç»™å‡ ä¹æ‰€æœ‰çš„ç±»å‹ï¼ˆé™¤äº†æŒ‡é’ˆå’Œæ¥å£ï¼‰å…³è”æ–¹æ³•ä»è€Œå®ç°æ¥å£ã€‚&lt;/p&gt;
</description>
        <pubDate>Sat, 09 Nov 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/11/09/effectivego-interface.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/11/09/effectivego-interface.html</guid>
        
        <category>golang</category>
        
        <category>åŸºç¡€</category>
        
        <category>å®ç”¨</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>ã€ŠåŸæ±åŸå‘³ Go è¯­è¨€å­¦ä¹ ã€‹(8) effective go åˆå§‹åŒ–åŠæ–¹æ³•éƒ¨åˆ†</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#èµ„æ–™&quot; id=&quot;markdown-toc-èµ„æ–™&quot;&gt;èµ„æ–™&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#initializationåˆå§‹åŒ–&quot; id=&quot;markdown-toc-initializationåˆå§‹åŒ–&quot;&gt;Initializationï¼ˆåˆå§‹åŒ–ï¼‰&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#constantså¸¸é‡&quot; id=&quot;markdown-toc-constantså¸¸é‡&quot;&gt;Constantsï¼ˆå¸¸é‡ï¼‰&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#variableså˜é‡&quot; id=&quot;markdown-toc-variableså˜é‡&quot;&gt;Variablesï¼ˆå˜é‡ï¼‰&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#the-init-functioninit-å‡½æ•°&quot; id=&quot;markdown-toc-the-init-functioninit-å‡½æ•°&quot;&gt;The init functionï¼ˆinit å‡½æ•°ï¼‰&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#methodsæ–¹æ³•&quot; id=&quot;markdown-toc-methodsæ–¹æ³•&quot;&gt;Methodsï¼ˆæ–¹æ³•ï¼‰&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#pointers-vs-valuesæŒ‡é’ˆä¸å€¼&quot; id=&quot;markdown-toc-pointers-vs-valuesæŒ‡é’ˆä¸å€¼&quot;&gt;Pointers vs. Valuesï¼ˆæŒ‡é’ˆä¸å€¼ï¼‰&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;èµ„æ–™&quot;&gt;èµ„æ–™&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://golang.google.cn/doc/effective_go.html&quot;&gt;effective go&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/av74451767&quot;&gt;æœ¬æ–‡çš„è§†é¢‘åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;initializationåˆå§‹åŒ–&quot;&gt;Initializationï¼ˆåˆå§‹åŒ–ï¼‰&lt;/h1&gt;

&lt;p&gt;è¡¨é¢ä¸Šçœ‹ Go çš„åˆå§‹åŒ–æ–¹å¼ä¸ C/C++ çš„åˆå§‹åŒ–æ–¹æ³•æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œä½†äº‹å®ä¸Š Go çš„åˆå§‹åŒ–æ–¹å¼æ›´å¼ºå¤§ã€‚Go è¯­è¨€å¯ä»¥åœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ç›´æ¥åˆ›å»ºå¤åˆç»“æ„ç±»å‹ï¼ˆæ¯”å¦‚ ç»“æ„ä½“ã€æ˜ å°„ã€åˆ‡ç‰‡ç­‰ï¼‰ï¼Œèƒ½å¤Ÿæ­£ç¡®å¤„ç†åˆå§‹åŒ–å¯¹è±¡ä¹‹é—´çš„é¡ºåºé—®é¢˜ï¼ˆåŒ…æ‹¬ä¸åŒçš„åŒ…ä¹‹é—´å¯¹è±¡çš„åˆå§‹åŒ–é¡ºåºï¼‰ã€‚&lt;/p&gt;

&lt;h2 id=&quot;constantså¸¸é‡&quot;&gt;Constantsï¼ˆå¸¸é‡ï¼‰&lt;/h2&gt;

&lt;p&gt;åœ¨ Go ä¸­ï¼Œå¸¸é‡ä»…ä»…æŒ‡å¸¸é‡ã€‚å¸¸é‡ï¼ˆåŒ…æ‹¬åŒ…è£¹åœ¨å‡½æ•°å†…çš„å¸¸é‡ï¼‰åœ¨ç¼–è¯‘æ—¶å°±ä¼šè¢«åˆ›å»ºï¼Œå®ƒåªèƒ½æ˜¯æ•°å­—ã€å­—ç¬¦ï¼ˆUTF8ç¬¦æ–‡ï¼‰ã€å­—ç¬¦ä¸²æˆ–å¸ƒå°”å€¼ã€‚ç”±äºå¸¸é‡åœ¨ç¼–è¯‘æ—¶å°±è¦ç¡®å®šä¸‹æ¥ï¼Œå› æ­¤å®šä¹‰å¸¸é‡çš„è¡¨è¾¾å¼å¿…é¡»æ˜¯&lt;strong&gt;ç¼–è¯‘å™¨å¯ä»¥æ‰§è¡Œ&lt;/strong&gt;çš„å¸¸é‡è¡¨è¾¾å¼ã€‚æ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;1&amp;lt;&amp;lt;3&lt;/code&gt; æ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;math.Sin(math.Pi/4)&lt;/code&gt; ä¸æ˜¯å¸¸é‡è¡¨è¾¾å¼ï¼Œå› ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;math.Sin&lt;/code&gt; åªèƒ½åœ¨è¿è¡Œæ—¶è°ƒç”¨ï¼Œä¸èƒ½åœ¨ç¼–è¯‘æ—¶è°ƒç”¨ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ Go ä¸­ï¼Œæšä¸¾å‹å¸¸é‡ç»å¸¸é€šè¿‡ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;iota&lt;/code&gt; æšä¸¾å™¨æ¥åˆ›å»ºã€‚é‰´äº &lt;code class=&quot;highlighter-rouge&quot;&gt;iota&lt;/code&gt; å¯ä»¥ä½œä¸ºè¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†æ¥ä½¿ç”¨ï¼ŒåŒæ—¶è¡¨è¾¾å¼å¯ä»¥éšå¼åœ°é‡å¤ï¼Œå› æ­¤å¾ˆæ–¹ä¾¿åˆ›å»ºå¤æ‚æšä¸¾å€¼é›†åˆã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ByteSize&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float64&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;           &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;iota&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// ignore first value by assigning to blank identifier&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;KB&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ByteSize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;iota&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;MB&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;GB&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;TB&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;PB&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;EB&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ZB&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;YB&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥ç»™è‡ªå®šä¹‰çš„ä»»ä½•ç±»å‹æ·»åŠ æ–¹æ³•ï¼ˆæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•ï¼‰ï¼Œè¿™ç§èƒ½åŠ›ä½¿å¾—ä»»æ„ç±»å‹çš„å€¼è¢«æ‰“å°æ—¶éƒ½èƒ½å®šä¹‰è‡ªå·±çš„è¾“å‡ºæ ¼å¼ã€‚æœ€å¸¸è§çš„æ˜¯ç»™ç»“æ„ä½“æ·»åŠ æ–¹æ³•ï¼Œä¸è¿‡æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™æ ‡é‡ç±»å‹ï¼ˆæ¯”å¦‚ æµ®ç‚¹ç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;ByteSize&lt;/code&gt;ï¼‰æ·»åŠ æ–¹æ³•ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ByteSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;YB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%.2fYB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;YB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%.2fZB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ZB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;EB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%.2fEB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;EB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%.2fPB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%.2fTB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%.2fGB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%.2fMB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;KB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%.2fKB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;KB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%.2fB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¡¨è¾¾å¼ &lt;code class=&quot;highlighter-rouge&quot;&gt;YB&lt;/code&gt; ä¼šæ‰“å° &lt;code class=&quot;highlighter-rouge&quot;&gt;1.00YB&lt;/code&gt;ï¼Œ è€Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;ByteSize(1e13)&lt;/code&gt; ä¼šæ‰“å° &lt;code class=&quot;highlighter-rouge&quot;&gt;9.09TB&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç é€šè¿‡ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sprintf&lt;/code&gt; æ¥å®ç° &lt;code class=&quot;highlighter-rouge&quot;&gt;ByteSize&lt;/code&gt; çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•æ˜¯å®‰å…¨çš„ï¼ˆä¸å­˜åœ¨ä¸Šä¸€å°èŠ‚æåˆ°çš„å¾ªç¯è°ƒç”¨é—®é¢˜ï¼‰ï¼Œå› ä¸ºä½¿ç”¨äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;%f&lt;/code&gt; æ ¼å¼ç¬¦ï¼Œè€Œå®ƒä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ ¼å¼åŒ–ç¬¦ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;Sprintf&lt;/code&gt; åªåœ¨éœ€è¦å­—ç¬¦ä¸²ç±»å‹çš„æ—¶å€™æ‰ä¼šè°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;%f&lt;/code&gt; æŒ‡å®šçš„æ˜¯æµ®ç‚¹å€¼ï¼Œä¹Ÿå°±è‡ªç„¶è€Œç„¶é¿å…äº†ä¸Šé¢ä»£ç ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Sprintf&lt;/code&gt; æ–¹æ³•åè€…å†è¿›ä¸€æ­¥è§¦å‘ &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•çš„å¾ªç¯è°ƒç”¨é“¾ã€‚&lt;/p&gt;

&lt;h2 id=&quot;variableså˜é‡&quot;&gt;Variablesï¼ˆå˜é‡ï¼‰&lt;/h2&gt;

&lt;p&gt;å¯ä»¥åƒå¸¸é‡é‚£æ ·åˆå§‹åŒ–å˜é‡ï¼Œä½†æ˜¯å˜é‡çš„åˆå§‹åŒ–è¡¨è¾¾å¼å¯ä»¥æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œè®¡ç®—çš„é€šç”¨è¡¨è¾¾å¼ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Getenv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;HOME&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Getenv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;USER&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gopath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Getenv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;GOPATH&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;the-init-functioninit-å‡½æ•°&quot;&gt;The init functionï¼ˆinit å‡½æ•°ï¼‰&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;æ¯ä¸ªæºæ–‡ä»¶&lt;/strong&gt;éƒ½å¯ä»¥å®šä¹‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;init&lt;/code&gt; å‡½æ•°ç”¨æ¥åˆå§‹åŒ–å®ƒéœ€è¦çš„çŠ¶æ€ã€‚ï¼ˆäº‹å®ä¸Šæ¯ä¸ªæ–‡ä»¶å¯ä»¥æœ‰å¤šä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;init&lt;/code&gt; å‡½æ•°ï¼Œè€Œä¸”è¿™äº› &lt;code class=&quot;highlighter-rouge&quot;&gt;init&lt;/code&gt; å‡½æ•°ä¼šæŒ‰åºæ‰§è¡Œï¼Œæ¯”å¦‚ &lt;a href=&quot;https://github.com/chalvern/gosmile/tree/template/db/migration&quot;&gt;gosmile&lt;/a&gt; æ•°æ®åº“è¿ç§»çš„è®¾è®¡å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼‰ã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;init&lt;/code&gt; ä¼šåœ¨åŒ…ä¸­æ‰€æœ‰çš„å˜é‡å£°æ˜è¢«æ‰§è¡Œåå†è°ƒç”¨ï¼Œè€Œä¸”åªåœ¨æ‰€æœ‰è¢«å¯¼å…¥çš„åŒ…åˆå§‹åŒ–ä»¥åæ‰ä¼šè¢«è°ƒç”¨ï¼ˆè¢«å¯¼å…¥çš„åŒ…å…ˆåˆå§‹åŒ–ï¼Œç„¶åå¸¸é‡å’Œå˜é‡è¢«åˆå§‹åŒ–ï¼Œæ¥ç€æ‰æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;init&lt;/code&gt; å‡½æ•°çš„æ‰§è¡Œï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;init&lt;/code&gt; å‡½æ•°å¤§éƒ½æ˜¯ä¸ºäº†åœ¨çœŸå®è¿è¡Œå¼€å§‹å‰æ ¡éªŒæˆ–è€…ä¿®å¤ç¨‹åºçš„çŠ¶æ€ï¼Œé™¤æ­¤å¤–ä¸åº”è¯¥ç”¨ä½œå…¶ä»–çš„ç”¨é€”ã€‚ï¼ˆæ ¹æ®å¼€å‘ç»éªŒï¼Œåœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;init&lt;/code&gt; ä¸­æ·»åŠ è¿‡å¤šçš„é€»è¾‘ä¼šè®©æµ‹è¯•å¾ˆéš¾å†™ï¼‰&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Fatal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;$USER not set&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;home&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;home&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/home/&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gopath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;gopath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;home&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/go&quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// gopath may be overridden by --gopath flag on command line.&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;StringVar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gopath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;gopath&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gopath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;override default GOPATH&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;methodsæ–¹æ³•&quot;&gt;Methodsï¼ˆæ–¹æ³•ï¼‰&lt;/h1&gt;

&lt;h2 id=&quot;pointers-vs-valuesæŒ‡é’ˆä¸å€¼&quot;&gt;Pointers vs. Valuesï¼ˆæŒ‡é’ˆä¸å€¼ï¼‰&lt;/h2&gt;

&lt;p&gt;å°±åƒçœ‹åˆ°çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;ByteSize&lt;/code&gt; é‚£æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ä»»ä½•æœ‰åç§°çš„ç±»å‹ï¼ˆé™¤äº†æŒ‡é’ˆå’Œæ¥å£ï¼‰å®šä¹‰æ–¹æ³•ï¼Œå¹¶ä¸é™å®šå¿…é¡»æ˜¯ç»“æ„ä½“ç±»å‹ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨åˆ‡ç‰‡ä¸€èŠ‚çš„è®¨è®ºä¸­ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;Append&lt;/code&gt; å‡½æ•°ã€‚å…¶å®æˆ‘ä»¬å¯ä»¥æŠŠå®ƒå®šä¹‰ä¸ºåˆ‡ç‰‡çš„ä¸€ä¸ªæ–¹æ³•ã€‚ä¸ºäº†è¾¾æˆè¿™ä¸ªç›®çš„ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦åŸºäºåˆ‡ç‰‡å£°æ˜ä¸€ä¸ªæ–°çš„ç±»å‹ä»è€Œæ–¹ä¾¿æŠŠå‡½æ•°ç»‘å®šåˆ°è¿™ä¸ªç±»å‹ä¸Šï¼Œç„¶åå°±å¯ä»¥å¾ˆè‡ªç„¶åœ°åœ¨åˆ‡ç‰‡çš„å˜é‡ä¸Šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ByteSlice&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ByteSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// Body exactly the same as the Append function defined above.&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç”±äºä¸Šä¸€å°èŠ‚æåˆ°çš„åˆ‡ç‰‡çš„ç‰¹ç‚¹ï¼Œä¸Šé¢çš„æ–¹æ³•ä»ç„¶éœ€è¦è¿”å›æ›´æ–°åçš„åˆ‡ç‰‡ï¼Œå¦åˆ™æ–¹æ³•çš„è°ƒç”¨æ–¹æ˜¯æ„ŸçŸ¥ä¸åˆ°è¿™ç§æ›´æ–°çš„ã€‚ä¸è¿‡æˆ‘ä»¬å¯ä»¥æŠŠæ¥å—è€…æ”¹ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;ByteSlice&lt;/code&gt;çš„&lt;strong&gt;æŒ‡é’ˆ&lt;/strong&gt;ä»è€Œæ”¹è¿›ä¸Šé¢ç¬¨æ‹™çš„å†™æ³•ï¼Œä»è€Œé¿å…æ˜¾å¼åœ°è¿”å›åˆ‡ç‰‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ByteSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// Body as above, without the return.&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å®é™…ä¸Šæˆ‘ä»¬å¯ä»¥åšçš„æ›´å¥½ï¼Œæ¯”å¦‚æ¨¡ä»¿æ ‡å‡†çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Write&lt;/code&gt; æ–¹æ³•ç»§ç»­æ”¹è¿› &lt;code class=&quot;highlighter-rouge&quot;&gt;Append&lt;/code&gt; å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ByteSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// Again as above.&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æ­¤ï¼Œç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;*ByteSlice&lt;/code&gt; å®ç°äº†ä¾¿åˆ©çš„æ ‡å‡†æ¥å£ &lt;code class=&quot;highlighter-rouge&quot;&gt;io.Writer&lt;/code&gt;ã€‚æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ByteSlice&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Fprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;This hour has %d days&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬ä¼ é€’äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;ByteSlice&lt;/code&gt; çš„åœ°å€ï¼Œå› ä¸ºåªæœ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;*ByteSlice&lt;/code&gt; å®ç°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;io.Writer&lt;/code&gt; æ¥å£ã€‚å…³äº&lt;strong&gt;æŒ‡é’ˆæ¥å—è€…å’Œå€¼æ¥å—è€…&lt;/strong&gt;çš„è§„åˆ™æ˜¯ï¼š&lt;strong&gt;å€¼æ–¹æ³•å¯ä»¥åœ¨æŒ‡é’ˆæ¥å—è€…ä¸Šé¢å’Œå€¼æ¥å—è€…ä¸Šé¢è§¦å‘è°ƒç”¨ï¼Œä½†æ˜¯æŒ‡é’ˆæ–¹æ³•åªèƒ½è¢«æŒ‡é’ˆæ¥å—è€…è§¦å‘è°ƒç”¨&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä¹‹æ‰€ä»¥æœ‰ä¸Šé¢çš„è§„åˆ™ï¼Œæ˜¯å› ä¸ºæŒ‡é’ˆæ–¹æ³•å¯ä»¥ä¿®æ”¹æ¥å—è€…ï¼›å¦‚æœåœ¨å€¼æ¥å—è€…ä¸Šé¢è§¦å‘æŒ‡é’ˆæ–¹æ³•ä¼šå¯¼è‡´æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå€¼çš„æ‹·è´ï¼Œä»»ä½•å¯¹è¯¥å€¼çš„ä¿®æ”¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼Œå› æ­¤ Go è¯­è¨€å±‚é¢ä¸Šä¸å…è®¸è¿™ç§é”™è¯¯ã€‚ä¸è¿‡ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç‰¹ä¾‹ã€‚å¦‚æœå€¼æ˜¯å¯å–å€çš„ï¼Œå½“åœ¨ä¸€ä¸ªå€¼ä¸Šè°ƒç”¨æŒ‡é’ˆæ–¹æ³•çš„æ—¶å€™ï¼ŒGo è¯­è¨€ä¼šç…§é¡¾åˆ°è¿™ç§å¸¸è§çš„ç”¨æ³•åœ¨å€¼ä¸Šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªå–å€è¿ç®—ç¬¦ã€‚æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;b&lt;/code&gt; æ˜¯å¯å–å€çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;b.Write&lt;/code&gt; è°ƒç”¨å®ƒçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Write&lt;/code&gt; æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æŠŠå®ƒé‡å†™ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;(&amp;amp;b).Write&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;Age&lt;/span&gt;  &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;u&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SetName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newName&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newName&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newUser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;angel&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newUser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;darling&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;c&quot;&gt;// ç­‰æ•ˆäº&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;darling&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

	&lt;span class=&quot;c&quot;&gt;// ä¸‹é¢çš„ä»£ç ç¼–è¯‘æŠ¥é”™&lt;/span&gt;
	&lt;span class=&quot;c&quot;&gt;// cannot take the address of newUser()go&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;newUser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;darling&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é¡ºä¾¿æä¸€ä¸‹ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;bytes.Buffer&lt;/code&gt; å°±æ˜¯é€šè¿‡åœ¨å­—èŠ‚çš„åˆ‡ç‰‡ä¸Šå®šä¹‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;Write&lt;/code&gt; æ–¹æ³•æ¥å®ç°çš„ã€‚&lt;/p&gt;
</description>
        <pubDate>Sat, 02 Nov 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/11/02/effectivego-init-and-method.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/11/02/effectivego-init-and-method.html</guid>
        
        <category>golang</category>
        
        <category>åŸºç¡€</category>
        
        <category>å®ç”¨</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>ã€ŠåŸæ±åŸå‘³ Go è¯­è¨€å­¦ä¹ ã€‹(7) effective go æ•°æ®éƒ¨åˆ†ï¼šmapã€fmtåŒ…ã€append</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#èµ„æ–™&quot; id=&quot;markdown-toc-èµ„æ–™&quot;&gt;èµ„æ–™&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ•°æ®&quot; id=&quot;markdown-toc-æ•°æ®&quot;&gt;æ•°æ®&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#æ˜ å°„&quot; id=&quot;markdown-toc-æ˜ å°„&quot;&gt;æ˜ å°„&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#æ‰“å°&quot; id=&quot;markdown-toc-æ‰“å°&quot;&gt;æ‰“å°&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#appendè¿½åŠ &quot; id=&quot;markdown-toc-appendè¿½åŠ &quot;&gt;Appendï¼ˆè¿½åŠ ï¼‰&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;èµ„æ–™&quot;&gt;èµ„æ–™&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://golang.google.cn/doc/effective_go.html&quot;&gt;effective go æºæ–‡æ¡£åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/av73511503/&quot;&gt;æœ¬æ–‡çš„è§†é¢‘åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;æ•°æ®&quot;&gt;æ•°æ®&lt;/h1&gt;

&lt;h2 id=&quot;æ˜ å°„&quot;&gt;æ˜ å°„&lt;/h2&gt;
&lt;p&gt;æ˜ å°„ï¼ˆmapï¼‰æ˜¯ä¸€ç§æ—¢æ–¹ä¾¿ä½¿ç”¨åˆåŠŸèƒ½å¼ºå¤§çš„å†…å»ºæ•°æ®ç»“æ„ï¼Œå®ƒæŠŠä¸€ç§ç±»å‹çš„å€¼ï¼ˆé”®ï¼‰å’Œå¦ä¸€ç§ç±»å‹çš„å€¼ï¼ˆå€¼ï¼‰å…³è”èµ·æ¥ã€‚ä»»ä½•å¯ä»¥æ¯”è¾ƒç›¸ç­‰æ€§çš„ç±»å‹éƒ½å¯ä»¥ä½œä¸ºé”®æ¥ä½¿ç”¨ï¼Œæ¯”å¦‚æ•´æ•°ã€æµ®ç‚¹æ•°ã€å¤æ•°ã€å­—ç¬¦ä¸²ã€æŒ‡é’ˆã€åŠ¨æ€ç±»å‹å¯ä»¥åˆ¤å®šç›¸ç­‰æ€§æ¥å£ã€ç»“æ„å’Œæ•°ç»„ã€‚å› ä¸ºä¸¤ä¸ªåˆ‡ç‰‡ä¸èƒ½ç›´æ¥è¿›è¡Œæ¯”è¾ƒï¼Œå› æ­¤ä¸å¯ä»¥æŠŠåˆ‡ç‰‡ä½œä¸ºæ˜ å°„çš„é”®ã€‚å’Œåˆ‡ç‰‡ç±»ä¼¼ï¼Œæ˜ å°„æŒæœ‰åº•å±‚æ•°æ®ç»“æ„çš„å¼•ç”¨ã€‚å½“æŠŠæ˜ å°„ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œå¦‚æœå‡½æ•°ä¿®æ”¹äº†æ˜ å°„é‡Œçš„å†…å®¹ï¼Œå‡½æ•°è°ƒç”¨è€…æ˜¯å¯ä»¥æ„ŸçŸ¥åˆ°çš„ã€‚&lt;/p&gt;

&lt;p&gt;æ˜ å°„å¯ä»¥ä½¿ç”¨æ™®é€šçš„å¤åˆå­—é¢è¯­å¥è¿›è¡Œåˆ›å»ºï¼Œé”®å€¼å¯¹ä¹‹é—´é€šè¿‡é€—å·åˆ†éš”ï¼Œè¯­æ³•ç®€å•ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeZone&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;UTC&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;EST&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;CST&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;MST&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;PST&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»æ˜ å°„ä¸­å­˜å–é”®å€¼å¯¹çš„è¯­æ³•å’Œæ•°ç»„ã€åˆ‡ç‰‡çš„è¯­æ³•ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜ å°„çš„é”®å¯èƒ½æ˜¯æ•´æ•°ä¹‹å¤–çš„ç±»å‹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeZone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;EST&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœå°è¯•è·å–æ˜ å°„ä¸­æ²¡æœ‰çš„é”®å€¼å¯¹ï¼Œå¾—åˆ°çš„æ˜¯æ˜ å°„å€¼çš„ç±»å‹çš„é›¶å€¼ã€‚æ¯”å¦‚ï¼Œå¦‚æœæ˜ å°„çš„å€¼ä¿å­˜çš„æ˜¯æ•´æ•°ï¼ˆç±»ä¼¼ &lt;code class=&quot;highlighter-rouge&quot;&gt;var a map[string]int&lt;/code&gt;)ï¼ŒæŸ¥æ‰¾ä¸å­˜åœ¨çš„é”®å€¼ä¼šç›´æ¥è¿”å› &lt;code class=&quot;highlighter-rouge&quot;&gt;0&lt;/code&gt;ï¼Œä¸ä¼šæŠ›å‡ºä»»ä½•é”™è¯¯ã€‚åŸºäºè¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å€¼ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;bool&lt;/code&gt; ç±»å‹çš„æ˜ å°„å®ç°ä¸€ä¸ªé›†åˆï¼šæŠŠæŸä¸ªé”®çš„å€¼è®¾ç½®ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt; è¡¨ç¤ºå¯¹åº”çš„å€¼æ·»åŠ åˆ°é›†åˆé‡Œé¢äº†ï¼Œä¹‹åå°±å¯ä»¥é€šè¿‡é”®æ¥æ£€æµ‹å®ƒçš„å­˜åœ¨äº†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;attended&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;Ann&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;&quot;Joe&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;attended&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;person&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// will be false if person is not in the map&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;person&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;was at the meeting&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å› ä¸ºåœ¨æ˜ å°„ä¸­ä¸å­˜åœ¨çš„é”®å€¼çš„å€¼æ˜¯é›¶å€¼ï¼Œæœ‰æ—¶å€™å¯èƒ½éœ€è¦åŒºåˆ†â€œé”®ä¸å­˜åœ¨â€è¿˜æ˜¯â€œå¯¹åº”çš„é”®çš„å€¼è¢«è®¾å®šä¸ºé›¶å€¼â€è¿™ä¸¤ç§æƒ…å†µã€‚ä¸Šé¢ &lt;code class=&quot;highlighter-rouge&quot;&gt;timeZone&lt;/code&gt; ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;UTC&lt;/code&gt; çš„å€¼æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;0&lt;/code&gt;ï¼Œæˆ‘ä»¬æ€ä¹ˆåˆ¤å®šæ˜ å°„ä¸­æœ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;UTC&lt;/code&gt; çš„é”®å‘¢ï¼Ÿå½“æˆ‘ä»¬å– &lt;code class=&quot;highlighter-rouge&quot;&gt;timeZone[&quot;UTC&quot;]&lt;/code&gt; æ—¶è¿”å›äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;0&lt;/code&gt; æ˜¯å› ä¸ºå®ƒä¸å­˜åœ¨äºæ˜ å°„ä¸­è¿˜æ˜¯å› ä¸ºå®ƒæœ¬èº«çš„å€¼å°±æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;0&lt;/code&gt;ï¼Ÿæ­¤æ—¶å¯ä»¥é€šè¿‡å¤šå€¼èµ‹å€¼çš„æ–¹å¼æ¥åˆ¤å®šè¿™ç§æƒ…å†µï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seconds&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;seconds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeZone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢å±•ç¤ºçš„æ˜¯ &lt;strong&gt;â€œé€—å·ä¸okâ€&lt;/strong&gt; çš„æƒ¯ç”¨è¯­æ³•ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœ &lt;code class=&quot;highlighter-rouge&quot;&gt;tz&lt;/code&gt; å­˜åœ¨ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;seconds&lt;/code&gt; å°†ä¼šè¢«æ­£ç¡®è®¾ç½®ï¼Œæ­¤æ—¶ &lt;code class=&quot;highlighter-rouge&quot;&gt;ok&lt;/code&gt; çš„å€¼ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt;ï¼›å¦‚æœ &lt;code class=&quot;highlighter-rouge&quot;&gt;tz&lt;/code&gt; ä¸å­˜åœ¨ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;seconds&lt;/code&gt; ä¼šè¢«è®¾ç½®ä¸º 0ï¼Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;ok&lt;/code&gt; ä¼šè¢«è®¾ç½®ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;false&lt;/code&gt;ã€‚ä¸‹é¢çš„å‡½æ•°æŠŠ &lt;strong&gt;â€œé€—å·ä¸okâ€&lt;/strong&gt; çš„ç”¨æ³•å’Œé”™è¯¯æç¤ºç»“åˆåœ¨äº†ä¸€èµ·ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tz&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seconds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeZone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seconds&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;unknown time zone:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœåªæ˜¯æƒ³çŸ¥é“æ˜ å°„ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå…ƒç´ ï¼Œä¸éœ€è¦çŸ¥é“å…·ä½“çš„å€¼ï¼Œå¯ä»¥ç”¨&lt;strong&gt;ç©ºæ ‡è¯†ç¬¦&lt;/strong&gt;æ›¿ä»£æ¥æ”¶å˜é‡ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;present&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeZone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæƒ³åˆ é™¤æ˜ å°„ä¸­çš„æŸä¸ªé”®å€¼å¯¹ï¼Œå¯ä»¥ä½¿ç”¨å†…å»ºå‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;delete&lt;/code&gt; æ¥å®ç°ï¼Œå‚æ•°æ˜¯æ˜ å°„å’Œå°†è¦åˆ é™¤çš„é”®ã€‚è¿™ä¸ªå‡½æ•°å¯ä»¥åœ¨é”®å­˜åœ¨çš„æ—¶å€™è°ƒç”¨ä¹Ÿå¯ä»¥åœ¨é”®ä¸å­˜åœ¨çš„æ—¶å€™è°ƒç”¨ï¼Œå¤šæ¬¡ä¸ä¼šæŠ¥é”™ï¼Œç”¨èµ·æ¥å¾ˆçœå¿ƒ :)&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeZone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;PDT&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// Now on Standard Time&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;æ‰“å°&quot;&gt;æ‰“å°&lt;/h2&gt;

&lt;p&gt;ä¸ºäº†èƒ½æ ¼å¼åŒ–æ‰“å°å†…å®¹ï¼ŒGo æœ‰ä¸€ç»„å’Œ C ä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;printf&lt;/code&gt; ç±»ä¼¼çš„å‡½æ•°ï¼Œè€Œä¸”åŠŸèƒ½æ›´ä¸°å¯Œä¹Ÿæ›´é€šç”¨ã€‚è¿™äº›å‡½æ•°åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt&lt;/code&gt; åŒ…ä¸­ï¼Œåå­—çš„é¦–å­—æ¯éƒ½æ˜¯å¤§å†™çš„ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Printf&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Fprintf&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Sprintf&lt;/code&gt;ï¼Œç­‰ç­‰ã€‚å­—ç¬¦ä¸²å‡½æ•°ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;Sprintf&lt;/code&gt;ç­‰ï¼Œä»¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;S&lt;/code&gt; å¼€å¤´ï¼‰è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä»–å‡½æ•°ä¼šæŠŠå†…å®¹ç›´æ¥å¡«å……åˆ°æŸä¸ªç¼“å†²åŒºé‡Œã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;f&lt;/code&gt; ç»“å°¾çš„å‡½æ•°éƒ½éœ€è¦ä¼ å…¥ä¸€ä¸ªæ ¼å¼åŒ–å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œä¸ºäº†ä½¿ç”¨ä¸Šçš„æ–¹ä¾¿ï¼Œä¹Ÿæœ‰ä¸éœ€è¦æä¾›æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„å‡½æ•°ã€‚å¯¹äº &lt;code class=&quot;highlighter-rouge&quot;&gt;Printf&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;Fprintf&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sprintf&lt;/code&gt; ç­‰å‡½æ•°éƒ½æœ‰å¯¹åº”ä¸éœ€è¦æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;Print&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;Println&lt;/code&gt;ç­‰ï¼Œè¿™å‡ ä¸ªå‡½æ•°ä¼šç»™æ¯ä¸ªå‚æ•°ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„æ ¼å¼ã€‚å…¶ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;Println&lt;/code&gt; ä¼šç»™å‚æ•°ä¹‹é—´æ’å…¥ä¸€ä¸ªç©ºç™½ç¬¦ï¼Œå¹¶ä¸”åœ¨æœ€åçš„è¾“å‡ºè¿½åŠ ä¸€ä¸ªè¡Œå°¾ç¬¦ï¼›&lt;code class=&quot;highlighter-rouge&quot;&gt;Print&lt;/code&gt; å‡½æ•°ä¼šåœ¨&lt;strong&gt;éå­—ç¬¦ä¸²å‚æ•°ä¹‹é—´&lt;/strong&gt;æ·»åŠ ä¸€ä¸ªç©ºç™½ç¬¦ã€‚ä¸‹é¢çš„ä¾‹å­æ¯è¡Œæ‰“å°çš„å†…å®¹éƒ½æ˜¯ä¸€æ ·çš„ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Hello %d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Fprint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Stdout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hello &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Hello &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ ¼å¼åŒ–æ‰“å°å‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Fprint&lt;/code&gt; åŠå…¶ä»–ä»¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;F&lt;/code&gt; å¼€å¤´çš„æ‰“å°å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å®ç°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;io.Writer&lt;/code&gt; æ¥å£çš„ä»»æ„å¯¹è±¡ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;os.Stdout&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;os.Stderr&lt;/code&gt; å°±æ˜¯è¿™æ ·çš„å¯¹è±¡ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œæœ‰ä¸€äº›å’Œ C è¯­è¨€ä¸ä¸€æ ·çš„åœ°æ–¹ã€‚é¦–å…ˆï¼Œæ•°å­—åŒ–æ ¼å¼ç¬¦ï¼ˆæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;%d&lt;/code&gt;ï¼‰ä¸æ¥å—ç¬¦å·ç±»å‹æˆ–å¤§å°ï¼›ç›¸åï¼Œæ‰“å°ä¾‹ç¨‹é€šè¿‡å‚æ•°çš„ç±»å‹æ¥å†³å®šè¿™äº›å±æ€§ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;uint64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d %x; %d %x&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰“å°å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;18446744073709551615 ffffffffffffffff&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœåªæ˜¯æƒ³è¦é»˜è®¤çš„æ ¼å¼è½¬æ¢ï¼Œæ¯”å¦‚æŠŠæ•´æ•°ä½œä¸ºåè¿›åˆ¶æ•°å€¼æ¥æ‰“å°ï¼Œå¯ä»¥ä½¿ç”¨ä¸‡èƒ½æ ¼å¼ç¬¦ &lt;code class=&quot;highlighter-rouge&quot;&gt;%v&lt;/code&gt;ï¼ˆvalue çš„é¦–å­—æ¯ï¼‰ï¼›è¿™ä¹Ÿæ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;Print&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;Println&lt;/code&gt; é»˜è®¤çš„æ‰“å°æ¨¡å¼ã€‚äº‹å®ä¸Šï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;%v&lt;/code&gt; æ ¼å¼ç¬¦å¯ä»¥ç”¨æ¥æ‰“å°ä»»æ„ç±»å‹çš„å€¼ï¼ŒåŒ…å«æ•°ç»„ã€åˆ‡ç‰‡ã€ç»“æ„å’Œ map æ˜ å°„ã€‚ä¸‹é¢çš„ä¾‹å­æ‰“å°äº†ä¹‹å‰å°èŠ‚å®šä¹‰çš„æ—¶åŒºæ˜ å°„å˜é‡ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%v&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeZone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// or just fmt.Println(timeZone)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç ä¼šè¾“å‡ºä¸‹é¢çš„å†…å®¹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;map[CST:-21600 EST:-18000 MST:-25200 PST:-28800 UTC:0]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºæ˜ å°„ï¼Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;Printf&lt;/code&gt; åŠå…¶ä»–ç›¸å…³å‡½æ•°ä¼š&lt;strong&gt;æŒ‰ç…§ç´¢å¼•çš„å­—æ¯æ’åº&lt;/strong&gt;è¿›è¡Œè¾“å‡ºã€‚&lt;/p&gt;

&lt;p&gt;å½“æ‰“å°ç»“æ„ä½“æ—¶ï¼Œæ ¼å¼åŒ–ç¬¦ &lt;code class=&quot;highlighter-rouge&quot;&gt;%+v&lt;/code&gt; è¡¨ç¤ºåŒæ—¶æ‰“å°ç»“æ„ä½“çš„å­—æ®µåå’Œå€¼ï¼›å¯¹äºä»»æ„çš„å€¼ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;%#v&lt;/code&gt; åˆ™ä¼šä»¥ Go è¯­æ³•çš„æ ¼å¼æŠŠå€¼æ‰“å°å‡ºæ¥ï¼Œæ„å‘³ç€æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠæ‰“å°å‡ºæ¥çš„å†…å®¹èµ‹å€¼åˆ°æºç ä¸­ç›´æ¥ä½œä¸ºä»£ç ç‰‡æ®µæ¥ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float64&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;abc&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;def&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%v&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%+v&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%#v&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%#v&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeZone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰“å°å†…å®¹å¦‚ä¸‹ï¼ˆæ³¨æ„ &lt;strong&gt;&amp;amp;&lt;/strong&gt; ç¬¦å·ï¼‰ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.35&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;abc&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.35&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abc&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;abc&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;def&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;CST&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;21600&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;EST&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;MST&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;25200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;PST&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;28800&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;UTC&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å½“éœ€è¦æ‰“å°çš„å€¼æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt; æˆ– &lt;code class=&quot;highlighter-rouge&quot;&gt;[]byte&lt;/code&gt; æ—¶ï¼ŒåŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²æ ¼å¼å¯ä»¥é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;%q&lt;/code&gt; è·å¾—ï¼›è€Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;%#q&lt;/code&gt; ä¼šç»™å­—ç¬¦ä¸²åŠ ä¸Šåå¼•å·ã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;%q&lt;/code&gt; ä¹Ÿå¯ä»¥æ ¼å¼åŒ–æ•´å½¢å’Œç¬¦æ–‡ç±»å‹ï¼Œç”Ÿæˆçš„æ˜¯å•å¼•å·æ‹¬èµ·æ¥çš„ç¬¦æ–‡å¸¸é‡ã€‚ä¸æ­¤åŒæ—¶ï¼Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;%x&lt;/code&gt; å¯ä»¥ä½œç”¨äºå­—ç¬¦ä¸²ã€å­—èŠ‚æ•°ç»„ã€å­—èŠ‚åˆ‡ç‰‡ï¼Œå¦‚æœä¼ å…¥çš„æ˜¯ä¸€ä¸ªæ•´æ•°ä¼šç”Ÿæˆä¸€ä¸ªåå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼›å¦‚æœåŠ ä¸€ä¸ªç©ºæ ¼â€”â€”&lt;code class=&quot;highlighter-rouge&quot;&gt;% x&lt;/code&gt;â€”â€”ä¼šåœ¨æ¯ä¸ªå­—èŠ‚ä¹‹é—´åŠ ä¸€ä¸ªç©ºæ ¼ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;hello ä¸–ç•Œ&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%q&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%#q&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%+q&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%x&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;% x&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%x&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰“å°çš„ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello ä¸–ç•Œ&quot;&lt;/span&gt;
&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;hello ä¸–ç•Œ&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;hello &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\u&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;4e16&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\u&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;754c&quot;&lt;/span&gt;
68656c6c6f20e4b896e7958c
68 65 6c 6c 6f 20 e4 b8 96 e7 95 8c
c
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦ä¸€ä¸ªä½¿ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿çš„æ ¼å¼ç¬¦æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;%T&lt;/code&gt;ï¼Œå®ƒå¯ä»¥æŠŠå€¼çš„ç±»å‹æ‰“å°å‡ºæ¥ã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Printf(&quot;%T\n&quot;, timeZone)&lt;/code&gt; çš„æ‰“å°ç»“æœæ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;map[string]int&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæƒ³æ§åˆ¶è‡ªå®šä¹‰ç±»å‹çš„æ‰“å°æ ¼å¼ï¼Œåªéœ€è¦ç»™ç›¸åº”çš„ç±»å‹å®šä¹‰ä¸€ä¸ªç­¾åä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;String() string&lt;/code&gt; çš„æ–¹æ³•ã€‚å¯¹äºç®€å•ç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;T&lt;/code&gt;ï¼Œå…¶å¯èƒ½çš„æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d/%g/%q&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%v&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç ä¼šæ‰“å°å‡ºä¸‹é¢çš„ç»“æœï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.35&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;abc&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;def&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæƒ³æ‰“å°ç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;T&lt;/code&gt; åŠå…¶æŒ‡é’ˆçš„å€¼ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•çš„æ¥æ”¶è€…å¿…é¡»æ˜¯å€¼ç±»å‹ï¼›ä¸Šé¢çš„ä¾‹å­æ¥å—è€…ä½¿ç”¨äº†æŒ‡é’ˆï¼Œæ˜¯å› ä¸ºå¯¹äºç»“æ„ä½“æ¥è¯´æŒ‡é’ˆæ›´é«˜æ•ˆä¸”æƒ¯ç”¨ã€‚å¯ä»¥æŸ¥çœ‹ã€ŠæŒ‡é’ˆæ¥æ”¶å™¨ä¸å€¼æ¥æ”¶å™¨ã€‹ä¸€èŠ‚äº†è§£æ›´å¤šå†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;è‡ªå®šä¹‰çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; å‡½æ•°é‡Œé¢å¯ä»¥è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sprintf&lt;/code&gt; å‡½æ•°ï¼Œå› ä¸ºæ‰“å°çš„ä¾‹ç¨‹å®Œå…¨å¯é‡å…¥ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ç»†èŠ‚éœ€è¦ç†è§£ï¼šä¸èƒ½åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•é‡Œé¢ä»¥æŸç§æ–¹å¼è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sprintf&lt;/code&gt; å‡½æ•°ï¼Œç„¶å &lt;code class=&quot;highlighter-rouge&quot;&gt;Sprintf&lt;/code&gt; å†è§¦å‘è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; æ–¹æ³•ï¼Œå¦‚æ­¤å¾€å¤å½¢æˆæ­»å¾ªç¯ã€‚å¦‚æœ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sprintf&lt;/code&gt; å°è¯•ä»¥å­—ç¬¦ä¸²çš„å½¢å¼ç›´æ¥æ‰“å°æ¥å—è€…å°±å¯èƒ½ä¼šæ— é™è°ƒç”¨è‡ªå®šä¹‰çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; å‡½æ•°ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MyString&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MyString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;MyString=%s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Error: will recur forever.&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„é—®é¢˜ä¹Ÿå¾ˆå®¹æ˜“ä¿®å¤ï¼šåªéœ€æŠŠå‚æ•°è½¬æ¢ä¸ºåŸºç¡€çš„å­—ç¬¦ä¸²ç±»å‹å³å¯ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MyString&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MyString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;MyString=%s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// OK: note conversion.&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ã€Šåˆå§‹åŒ–ä¸€èŠ‚ã€‹æˆ‘ä»¬è¿˜ä¼šçœ‹åˆ°å¦ä¸€ä¸ªé¿å…è¿™ç§å¾ªç¯è°ƒç”¨çš„æŠ€æœ¯ã€‚&lt;/p&gt;

&lt;p&gt;è¿˜æœ‰ä¸€ç§æ‰“å°ç”¨æ³•æ˜¯æŠŠä¸€ä¸ªæ‰“å°ä¾‹ç¨‹çš„å‚æ•°ç›´æ¥ä¼ ç»™å¦ä¸€ä¸ªç±»ä¼¼çš„ä¾‹ç¨‹ã€‚å‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;Printf&lt;/code&gt; çš„å£°æ˜ä¸­ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;...interface{}&lt;/code&gt; ä½œä¸ºå®ƒçš„æœ€åä¸€ä¸ªå‚æ•°ç±»å‹ï¼Œå› æ­¤å¯ä»¥åœ¨æ ¼å¼å­—ç¬¦ä¸²åé¢ä¼ é€’ä»»æ„æ•°é‡ä»»æ„ç±»å‹çš„å‚æ•°ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;interface&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨å‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;Printf&lt;/code&gt; ä¸­ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;v&lt;/code&gt; å°±åƒæ˜¯ç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;[]interface{}&lt;/code&gt; çš„å€¼ï¼Œå¯ä»¥æŠŠå®ƒä½œä¸ºæ­£å¸¸çš„å‚æ•°åˆ—è¡¨ä¼ é€’ç»™å¦ä¸€ä¸ªä¸å®šå‚æ•°çš„å‡½æ•°ã€‚ä¸‹é¢çš„ä»£ç æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;log.Println&lt;/code&gt; çš„ä¸€ç§å®ç°ï¼Œå®ƒæŠŠè‡ªå·±çš„å‚æ•°ä¼ ç»™äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Sprintln&lt;/code&gt; è¿›è¡Œå®é™…çš„æ ¼å¼è¾“å‡ºã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Println prints to the standard logger in the manner of fmt.Println.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;interface&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintln&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// Output takes parameters (int, string)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ä¸Šé¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œè°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sprintln&lt;/code&gt; æ—¶åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;v&lt;/code&gt; åæ·»åŠ äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;...&lt;/code&gt; ä»è€ŒæŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;v&lt;/code&gt; ä½œä¸ºä¸€ä¸ªå‚æ•°åˆ—è¡¨ä¼ å…¥ï¼›å¦‚æœæ²¡æœ‰è¿™ä¸‰ä¸ªç‚¹ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;v&lt;/code&gt; ä¼šä½œä¸ºä¸€ä¸ªåˆ‡ç‰‡ç±»å‹çš„å€¼ä¼ é€’ç»™ &lt;code class=&quot;highlighter-rouge&quot;&gt;Sprintln&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¯ä»¥æŸ¥çœ‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;godoc&lt;/code&gt; ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt&lt;/code&gt; çš„æ–‡æ¡£äº†è§£æ›´å¤šæ‰“å°ç›¸å…³çš„å†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;é¡ºä¾¿æä¸€å¥ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;...&lt;/code&gt; å‚æ•°å¯ä»¥ä½œä¸ºä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹ï¼Œæ¯”å¦‚æŸ¥æ‰¾æœ€å°å€¼çš„å‡½æ•°å¯ä»¥ä¼ å…¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;...int&lt;/code&gt; ç±»å‹çš„å‚æ•°ï¼Œç„¶åé€‰æ‹©åˆ—è¡¨ä¸­æœ€å°çš„æ•´æ•°ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;uint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// largest int&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;appendè¿½åŠ &quot;&gt;Appendï¼ˆè¿½åŠ ï¼‰&lt;/h2&gt;

&lt;p&gt;æ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­èŠå†…å»ºå‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;append&lt;/code&gt; çš„ç›¸å…³å†…å®¹ã€‚å†…å»ºå‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;append&lt;/code&gt; çš„å£°æ˜æ–¹å¼å’Œæˆ‘ä»¬ä¸Šé¢è‡ªå®šä¹‰çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Append&lt;/code&gt; å‡½æ•°ä¸åŒï¼Œå¦‚ä¸‹é¢çš„å½¢å¼ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;elements&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œçš„ &lt;em&gt;T&lt;/em&gt; æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œç”¨æ¥è¡¨ç¤ºä»»æ„ç»™å®šçš„ç±»å‹ã€‚å®é™…ä¸Šï¼Œåœ¨ Go è¯­è¨€ä¸­æˆ‘ä»¬ä¸èƒ½å†™å¸¦æ³›å‹çš„å‡½æ•°ï¼Œè¿™ä¹Ÿæ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;append&lt;/code&gt; æ˜¯å†…å»ºå‡½æ•°çš„åŸå› â€”â€”å®ƒéœ€è¦ç¼–è¯‘å™¨å±‚é¢çš„æ”¯æŒã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;append&lt;/code&gt; åšçš„äº‹æƒ…æ˜¯åœ¨ä¸€ä¸ªåˆ‡ç‰‡çš„å°¾éƒ¨è¿½åŠ å…ƒç´ ï¼Œç„¶åè¿”å›è¿½åŠ ä»¥åçš„ç»“æœã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;append&lt;/code&gt; å‡½æ•°å¿…é¡»è¦è¿”å›ç»“æœï¼ŒåŸå› å°±åƒæˆ‘ä»¬æ‰‹å†™çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Append&lt;/code&gt; å‡½æ•°ä¸€æ ·ï¼Œåœ¨è¿½åŠ è¿‡ç¨‹ä¸­ï¼Œåˆ‡ç‰‡åº•å±‚çš„æ•°ç»„å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ­¤æ—¶å¿…é¡»é€šè¿‡è¿”å›ç»“æœæ¥é€šçŸ¥è¿™ç§å˜åŒ–ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ä¾‹å­æ‰“å°å‡º &lt;code class=&quot;highlighter-rouge&quot;&gt;[1 2 3 4 5 6]&lt;/code&gt;ã€‚ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥è®¤ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;append&lt;/code&gt; çš„ä¼ å‚æ–¹å¼å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;Printf&lt;/code&gt; æœ‰ç‚¹åƒï¼Œå¯ä»¥ä¼ å…¥ä»»æ„å¤šæ•°ç›®çš„å‚æ•°ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæƒ³ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;append&lt;/code&gt; å‡½æ•°æŠŠä¸€ä¸ªåˆ‡ç‰‡è¿½åŠ åˆ°å¦ä¸€ä¸ªåˆ‡ç‰‡åé¢ï¼Œå¿…é¡»ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;...&lt;/code&gt; è¿ç®—ç¬¦ï¼Œç±»ä¼¼ä¸Šé¢ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;Output&lt;/code&gt; å±•ç¤ºçš„ç”¨æ³•ã€‚ä¸‹é¢çš„ä»£ç è¾“å‡ºçš„å†…å®¹å’Œä¸Šé¢çš„ä»£ç è¾“å‡ºçš„å†…å®¹æ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœä¸å¸¦ &lt;code class=&quot;highlighter-rouge&quot;&gt;...&lt;/code&gt;ï¼Œä»£ç æ²¡æœ‰åŠæ³•ç¼–è¯‘é€šè¿‡ï¼Œå› ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;y&lt;/code&gt; çš„ç±»å‹æ˜¯ä¸€ä¸ªåˆ‡ç‰‡è€Œä¸æ˜¯éœ€è¦çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;int&lt;/code&gt;ã€‚&lt;/p&gt;
</description>
        <pubDate>Sat, 26 Oct 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/10/26/effectivego-map-fmt-append.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/10/26/effectivego-map-fmt-append.html</guid>
        
        <category>golang</category>
        
        <category>åŸºç¡€</category>
        
        <category>å®ç”¨</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>ã€ŠåŸæ±åŸå‘³ Go è¯­è¨€å­¦ä¹ ã€‹(6) effective go æ•°æ®éƒ¨åˆ†ï¼šnewä¸makeã€æ•°ç»„ä¸åˆ‡ç‰‡</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#èµ„æ–™&quot; id=&quot;markdown-toc-èµ„æ–™&quot;&gt;èµ„æ–™&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#åˆ†é…å™¨-new&quot; id=&quot;markdown-toc-åˆ†é…å™¨-new&quot;&gt;åˆ†é…å™¨ new&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ„é€ å‡½æ•°ä¸å¤åˆå­—é¢è¯­å¥&quot; id=&quot;markdown-toc-æ„é€ å‡½æ•°ä¸å¤åˆå­—é¢è¯­å¥&quot;&gt;æ„é€ å‡½æ•°ä¸å¤åˆå­—é¢è¯­å¥&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#åˆ†é…å™¨-make&quot; id=&quot;markdown-toc-åˆ†é…å™¨-make&quot;&gt;åˆ†é…å™¨ make&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ•°ç»„&quot; id=&quot;markdown-toc-æ•°ç»„&quot;&gt;æ•°ç»„&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#åˆ‡ç‰‡&quot; id=&quot;markdown-toc-åˆ‡ç‰‡&quot;&gt;åˆ‡ç‰‡&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ä¸¤ç»´åˆ‡ç‰‡&quot; id=&quot;markdown-toc-ä¸¤ç»´åˆ‡ç‰‡&quot;&gt;ä¸¤ç»´åˆ‡ç‰‡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;èµ„æ–™&quot;&gt;èµ„æ–™&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://golang.google.cn/doc/effective_go.html&quot;&gt;effective go æºæ–‡æ¡£åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/av71749968/&quot;&gt;æœ¬æ–‡çš„è§†é¢‘åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;åˆ†é…å™¨-new&quot;&gt;åˆ†é…å™¨ new&lt;/h2&gt;

&lt;p&gt;Go è¯­è¨€æœ‰ä¸¤ä¸ªå¯ä»¥åˆ†é…å†…å­˜çš„å‘½ä»¤ï¼Œåˆ†åˆ«æ˜¯å†…å»ºçš„å‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt;ã€‚ä»–ä»¬åšçš„äº‹æƒ…ä¸ä¸€æ ·ï¼Œèƒ½åˆ†é…çš„ç±»å‹ä¹Ÿä¸ä¸€æ ·ï¼Œå¾ˆå®¹æ˜“ææ··ï¼Œä¸è¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt; çš„ä½¿ç”¨è§„åˆ™è¿˜ç®—å®¹æ˜“è®°ä½ã€‚è¿™ä¸€å°èŠ‚é¦–å…ˆè®¨è®º &lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt; å‡½æ•°ã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt; æ˜¯ä¸€ä¸ªç”¨æ¥åˆ†é…å†…å­˜çš„å†…å»ºå‡½æ•°ï¼Œä½†æ˜¯å’Œå…¶ä»–è¯­è¨€ä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt; å‡½æ•°ä¸åŒï¼ŒGo è¯­è¨€ä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt; å‡½æ•°åªæŠŠå†…å­˜å—å…¨éƒ¨ç½®é›¶ï¼Œé™¤æ­¤ä¹‹å¤–ä¸åšä»»ä½•å…¶ä»–çš„åˆå§‹åŒ–æ“ä½œã€‚æ¢å¥è¯è¯´ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;new(T)&lt;/code&gt; ç»™ç±»å‹ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;T&lt;/code&gt; çš„å®ä½“åˆ†é…ä¸€å—å…¨æ˜¯ 0 çš„å†…å­˜ï¼Œç„¶åè¿”å›è¿™å—å†…å­˜çš„åœ°å€ï¼ˆè¿”å›å€¼çš„ç±»å‹ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;*T&lt;/code&gt;ï¼‰ã€‚åœ¨ Go è¯­è¨€çš„æœ¯è¯­é‡Œï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt; è¿”å›ç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;T&lt;/code&gt; çš„æŒ‡é’ˆï¼Œå¹¶ä¸”è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘çš„æ˜¯ä¸€å—ç±»å‹ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;T&lt;/code&gt; çš„å…¨é›¶å€¼å†…å­˜ã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt; è¿”å›çš„æ˜¯å…¨é›¶å€¼çš„å†…å­˜åœ°å€ï¼Œå› æ­¤å¦‚æœä½ çš„æ•°æ®ç»“æ„å¯ä»¥ç›´æ¥ä½¿ç”¨å†…å­˜é‡Œçš„è¿™äº›é›¶å€¼ï¼ˆä¸éœ€è¦å…¶ä»–çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼‰ï¼Œä½¿ç”¨ new å°±å¾ˆæ–¹ä¾¿ï¼›è¿™æ„å‘³ç€é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt; åˆ›å»ºå®Œå®ä¾‹é©¬ä¸Šå°±å¯ä»¥ç”¨å®ƒå¹²æ´»äº†ï¼ˆä¸éœ€è¦å…¶ä»–çš„æ“ä½œï¼‰ã€‚æ¯”å¦‚ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;bytes.Buffer&lt;/code&gt; çš„æ–‡æ¡£ä¸­å°±æ³¨æ˜äº†ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;Buffer&lt;/code&gt; çš„é›¶å€¼æ˜¯ä¸€ä¸ªå¯ä»¥ç›´æ¥ä½¿ç”¨çš„ç©ºç¼“å­˜ã€‚åŒæ ·çš„ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;sync.Mutex&lt;/code&gt; è¿™ä¸ªç»“æ„ä½“å¹¶æ²¡æœ‰æ˜¾å¼çš„æ„é€ å™¨ä¹Ÿæ²¡æœ‰ç›¸å…³çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Init&lt;/code&gt; å‡½æ•°ï¼Œå› ä¸ºå®ƒçš„é›¶å€¼å°±æ˜¯ä¸€ä¸ªæ²¡æœ‰ä¸Šé”çš„äº’æ–¥é”ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â€œé›¶å€¼å³å¯ç”¨â€&lt;/strong&gt; çš„å±æ€§åœ¨å·¥ç¨‹ä¸Šå¾ˆæœ‰å®è·µæ„ä¹‰ã€‚è€ƒè™‘ä¸‹é¢çš„ç±»å‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SyncedBuffer&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Mutex&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;bytes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Buffer&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;SyncedBuffer&lt;/code&gt; ç±»å‹çš„å€¼ä¸€æ—¦å£°æ˜ï¼ˆè¢«åˆ†é…åˆ°å†…å­˜ï¼‰å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œä¸éœ€è¦ç­‰å…¶ä»–çš„åˆå§‹åŒ–æ“ä½œã€‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µé‡Œï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;p&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;v&lt;/code&gt; éƒ½å¯ä»¥ç›´æ¥å·¥ä½œï¼Œ&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SyncedBuffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// type *SyncedBuffer&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SyncedBuffer&lt;/span&gt;      &lt;span class=&quot;c&quot;&gt;// type  SyncedBuffer&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;æ„é€ å‡½æ•°ä¸å¤åˆå­—é¢è¯­å¥&quot;&gt;æ„é€ å‡½æ•°ä¸å¤åˆå­—é¢è¯­å¥&lt;/h2&gt;

&lt;p&gt;æœ‰æ—¶å€™ç±»å‹çš„é›¶å€¼ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œè¿™æ—¶å€™å°±éœ€è¦æ„é€ å‡½æ•°äº†ï¼Œæ¯”å¦‚ä¸‹é¢ä» &lt;code class=&quot;highlighter-rouge&quot;&gt;os&lt;/code&gt; åŒ…é‡ŒæŠ½å–å‡ºæ¥çš„ä¾‹å­ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NewFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;File&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirinfo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nepipe&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç æ˜¾å¾—å¾ˆå†—é•¿å¾ˆå•°å—¦ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;strong&gt;å¤åˆå­—é¢è¯­å¥&lt;/strong&gt;æ¥ç®€åŒ–å®ƒã€‚&lt;strong&gt;å¤åˆå­—é¢è¯­å¥&lt;/strong&gt;åœ¨æ¯æ¬¡æ‰§è¡Œçš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NewFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;File&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥æ³¨æ„åˆ°ï¼ŒGo è¯­è¨€ä¸­çš„å‡½æ•°å¯ä»¥è¿”å›ä¸´æ—¶å˜é‡çš„åœ°å€ï¼ˆè¿™ä¸€ç‚¹ä¸ C è¯­è¨€ä¸åŒï¼‰ï¼›ä¸´æ—¶å˜é‡è¢«å‡½æ•°è¿”å›åï¼Œå®ƒå¯¹åº”çš„å†…å­˜ä¼šè¢«ä¿ç•™ï¼ˆä¸ä¼šè¢«ç«‹å³å›æ”¶æ‰ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥å±€éƒ¨å˜é‡å¯¹åº”çš„æ•°æ®åœ¨å‡½æ•°è¿”å›åä¾ç„¶æœ‰æ•ˆã€‚å®é™…ä¸Šï¼Œæ¯å½“å–ä¸€ä¸ªå¤åˆå­—é¢è¯­å¥çš„åœ°å€çš„æ—¶å€™ï¼Œéƒ½ä¼šä¸ºä¸€ä¸ªæ–°å¯¹è±¡åˆ†é…å†…å­˜ï¼Œå› æ­¤å¯ä»¥è¿›ä¸€æ­¥æŠŠä¸Šé¢çš„ä»£ç çš„æœ€åä¸¤è¡Œæ”¹å†™æˆ:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚ä¸Šé¢æ‰€ç¤ºçš„æ ·å¼ï¼Œå¤åˆå­—é¢è¯­å¥çš„å­—æ®µå¿…é¡»è¦æŒ‰å®šä¹‰æ—¶çš„é¡ºåº&lt;strong&gt;ä¾æ¬¡&lt;/strong&gt;ã€ä¸”&lt;strong&gt;å…¨éƒ¨&lt;/strong&gt;ç»™å‡ºæ¥ã€‚ä¸è¿‡ï¼Œå¦‚æœé€šè¿‡ &lt;strong&gt;â€œå­—æ®µ : å€¼â€&lt;/strong&gt; çš„å½¢å¼æ˜¾å¼åœ°æŒ‡å®šå…ƒç´ å€¼ï¼Œå°±å¯ä»¥ä»¥ä»»æ„é¡ºåºä¼ å…¥å€¼äº†ï¼Œæ­¤æ—¶å¦‚æœæœ‰å­—æ®µä¸æŒ‡å®šé»˜è®¤å€¼å°±ä¼šè¢«è®¾ç½®ä¸ºå¯¹åº”çš„é›¶å€¼ï¼Œå› æ­¤ä¸Šé¢çš„ä»£ç è¿˜å¯ä»¥ç®€åŒ–ä¸ºï¼ˆåªæœ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;fd&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;name&lt;/code&gt; ä¸¤ä¸ªå­—æ®µï¼Œå› ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;dirinfo&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;nepipe&lt;/code&gt; å‡ä¸ºé›¶å€¼ï¼‰ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½œä¸ºä¸€ç§é™å®šï¼Œå¦‚æœå¤åˆå­—é¢è¡¨è¾¾å¼ä¸­ä¸åŒ…å«ä»»ä½•çš„å­—æ®µï¼Œå®ƒä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªé›¶å€¼çš„å®ä¾‹ï¼Œæ­¤æ—¶ &lt;code class=&quot;highlighter-rouge&quot;&gt;new(File)&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;File{}&lt;/code&gt; å°±æ˜¯ç­‰ä»·çš„ã€‚&lt;/p&gt;

&lt;p&gt;é™¤äº†ç»“æ„ä½“ï¼Œè¿˜å¯ä»¥é€šè¿‡å¤åˆå­—é¢è¯­å¥æ¥åˆ›å»ºæ•°ç»„ã€åˆ‡ç‰‡ã€æ˜ å°„ï¼ˆmapï¼‰ï¼Œè¿™ä¸ªæ—¶å€™ &lt;strong&gt;â€œå­—æ®µæ ‡ç­¾â€&lt;/strong&gt; å°±å˜æˆäº†åˆ‡ç‰‡çš„ç´¢å¼•æˆ–è€…æ˜ å°„çš„é”®ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œåªè¦ &lt;code class=&quot;highlighter-rouge&quot;&gt;Enone&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;Eio&lt;/code&gt;, å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;Einval&lt;/code&gt;å€¼ä¸ä¸€æ ·ï¼Œéƒ½å¯ä»¥è¿›è¡Œæ­£å¸¸çš„åˆå§‹åŒ–ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// å¯ä»¥å®šä¹‰ä¸‹é¢çš„å¸¸é‡ï¼Œæ­¤æ—¶&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// a è¢«åˆå§‹åŒ–ä¸ºé•¿åº¦ä¸º 31 çš„æ•°ç»„ï¼Œ&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// s è¢«åˆå§‹åŒ–ä¸ºé•¿åº¦ 31 çš„åˆ‡ç‰‡&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// m è¢«åˆå§‹åŒ–ä¸ºé•¿åº¦ä¸º 3 çš„æ˜ å°„ï¼ˆmapï¼‰&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// const (&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// 	Enone  = 1&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// 	Eio    = 2&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// 	Einval = 30&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// )&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Enone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;no error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Eio&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Eio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Einval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;invalid argument&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;      &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Enone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;no error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Eio&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Eio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Einval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;invalid argument&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Enone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;no error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Eio&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Eio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Einval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;invalid argument&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;åˆ†é…å™¨-make&quot;&gt;åˆ†é…å™¨ make&lt;/h2&gt;

&lt;p&gt;ç»§ç»­å†…å­˜åˆ†é…çš„è¯é¢˜ã€‚å†…å»ºå‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;make(T, args)&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;new(T)&lt;/code&gt; ä¸ä¸€æ ·ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt; å‡½æ•°&lt;strong&gt;åªèƒ½&lt;/strong&gt;ç”¨æ¥åˆ›å»ºåˆ‡ç‰‡ã€æ˜ å°„ï¼ˆmapï¼‰ å’Œ ä¿¡é“ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªè¢«åˆå§‹åŒ–ã€ç±»å‹ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;T&lt;/code&gt; çš„å€¼ï¼ˆå†…å­˜ä¸æ˜¯å…¨é›¶ï¼‰ã€‚é€ æˆè¿™ç§åŒºåˆ«çš„åŸå› æ˜¯ï¼Œåˆ‡ç‰‡ã€æ˜ å°„å’Œä¿¡é“ è¿™ä¸‰ä¸ªç±»å‹çš„æ•°æ®åº•å±‚å¼•ç”¨äº†å…¶ä»–çš„æ•°æ®ç»“æ„ï¼Œè€Œè¿™äº›åº•å±‚çš„æ•°æ®ç»“æ„åœ¨ä½¿ç”¨å‰å¿…é¡»å…ˆåˆå§‹åŒ–æ‰å¯ä»¥å·¥ä½œã€‚æ¯”å¦‚ï¼Œåˆ‡ç‰‡æ˜¯ä¸€ä¸ª&lt;strong&gt;åŒ…å«ä¸‰ä¸ªç»„ä»¶&lt;/strong&gt;çš„æè¿°ç¬¦ï¼ŒåŒ…å«æŒ‡å‘å…·ä½“æ•°æ®çš„æŒ‡é’ˆï¼ˆæŒ‡å‘æ•°ç»„ï¼‰ã€åˆ‡ç‰‡é•¿åº¦ã€åˆ‡ç‰‡å®¹é‡ã€‚åœ¨è¿™äº›ç»„ä»¶è¢«åˆå§‹åŒ–ä¹‹å‰ï¼Œåˆ‡ç‰‡çš„å€¼æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;ã€‚å¯¹äºåˆ‡ç‰‡ã€æ˜ å°„ã€ä¿¡é“æ¥è¯´ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt; åˆå§‹åŒ–äº†ä»–ä»¬åº•å±‚çš„æ•°æ®ç»“æ„ç»§è€Œä»–ä»¬çš„å€¼æ‰å¯ä»¥ä½¿ç”¨ã€‚æ¯”å¦‚ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„è¯­å¥åˆå§‹åŒ–äº†ä¸€ä¸ªåŒ…å« 100 ä¸ªæ•´æ•°çš„&lt;strong&gt;æ•°ç»„&lt;/strong&gt;ï¼ŒåŒæ—¶åˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦ä¸º 10ã€å®¹é‡ä¸º 100 ã€æŒ‡å‘&lt;strong&gt;è¿™ä¸ªæ•°ç»„&lt;/strong&gt; çš„å‰ 10 ä¸ªå…ƒç´ çš„åˆ‡ç‰‡ï¼ˆå½“åˆ›å»ºåˆ‡ç‰‡çš„æ—¶å€™ï¼Œå…¶å®¹é‡æ˜¯å¯ä»¥çœç•¥çš„ï¼Œå¯åˆ°â€œåˆ‡ç‰‡å°èŠ‚â€æŸ¥çœ‹æ›´å¤šå†…å®¹ï¼‰ã€‚ä½œä¸ºå¯¹æ¯”ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;new([]int)&lt;/code&gt; è¿”å›äº†ä¸€ä¸ªæ–°åˆ›å»ºä¸”è¢«ç½®é›¶çš„åˆ‡ç‰‡çš„æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘çš„æ˜¯å€¼ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt; çš„åˆ‡ç‰‡å€¼ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹é¢çš„ä¾‹å­æè¿°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt; ä¹‹é—´çš„åŒºåˆ«ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;       &lt;span class=&quot;c&quot;&gt;// allocates slice structure; *p == nil; rarely useful&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// the slice v now refers to a new array of 100 ints&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// Unnecessarily complex:&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// Idiomatic:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è®°ä½&lt;/strong&gt;ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt; åªå¯ä»¥ä½œç”¨äº åˆ‡ç‰‡ã€æ˜ å°„å’Œä¿¡é“ï¼Œå¹¶ä¸”è¿”å›çš„ä¸æ˜¯æŒ‡é’ˆã€‚å¦‚æœæƒ³å¾—åˆ°æŒ‡é’ˆï¼Œå¯ä»¥ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;new&lt;/code&gt; å‡½æ•°ï¼Œæˆ–è€…æ˜¾å¼åœ°å–å˜é‡çš„åœ°å€è·å¾—ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ•°ç»„&quot;&gt;æ•°ç»„&lt;/h2&gt;

&lt;p&gt;åœ¨è®¾è®¡å†…å­˜å¸ƒå±€ç»†èŠ‚çš„æ—¶å€™ä½¿ç”¨&lt;strong&gt;æ•°ç»„&lt;/strong&gt;å¯èƒ½ä¼šå¾ˆæ–¹ä¾¿ï¼Œæœ‰æ—¶å€™æ•°ç»„è¿˜å¯ä»¥é¿å…å¤šä½™çš„å†…å­˜åˆ†é…è¿‡ç¨‹ï¼›ä¸è¿‡åœ¨ Go è¯­è¨€ä¸­æ•°ç»„çš„ä¸»è¦ä½œç”¨æ˜¯ç»™åˆ‡ç‰‡æä¾›åº•å±‚çš„æ•°æ®å—ï¼Œåˆ«æ€¥ï¼Œä¸‹ä¸€å°èŠ‚è®²çš„å°±æ˜¯åˆ‡ç‰‡çš„å†…å®¹ã€‚ä¸ºäº†ç»™è®²åˆ‡ç‰‡åšé“ºå«ï¼Œè¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹æ•°ç»„ï¼š&lt;/p&gt;

&lt;p&gt;å¯¹äº Go å’Œ C æ¥è¯´ï¼Œæ•°ç»„çš„ä¸»è¦åŒºåˆ«è¡¨ç°åœ¨å®ƒçš„å·¥ä½œæ–¹å¼ã€‚åœ¨ Go è¯­è¨€ä¸­ï¼Œ&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ•°ç»„æ˜¯å€¼ï¼›å¦‚æœæŠŠä¸€ä¸ªæ•°ç»„èµ‹å€¼ç»™å¦ä¸€ä¸ªæ•°ç»„ä¼šæŠŠæ‰€æœ‰çš„å…ƒç´ å¤åˆ¶ä¸€ä»½ï¼›&lt;/li&gt;
  &lt;li&gt;å¦‚æœä¸€ä¸ªå‡½æ•°çš„å‚æ•°æ˜¯æ•°ç»„ï¼Œè°ƒç”¨å‡½æ•°çš„æ—¶å€™å¾—åˆ°çš„æ˜¯æ•°ç»„çš„å®Œå…¨æ‹·è´è€Œä¸æ˜¯æ•°ç»„çš„æŒ‡é’ˆï¼›&lt;/li&gt;
  &lt;li&gt;æ•°ç»„çš„å¤§å°å±äºæ•°ç»„çš„ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;[10]int&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;[20]int&lt;/code&gt; ä¸ä¸€æ ·ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¼ æ•°å€¼çš„ç‰¹æ€§å¯èƒ½å¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯åº”ç”¨çš„ä»£ä»·ä¹Ÿå¯èƒ½å¾ˆé«˜ï¼›å¦‚æœæƒ³å¾—åˆ° C è¯­è¨€ä¸­çš„æ•°ç»„é‚£æ ·çš„ç”¨æ³•å’Œæ•ˆç‡ï¼Œå¯ä»¥åœ¨ Go ä¸­ä½¿ç”¨æ•°ç»„çš„æŒ‡é’ˆï¼Œå¦‚ä¸‹é¢çš„ç¤ºä¾‹ä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;9.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// Note the explicit address-of operator&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;ä½†æ˜¯åœ¨ Go ä¸­è¿™ç§é£æ ¼çš„ä½¿ç”¨å¾ˆä¸å¸¸è§ï¼Œæ›´å¤šæƒ…å†µæ˜¯ä½¿ç”¨åˆ‡ç‰‡æ¥æ¨¡ä»¿ç±»ä¼¼çš„è¡Œä¸ºã€‚&lt;/p&gt;

&lt;h2 id=&quot;åˆ‡ç‰‡&quot;&gt;åˆ‡ç‰‡&lt;/h2&gt;
&lt;p&gt;åˆ‡ç‰‡å°è£…äº†æ•°ç»„ï¼Œå¹¶ä¸ºæ“ä½œæ•°æ®åºåˆ—æä¾›äº†æ›´é€šç”¨ã€æ›´æœ‰æ•ˆã€ä¹Ÿæ›´æ–¹ä¾¿çš„æ“ä½œæ¥å£ï¼ˆæ–¹æ³•ï¼‰ã€‚é™¤äº†å…·æœ‰æ˜ç¡®ç»´æ•°çš„åœºæ™¯ï¼ˆæ¯”å¦‚çº¿æ€§ä»£æ•°ä¸­çš„å˜æ¢çŸ©é˜µï¼‰ï¼Œæ•°ç»„ç›¸å…³çš„æ“ä½œï¼Œåœ¨ Go ä¸­å¤§éƒ¨åˆ†æƒ…å†µä¼šä½¿ç”¨åˆ‡ç‰‡ï¼Œè€Œä¸ä¼šä½¿ç”¨æ•°ç»„ã€‚&lt;/p&gt;

&lt;p&gt;åˆ‡ç‰‡ä¿å­˜äº†åº•å±‚æ•°ç»„çš„å¼•ç”¨ï¼Œå¦‚æœæŠŠä¸€ä¸ªåˆ‡ç‰‡èµ‹å€¼ç»™å¦ä¸€ä¸ªåˆ‡ç‰‡ï¼Œè¿™ä¸¤ä¸ªåˆ‡ç‰‡ä¼šæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ã€‚å¦‚æœå‡½æ•°æŠŠåˆ‡ç‰‡ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œç„¶ååœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹äº†åˆ‡ç‰‡çš„æŸä¸ªå…ƒç´ ï¼Œå‡½æ•°çš„è°ƒç”¨è€…å°†ä¼šæ„ŸçŸ¥åˆ°è¿™ç§å˜åŒ–ï¼Œå…¶æ•ˆæœå°±å¥½åƒæ˜¯ä¼ å…¥äº†æ•°ç»„çš„æŒ‡é’ˆä¸€æ ·ã€‚å› æ­¤ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;Read&lt;/code&gt; å‡½æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ªåˆ‡ç‰‡ç±»å‹çš„å‚æ•°ï¼Œè¿™æ ·å°±èƒ½é¿å…ä¼ å…¥ä¸€ä¸ªæŒ‡é’ˆå˜é‡å’Œä¸€ä¸ªè¡¨ç¤ºæ•°é‡çš„å˜é‡ï¼›å¯¹åˆ‡ç‰‡è€Œè¨€ï¼Œåˆ‡ç‰‡çš„é•¿åº¦æ˜¯æŒ‡èƒ½å¤Ÿè¯»å–çš„å…ƒç´ çš„æœ€å¤§æ•°é‡ã€‚ä¸‹é¢æ˜¯åŒ… &lt;code class=&quot;highlighter-rouge&quot;&gt;os&lt;/code&gt; ä¸­ç±»å‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;File&lt;/code&gt; çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Read&lt;/code&gt; æ–¹æ³•çš„å£°æ˜ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buf&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Read&lt;/code&gt; æ–¹æ³•è¿”å›ä¸€ä¸ªè¯»å–çš„å­—èŠ‚æ•°é‡å’Œä¸€ä¸ªé”™è¯¯å€¼ï¼ˆå­˜åœ¨é”™è¯¯çš„æƒ…å†µï¼‰ã€‚å¦‚æœæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼“å­˜ &lt;code class=&quot;highlighter-rouge&quot;&gt;buf&lt;/code&gt; ï¼Œä½†æ˜¯åªæƒ³è¯»å–å®ƒå‰ 32 ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;buf&lt;/code&gt; &lt;strong&gt;åˆ‡&lt;/strong&gt;ä¸€éƒ¨åˆ†å‡ºæ¥ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™ç§åˆ‡ç‰‡çš„æ–¹å¼å¾ˆå¸¸è§ä¸”å¾ˆé«˜æ•ˆã€‚å¦‚æœä¸è€ƒè™‘æ•ˆç‡ï¼Œä¸‹é¢çš„ä»£ç ä¹Ÿå¯ä»¥è¯»å–ç¼“å­˜çš„å‰ 32 ä¸ªå­—èŠ‚ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;error&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;nbytes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// Read one byte.&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nbytes&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nbytes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å› ä¸ºåˆ‡ç‰‡é‡Œçš„æ•°æ®ä¸»è¦ä¿å­˜åœ¨åº•å±‚æ•°ç»„é‡Œï¼Œè€Œæ•°ç»„ä¸€æ—¦å£°æ˜åå…¶é•¿åº¦æ˜¯æ— æ³•æ”¹å˜çš„ï¼Œå› æ­¤åªè¦ä¸è¶…å‡ºåº•å±‚æ•°ç»„çš„å®¹é‡ï¼Œåˆ‡ç‰‡çš„é•¿åº¦å¯ä»¥ä»»æ„æ”¹å˜ã€‚å¯ä»¥é€šè¿‡å†…å»ºå‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;cap&lt;/code&gt; æ¥å¾—åˆ°åˆ‡ç‰‡çš„&lt;strong&gt;å®¹é‡&lt;/strong&gt;ï¼Œå³å½“å‰åˆ‡ç‰‡èƒ½è¾¾åˆ°çš„æœ€å¤§é•¿åº¦ã€‚è™½ç„¶åˆ‡ç‰‡æœ‰å®¹é‡çš„è¯´æ³•ï¼Œä½†å¹¶ä¸æ„å‘³ç€åˆ‡ç‰‡çš„é•¿åº¦ä¸èƒ½å¤§äºè¿™ä¸ªå®¹é‡ï¼›å†…å»ºçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;append&lt;/code&gt; å‡½æ•°å¯ä»¥ç”¨æ¥ç»™åˆ‡ç‰‡è¿½åŠ å…ƒç´ ï¼Œå¦‚æœåœ¨è¿½åŠ å…ƒç´ çš„è¿‡ç¨‹ä¸­å…ƒç´ çš„ä¸ªæ•°è¶…è¿‡äº†åˆ‡ç‰‡çš„å®¹é‡ï¼Œåˆ‡ç‰‡ä¼šè¢«é‡æ–°è¿›è¡Œå†…å­˜åˆ†é…ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ï¼ˆæ•´ä¸ªè¿‡ç¨‹ä¸­æ¶‰åŠåˆ°äº†å…ƒç´ çš„å¤åˆ¶ï¼‰ã€‚å¦‚æœåˆ‡ç‰‡å€¼ä¸º nilï¼Œä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;len&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;cap&lt;/code&gt; ä¹Ÿæ˜¯åˆæ³•çš„ï¼Œéƒ½ä¼šå¾—åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;0&lt;/code&gt; çš„ç»“æœã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;cap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// reallocate&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// Allocate double what's needed, for future growth.&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;newSlice&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// The copy function is predeclared and works for any slice type.&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;copy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newSlice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newSlice&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;copy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Apend&lt;/code&gt; å‡½æ•°æœ€åè¿”å›äº†ä¸€ä¸ªåˆ‡ç‰‡ï¼Œè¿™ä¸ªè¿”å›æ˜¯å¿…è¦çš„ï¼›è™½ç„¶ &lt;code class=&quot;highlighter-rouge&quot;&gt;Append&lt;/code&gt; ä¼šä¿®æ”¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;slice&lt;/code&gt; çš„å…ƒç´ ï¼Œä½†æ˜¯ slice ï¼ˆè¿è¡Œæ—¶çš„æ•°æ®ç»“æ„é‡ŒåŒ…å«äº†åº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€åˆ‡ç‰‡çš„å¤§å°å’Œå®¹é‡ï¼‰æ˜¯ä»¥ä¼ å€¼çš„æ–¹å¼åˆ°è¾¾å‡½æ•°å†…éƒ¨çš„ï¼Œå¦‚æœåˆ‡ç‰‡çš„åº•å±‚æ•°ç»„æŒ‡é’ˆã€å¤§å°ã€å®¹é‡å‘ç”Ÿäº†æ”¹å˜å¿…é¡»é€šè¿‡è¿”å›å€¼é€šçŸ¥è°ƒç”¨æ–¹ï¼Œå¦åˆ™è°ƒç”¨æ–¹å°†æ„ŸçŸ¥ä¸åˆ°è¿™ç§å˜åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;ç»™åˆ‡ç‰‡è¿½åŠ å…ƒç´ çš„åœºæ™¯éå¸¸æ™®éï¼ŒGo è¯­è¨€ä¸­æœ‰ä¸€ä¸ªå†…å»ºçš„å‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;append&lt;/code&gt;ï¼Œå®ƒçš„å®ç°å’Œä¸Šé¢çš„å‡½æ•°çš„é€»è¾‘ç±»ä¼¼ã€‚ä¸è¿‡å¦‚æœæƒ³ç†è§£ &lt;code class=&quot;highlighter-rouge&quot;&gt;append&lt;/code&gt; å‡½æ•°è®¾è®¡çš„æ›´å¤šç»†èŠ‚ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ›´å¤šçš„çŸ¥è¯†å‚¨å¤‡ï¼Œåé¢çš„å°èŠ‚å†ç»§ç»­èŠã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä¸¤ç»´åˆ‡ç‰‡&quot;&gt;ä¸¤ç»´åˆ‡ç‰‡&lt;/h2&gt;

&lt;p&gt;Go çš„æ•°ç»„å’Œåˆ‡ç‰‡éƒ½æ˜¯ä¸€ç»´ç»“æ„ã€‚å¦‚æœæƒ³åˆ›å»ºäºŒç»´æ•°ç»„æˆ–è€…äºŒç»´åˆ‡ç‰‡ï¼Œå°±å¿…é¡»å®šä¹‰æ•°ç»„çš„æ•°ç»„æˆ–è€…åˆ‡ç‰‡çš„åˆ‡ç‰‡ï¼Œæ¯”å¦‚ä¸‹é¢çš„å®šä¹‰ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Transform&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float64&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// A 3x3 array, really an array of arrays.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LinesOfText&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[][]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;     &lt;span class=&quot;c&quot;&gt;// A slice of byte slices.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å› ä¸ºåˆ‡ç‰‡çš„é•¿åº¦å¯å˜ï¼Œå› æ­¤äºŒç»´åˆ‡ç‰‡çš„å†…éƒ¨çš„åˆ‡ç‰‡å¯ä»¥æœ‰ä¸åŒçš„é•¿åº¦ï¼Œè¿™ç§æƒ…å†µè¿˜æ˜¯å¾ˆå¸¸è§çš„ï¼Œæ¯”å¦‚ä¸‹é¢ &lt;code class=&quot;highlighter-rouge&quot;&gt;LinesOfText&lt;/code&gt; çš„ä¾‹å­ï¼Œå…¶ä¸­æ¯è¡Œçš„é•¿åº¦éƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LinesOfText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Now is the time&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;for all good gophers&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;to bring some fun to the party.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æœ‰æ—¶å€™éœ€è¦å£°æ˜ä¸€ä¸ªäºŒç»´çš„åˆ‡ç‰‡ï¼Œæ¯”å¦‚å½“éœ€è¦æ‰«ææ¯è¡Œåƒç´ çš„æ—¶å€™ã€‚æœ‰ä¸¤ç§æ–¹å¼æ¥å®ç°è¿™ä¸ªç›®çš„ã€‚å…¶ä¸­ä¸€ç§æ–¹å¼æ˜¯å£°æ˜ç‹¬ç«‹çš„åˆ‡ç‰‡ï¼Œè¿˜æœ‰å¦ä¸€ç§æ–¹å¼æ˜¯å…ˆåˆ†é…ä¸€ä¸ªç‹¬ç«‹çš„å¤§åˆ‡ç‰‡ç„¶åæŠŠæ¯ä¸ªåˆ‡ç‰‡æ˜ å°„åˆ°è¿™ä¸ªå¤§åˆ‡ç‰‡ã€‚å…·ä½“ä½¿ç”¨å“ªç§æ–¹å¼å–å†³äºä½ çš„éœ€æ±‚ï¼šå‡å¦‚åˆ‡ç‰‡çš„é•¿åº¦å¯èƒ½ä¼šå˜åŒ–ï¼Œä¸ºäº†é¿å…åƒç´ è¡Œä¸è¡Œä¹‹é—´çš„æ•°æ®è¦†ç›–ï¼Œæ­¤æ—¶åº”è¯¥é€‰æ‹©ç‹¬ç«‹å£°æ˜çš„æ–¹å¼ï¼›å¦‚æœåˆ‡ç‰‡çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œè¿™æ—¶å€™å°±å¯ä»¥å…ˆåˆ†é…ä¸€ä¸ªå¤§çš„åˆ‡ç‰‡ç„¶åæ„é€ å„ä¸ªå°çš„åˆ‡ç‰‡å¯¹è±¡ï¼Œå› ä¸ºåªæœ‰ä¸€æ¬¡å†…å­˜åˆ†é…çš„è¿‡ç¨‹ï¼ˆæ„é€ å¤§åˆ‡ç‰‡ï¼‰ï¼Œè¿™ç§æ–¹å¼ä¼šæ›´é«˜æ•ˆã€‚ä¸ºäº†è¯´æ˜é—®é¢˜ï¼Œä¸‹é¢ç»™å‡ºäº†ä¸¤ç§æ–¹å¼çš„ç”¨æ³•ï¼Œé¦–å…ˆæ˜¯æ¯æ¬¡ä¸€è¡Œçš„æ–¹å¼ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Allocate the top-level slice.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;picture&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([][]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;uint8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;YSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// One row per unit of y.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// Loop over the rows, allocating the slice for each row.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;picture&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;picture&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;uint8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;XSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸‹é¢æ˜¯ä¸€æ¬¡åˆ†é…ï¼Œç„¶åå¯¹åº”å„ä¸ªå­åˆ‡ç‰‡ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Allocate the top-level slice, the same as before.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;picture&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([][]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;uint8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;YSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// One row per unit of y.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// Allocate one large slice to hold all the pixels.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pixels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;uint8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;XSize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;YSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Has type []uint8 even though picture is [][]uint8.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// Loop over the rows, slicing each row from the front of the remaining pixels slice.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;picture&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;picture&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pixels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pixels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pixels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XSize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Sun, 20 Oct 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/10/20/effectivego-new-make-slice.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/10/20/effectivego-new-make-slice.html</guid>
        
        <category>golang</category>
        
        <category>åŸºç¡€</category>
        
        <category>å®ç”¨</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>å¸è½½ macOS ä¸­çš„ MySQL æ—¶é‡åˆ°çš„ç–‘é—®</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; id=&quot;markdown-toc-å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ“ä½œç¯å¢ƒ&quot; id=&quot;markdown-toc-æ“ä½œç¯å¢ƒ&quot;&gt;æ“ä½œç¯å¢ƒ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ç»†èŠ‚&quot; id=&quot;markdown-toc-ç»†èŠ‚&quot;&gt;ç»†èŠ‚&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#å¸è½½å·²æœ‰çš„-mysql&quot; id=&quot;markdown-toc-å¸è½½å·²æœ‰çš„-mysql&quot;&gt;å¸è½½å·²æœ‰çš„ MySQL&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#æ¶‰åŠåˆ°çš„ç›®å½•&quot; id=&quot;markdown-toc-æ¶‰åŠåˆ°çš„ç›®å½•&quot;&gt;æ¶‰åŠåˆ°çš„ç›®å½•&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#usrlocal&quot; id=&quot;markdown-toc-usrlocal&quot;&gt;/usr/local/&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#library-å’Œ-library&quot; id=&quot;markdown-toc-library-å’Œ-library&quot;&gt;/Library å’Œ ~/Library&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#librarycache&quot; id=&quot;markdown-toc-librarycache&quot;&gt;~/Library/Cache/&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#brew-å®‰è£…-mysql&quot; id=&quot;markdown-toc-brew-å®‰è£…-mysql&quot;&gt;brew å®‰è£… MySQL&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å°ç»“&quot; id=&quot;markdown-toc-å°ç»“&quot;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;ä¹‹å‰å¯¹ MySQL çš„äº†è§£ï¼Œä»…å±€é™åœ¨ä¸€äº›ç®€å•çš„åº”ç”¨ï¼Œå¤§éƒ¨åˆ†ç²¾åŠ›æ”¾åœ¨åº”ç”¨å±‚â€”â€”ä»£ç é€»è¾‘çš„è®¾è®¡ä¸å¼€å‘ã€‚æœ€è¿‘å’Œæ•°æ®æ‰“äº¤é“æ¯”è¾ƒå¤šï¼Œéœ€è¦å¯¹æ•°æ®åº“æœ‰æ›´å¤šçš„äº†è§£ï¼Œå› æ­¤é¦–å…ˆæŠŠè‡ªå·±ä¹‹å‰å‚»ç“œå¼å®‰è£…çš„ MySQL å¸è½½æ‰ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªæ›´å®¹æ˜“æ“æ§çš„æ–¹å¼è¿›è¡Œå®‰è£…ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ“ä½œç¯å¢ƒ&quot;&gt;æ“ä½œç¯å¢ƒ&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;macOS High Sierraï¼Œ10.13.6&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ç»†èŠ‚&quot;&gt;ç»†èŠ‚&lt;/h2&gt;
&lt;h3 id=&quot;å¸è½½å·²æœ‰çš„-mysql&quot;&gt;å¸è½½å·²æœ‰çš„ MySQL&lt;/h3&gt;
&lt;p&gt;æˆ‘çš„ä¸»è¦å¼€å‘ç¯å¢ƒæ˜¯ Macï¼Œå› æ­¤åœ¨ç½‘ç»œä¸Šæœç´¢äº†å¸è½½ macOS ä¸­çš„ MySQL çš„æ–¹æ³•ï¼Œç½‘ç»œç»™å‡ºçš„ç­”æ¡ˆå€¾å‘äºç®€å•ç²—æš´ï¼Œæ¯”å¦‚ä¸‹é¢çš„åˆ—è¡¨ï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;brew remove mysql
brew cleanup
&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; /usr/local/mysql
&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; /usr/local/mysql&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; /usr/local/var/mysql
&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist
&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; /Library/StartupItems/MySQLCOM
&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; /Library/PreferencePanes/My&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
launchctl unload &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist
edit /etc/hostconfig and remove the line &lt;span class=&quot;nv&quot;&gt;MYSQLCOM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-YES-&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; ~/Library/PreferencePanes/My&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; /Library/Receipts/mysql&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; /Library/Receipts/MySQL&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; /private/var/db/receipts/com.mysql.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; ~/Library/Cache/Homebrew/mysql&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;çœ‹åˆ°è¿™ä¸€é•¿åˆ—çš„å†…å®¹ï¼Œä¸€èˆ¬äººæœ‰ä¸¤ä¸ªååº”ï¼š1ï¼‰çœŸçš„æœ‰è¿™ä¹ˆå¤šä¸œè¥¿è¦åˆ é™¤å—ï¼Ÿ2ï¼‰ä¼šä¸ä¼šæœ‰æ›´å¤šçš„ä¸œè¥¿éœ€è¦æ¸…ç†è€Œæ²¡æœ‰åŒ…å«åœ¨åˆ—è¡¨ä¸­ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å¯ä»¥å¤§ä½“æŠŠä¸Šé¢ç»™å‡ºçš„è·¯å¾„åˆ†æˆ &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/local/&lt;/code&gt; ã€ &lt;code class=&quot;highlighter-rouge&quot;&gt;/Library/&lt;/code&gt; ã€ &lt;code class=&quot;highlighter-rouge&quot;&gt;~/Library/&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;/private/var/db/receipts&lt;/code&gt; ä¸‰ä¸ªç›®å½•ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ¶‰åŠåˆ°çš„ç›®å½•&quot;&gt;æ¶‰åŠåˆ°çš„ç›®å½•&lt;/h3&gt;
&lt;h4 id=&quot;usrlocal&quot;&gt;/usr/local/&lt;/h4&gt;
&lt;p&gt;å› ä¸º macOS  æ˜¯ç±» Unix çš„ç³»ç»Ÿï¼Œå› æ­¤ç»§æ‰¿äº†å¾ˆå¤š Unix çš„ç‰¹æ€§ã€‚å…¶ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr&lt;/code&gt; å¹¶ä¸æ˜¯ user çš„ç¼©å†™ï¼Œè€Œæ˜¯ &lt;strong&gt;Unix Software Resource&lt;/strong&gt; çš„ç¼©å†™ï¼Œ ä¹Ÿå°±æ˜¯ Unix æ“ä½œç³»ç»Ÿè½¯ä»¶èµ„æºæ‰€æ”¾ç½®çš„ç›®å½•ï¼›æ‰€æœ‰ç³»ç»Ÿé»˜è®¤çš„è½¯ä»¶éƒ½ä¼šæ”¾ç½®åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr&lt;/code&gt; ã€‚ç”¨æˆ·è‡ªè¡Œå®‰è£…çš„è½¯ä»¶ï¼Œä¸€èˆ¬ç»Ÿä¸€å®‰è£…åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/local&lt;/code&gt;ï¼Œè¿™æ ·å°±å¾ˆå®¹æ˜“ç®¡ç†ã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸º MySQL æ˜¯æˆ‘è‡ªå·±å®‰è£…çš„ï¼Œå› æ­¤å®ƒæ‰€æœ‰çš„æ‰§è¡Œæ–‡ä»¶ã€å¤§éƒ¨åˆ†çš„é…ç½®æ–‡ä»¶ç­‰éƒ½åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/local/&lt;/code&gt; ä¸­ï¼Œå¸è½½ MySQL çš„æ—¶å€™è‡ªç„¶è¦æ£€æŸ¥è¿™ä¸ªç›®å½•ä¸­ç›¸å…³çš„æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;h4 id=&quot;library-å’Œ-library&quot;&gt;/Library å’Œ ~/Library&lt;/h4&gt;
&lt;p&gt;æ˜¯ macOS ä¸“æœ‰çš„ç›®å½•ï¼Œå­˜æ”¾ç³»ç»Ÿèµ„æºåº“ä»¥åŠç”¨æˆ·èµ„æºåº“ç›¸å…³çš„æ–‡ä»¶ã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;/Library/StartupItems&lt;/code&gt; å®šä¹‰äº†ç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹ä¸­è¿è¡Œçš„ç¨‹åºï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;/Library/LaunchAgents&lt;/code&gt; å®šä¹‰äº†ç™»å½•å¯åŠ¨é¡¹ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;/Library/PreferencePanes&lt;/code&gt; å®šä¹‰äº†ç³»ç»Ÿåå¥½è®¾ç½®é¢æ¿ä¸­çš„é…ç½®é¡¹ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;/Library/Receipts&lt;/code&gt;  å­˜å‚¨çš„æ˜¯åº”ç”¨çš„â€ç¥¨æ®â€œï¼Œç±»ä¼¼äºæƒé™é…ç½®æ–‡ä»¶ï¼Œä»¥æ­¤ç±»æ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;/private/var/db/receipts/&lt;/code&gt; é‡Œå­˜æ”¾çš„ä¹Ÿæ˜¯ç±»ä¼¼çš„æƒé™é…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;h4 id=&quot;librarycache&quot;&gt;~/Library/Cache/&lt;/h4&gt;
&lt;p&gt;å€¼å¾—å…³æ³¨çš„æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;~/Library/Cache/&lt;/code&gt; è¿™ä¸ªç›®å½•å­˜æ”¾çš„æ˜¯ä¸€äº›ç¼“å­˜æ–‡ä»¶ï¼Œç†è®ºä¸Šè¿™äº›æ–‡ä»¶éƒ½æ˜¯å¯ä»¥åˆ é™¤çš„ã€‚å¦‚æœç”µè„‘è¿è¡Œçš„æ—¶é—´å¤Ÿä¹…ï¼Œè¿™ä¸ªç›®å½•é‡Œå›åŒ…å«æ¯”è¾ƒå¤šçš„åƒåœ¾æ–‡ä»¶ï¼Œå¦‚æœç£ç›˜ç©ºé—´æ¯”è¾ƒç´§å¼ ï¼Œå¯ä»¥è€ƒè™‘æ¸…ç†è¿™é‡Œçš„æ–‡ä»¶ã€‚ï¼ˆå¯é€šè¿‡ ` du -h -d 1` å‘½ä»¤æŸ¥çœ‹è¿™ä¸ªç›®å½•å ç”¨äº†å¤šå°‘ç©ºé—´ï¼‰&lt;/p&gt;

&lt;h3 id=&quot;brew-å®‰è£…-mysql&quot;&gt;brew å®‰è£… MySQL&lt;/h3&gt;
&lt;p&gt;åœ¨ macOS ä¸­ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;brew&lt;/code&gt; åº”è¯¥ç®—æ˜¯ä¸€æ¬¾éå¸¸å¤§ä¼—çš„åŒ…ç®¡ç†å·¥å…·äº†ï¼Œè€Œä¸”å®ƒå®‰è£…è½¯ä»¶çš„å¥—è·¯ä¹Ÿæ¯”è¾ƒå›ºå®šã€‚ç”± &lt;code class=&quot;highlighter-rouge&quot;&gt;brew&lt;/code&gt; å®‰è£…çš„è½¯ä»¶ä¼šè¢«å®‰è£…åœ¨  &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/local/Cellar&lt;/code&gt; ç›®å½•ï¼Œç„¶åé€šè¿‡è½¯è¿æ¥çš„å½¢å¼è½¯é“¾åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/local/bin&lt;/code&gt; ç›®å½•ï¼ˆæœ‰çš„è½¯ä»¶å¯èƒ½ä¸ä¼šè½¯é“¾ï¼‰ï¼Œè½¯ä»¶çš„é…ç½®æ–‡ä»¶ä¸€èˆ¬åœ¨ç›®å½• &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/local/etc/&lt;/code&gt;ï¼Œæ—¥å¿—æ–‡ä»¶ä¸€èˆ¬åœ¨ç›®å½• &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/local/var/log/&lt;/code&gt;ï¼Œæ•°æ®æ–‡ä»¶åˆ™ç›´æ¥æ”¾åœ¨ç›®å½• &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/local/var&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¿˜å¯ä»¥é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;brew services start/stop&lt;/code&gt;  ç­‰å‘½ä»¤æ¥å¯åŠ¨ç”± &lt;code class=&quot;highlighter-rouge&quot;&gt;brew&lt;/code&gt; å®‰è£…çš„è½¯ä»¶ï¼ŒåŒæ—¶æ³¨å†Œå¼€æœºå¯åŠ¨ã€‚è¿™ä¸€ç‚¹è¿˜æ˜¯æŒºæ–¹ä¾¿çš„ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æœç´¢å¯ä»¥å®‰è£…çš„ mysql ç‰ˆæœ¬ã€‚é€šè¿‡è¿è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;brew search mysql&lt;/code&gt; å¯ä»¥æœç´¢å¯ä¾›å®‰è£…çš„ mysql åŒ…ã€‚&lt;/li&gt;
  &lt;li&gt;å®‰è£… &lt;code class=&quot;highlighter-rouge&quot;&gt;mysql@5.7&lt;/code&gt;ã€‚é€šè¿‡è¿è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;brew install mysql@5.7&lt;/code&gt; å®‰è£…ç‰ˆæœ¬ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;5.7&lt;/code&gt; çš„ mysqlï¼Œå¦‚æœä¸æŒ‡å®šç‰ˆæœ¬ï¼Œåˆ™ä¼šå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ mysqlã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡ç®€å•ä»‹ç»äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;Mac + MySQL&lt;/code&gt; æŠ€æœ¯æ ˆä¸­ MySQL çš„å¸è½½ä¸å®‰è£…ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.onthink.com/2018/12/14/mac-launchagents/&quot;&gt;Mac ç³»ç»Ÿ LaunchAgents&lt;/a&gt; ä»‹ç»äº† mac ä¸­çš„ LaunchDaemons å’Œ LaunchAgents&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/findumars/p/5536547.html&quot;&gt;Mac OSXçš„å¼€æœºå¯åŠ¨é…ç½®&lt;/a&gt; åŒæ ·ä»‹ç»äº†  LaunchDaemons å’Œ LaunchAgentsï¼Œè¿˜ä»‹ç»äº† StartItemsã€‚&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.brew.sh/&quot;&gt;Documentation â€” Homebrew Documentation&lt;/a&gt; Mac ç³»ç»Ÿçš„ä¸€æ¬¾åŒ…ç®¡ç†å·¥å…·&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sat, 19 Oct 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/10/19/mac-mysql-reinstall.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/10/19/mac-mysql-reinstall.html</guid>
        
        <category>å®ç”¨</category>
        
        <category>æœ€ä½³å®è·µ</category>
        
        <category>DevOps</category>
        
        
        <category>å®ç”¨</category>
        
      </item>
    
      <item>
        <title>ã€ŠåŸæ±åŸå‘³ Go è¯­è¨€å­¦ä¹ ã€‹(5) effective go å‡½æ•°éƒ¨åˆ†</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#èµ„æ–™&quot; id=&quot;markdown-toc-èµ„æ–™&quot;&gt;èµ„æ–™&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‡½æ•°&quot; id=&quot;markdown-toc-å‡½æ•°&quot;&gt;å‡½æ•°&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#å¤šè¿”å›å€¼&quot; id=&quot;markdown-toc-å¤šè¿”å›å€¼&quot;&gt;å¤šè¿”å›å€¼&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#å‘½åçš„è¿”å›å˜é‡&quot; id=&quot;markdown-toc-å‘½åçš„è¿”å›å˜é‡&quot;&gt;å‘½åçš„è¿”å›å˜é‡&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#defer-æ¨è¿Ÿå‡½æ•°&quot; id=&quot;markdown-toc-defer-æ¨è¿Ÿå‡½æ•°&quot;&gt;defer æ¨è¿Ÿå‡½æ•°&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;èµ„æ–™&quot;&gt;èµ„æ–™&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://golang.google.cn/doc/effective_go.html&quot;&gt;effective go æºæ–‡æ¡£åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/av71150528&quot;&gt;æœ¬æ–‡çš„è§†é¢‘åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;å‡½æ•°&quot;&gt;å‡½æ•°&lt;/h1&gt;

&lt;h2 id=&quot;å¤šè¿”å›å€¼&quot;&gt;å¤šè¿”å›å€¼&lt;/h2&gt;
&lt;p&gt;Go è¯­è¨€éåŒå¯»å¸¸çš„ä¸€ä¸ªç‰¹æ€§æ˜¯å®ƒçš„å‡½æ•°å’Œæ–¹æ³•å¯ä»¥è¿”å›å¤šä¸ªå€¼ã€‚å’Œ C è¯­è¨€æ¯”ï¼ŒGo è¯­è¨€çš„è¿™ä¸ªç‰¹æ€§å¯ä»¥é¿å… C ç¨‹åºä¸­ä¸ä¼˜é›…çš„ä½¿ç”¨ä¹ æƒ¯ï¼šæ¯”å¦‚é€šè¿‡è¿”å› -1 è¡¨ç¤º EOF é”™è¯¯ï¼Œæ¯”å¦‚ä¸ºè¾¾åˆ°æŸä¸ªç›®çš„é€šè¿‡åœ°å€ä¼ å€¼çš„æ–¹å¼ä¼ å…¥æŸä¸ªå‚æ•°ç„¶åä¿®æ”¹è¿™ä¸ªå‚æ•°ï¼ˆå‚è€ƒåé¢ &lt;code class=&quot;highlighter-rouge&quot;&gt;nextInt&lt;/code&gt; çš„ä¾‹å­ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ C è¯­è¨€ä¸­ï¼Œå†™é”™è¯¯ç”±è´Ÿæ•°è¡¨ç¤ºï¼Œé”™è¯¯ç ä¸é”™è¯¯ç±»å‹çš„å¯¹åº”å…³ç³»åˆ™ä¿å­˜åœ¨å†…å­˜é‡Œï¼Œå¿…è¦çš„æ—¶å€™æ‰‹åŠ¨å»æŸ¥æ‰¾è¿™ä¸ªå¯¹åº”å…³ç³»ã€‚åœ¨ Go è¯­è¨€ä¸­ï¼Œ Writeï¼ˆå†™ï¼‰ å¯ä»¥åŒæ—¶è¿”å›ä¸€ä¸ªæ•°å€¼å’Œä¸€ä¸ªé”™è¯¯ï¼Œèƒ½å¾ˆè‡ªç„¶åœ°è¡¨æ˜è¿™ç§å«ä¹‰ï¼šâ€œè™½ç„¶ä½ æˆåŠŸå†™äº†ä¸€äº›å­—èŠ‚ï¼Œä½†æ˜¯å› ä¸ºè®¾å¤‡æ»¡äº†å¯¼è‡´å‰©äº†ä¸€äº›å­—èŠ‚æ²¡æœ‰å†™æˆåŠŸã€‚â€ Go æ ‡å‡†åº“ä¸­åŒ… &lt;code class=&quot;highlighter-rouge&quot;&gt;os&lt;/code&gt; ä¸­çš„ Write æ–¹æ³•çš„å®šä¹‰æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;func (file *File) Write(b []byte) (n int, err error)&lt;/code&gt;ï¼Œå®ƒè¿”å›å†™æˆåŠŸçš„æ•°é‡ï¼Œè€Œä¸”å½“ n != len(b) çš„æ—¶å€™è¿˜ä¼šè¿”å›ä¸€ä¸ªéç©ºçš„é”™è¯¯ã€‚è¿™æ˜¯ä¸€ç§å¾ˆå¸¸è§çš„å½¢å¼ï¼Œå¯ä»¥åœ¨â€œé”™è¯¯å¤„ç†â€çš„ç« èŠ‚æŸ¥çœ‹æ›´å¤šçš„ä¾‹å­ã€‚&lt;/p&gt;

&lt;p&gt;åŒæ ·çš„ï¼Œå¤šè¿”å›å€¼çš„ç‰¹æ€§è¿˜å¯ä»¥é¿å…ä¼ å…¥ä¸€ä¸ªæŒ‡é’ˆç±»å‹çš„å‚æ•°æ¥æ‰¿æ¥è¿”å›å€¼ã€‚ä¸‹é¢ç»™å‡ºäº†ä¸€ä¸ªç®€å•æ˜äº†çš„å‡½æ•°ï¼Œå…¶åŠŸèƒ½æ˜¯åœ¨ä¸€ä¸ªå­—èŠ‚æ•°ç»„çš„æŸä¸ªä½ç½®å¼€å§‹è·å–ä¸€ä¸ªæ•°å­—ï¼Œç„¶åè¿”å›è¿™ä¸ªæ•°å­—ä»¥åŠä¸‹ä¸€ä¸ªä½ç½®ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nextInt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isDigit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isDigit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'0'&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥ç”¨ä¸Šé¢çš„å‡½æ•°æ¥æ‰«æåˆ‡ç‰‡ b ä¸­çš„æ•°å­—ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nextInt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœå‡½æ•°åªèƒ½è¿”å›ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆ &lt;code class=&quot;highlighter-rouge&quot;&gt;nextInt&lt;/code&gt; å°†åªèƒ½è¿”å›&lt;strong&gt;ç›®æ ‡æ•°å­—&lt;/strong&gt;ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ³•è¿”å›æ‰¾åˆ°çš„è¿™ä¸ªç›®æ ‡æ•°å­—çš„ä½ç½®ï¼Œä¸ºäº†è·å–è¿™ä¸ªä½ç½®ï¼Œå°±å¿…é¡»ç»™ &lt;code class=&quot;highlighter-rouge&quot;&gt;nextInt&lt;/code&gt; å‡½æ•°ä¼ å…¥ä¸€ä¸ªæŒ‡é’ˆç±»å‹çš„å‚æ•°ï¼Œç„¶ååœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;nextInt&lt;/code&gt; å‡½æ•°é‡Œé¢ä¿®æ”¹è¿™ä¸ªå€¼ï¼Œä»è€Œè®©å®ƒçš„è°ƒç”¨æ–¹è·å–è¿™ä¸ªå€¼ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‘½åçš„è¿”å›å˜é‡&quot;&gt;å‘½åçš„è¿”å›å˜é‡&lt;/h2&gt;

&lt;p&gt;Go è¯­è¨€ä¸­å¯ä»¥ç»™å‡½æ•°çš„è¿”å›å€¼ï¼ˆæˆ–è€…ç»“æœå€¼ï¼‰æŒ‡å®šåç§°ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨å‡½æ•°ä½“ä¸­åƒä½¿ç”¨å…¥å‚é‚£æ ·ä½¿ç”¨è¿”å›å€¼å˜é‡äº†ã€‚è¿”å›å€¼ä¸€æ—¦è¢«å‘½åæˆä¸ºå˜é‡ï¼Œå®ƒä»¬å°±ä¼šåœ¨å‡½æ•°æ‰§è¡Œä¹‹åˆè¢«åˆå§‹åŒ–ä¸ºå¯¹åº”ç±»å‹çš„é›¶å€¼ï¼›å¦‚æœå‡½æ•°æ‰§è¡Œäº† return å‘½ä»¤ä¸” return åé¢æ²¡æœ‰æ˜¾å¼æŒ‡å®šä»»ä½•å‚æ•°ï¼Œé‚£ä¹ˆ return è¯­å¥æ‰§è¡Œæ—¶è¿”å›å€¼å˜é‡çš„å€¼å°±æ˜¯å®é™…æ„ä¹‰ä¸Šçš„è¿”å›å€¼ã€‚&lt;/p&gt;

&lt;p&gt;å‡½æ•°è¿”å›å€¼çš„å‘½åä¸æ˜¯å¿…è¦çš„ï¼Œä½†æ˜¯ä»–ä»¬å¯ä»¥è®©ä»£ç æ›´ç®€æ´æ˜äº†â€”â€”ä»–ä»¬å±äºæ–‡æ¡£çš„ä¸€éƒ¨åˆ†ã€‚æ¯”å¦‚æˆ‘ä»¬æŠŠ nextInt çš„è¿”å›å€¼åˆ†åˆ«å‘½åä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;value&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;nextPos&lt;/code&gt;ï¼Œå°±èƒ½å¾ˆæ¸…æ¥šåœ°è¡¨æ˜è¿”å›çš„æ˜¯&lt;strong&gt;å€¼&lt;/strong&gt;å’Œ&lt;strong&gt;ä½ç½®&lt;/strong&gt;ï¼Œæ¯”å¦‚ä¸‹é¢çš„å®šä¹‰ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nextInt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nextPos&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å› ä¸ºå‘½åçš„è¿”å›å€¼åœ¨å‡½æ•°åŸå‹ä¹‹åˆå°±å·²ç»è¢«åˆå§‹åŒ–å¥½äº†ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ return ï¼Œè¿™ç§åº”ç”¨æ–¹å¼èƒ½è®©ä»£ç å˜å¾—æ›´ç®€æ´ã€‚ä¸‹é¢ç»™å‡ºäº† io.ReadFull çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¾ˆå¥½åœ°åº”ç”¨äº†è¿™ä¸ªç‰¹æ€§ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ReadFull&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Reader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buf&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nr&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;nr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nr&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;buf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;defer-æ¨è¿Ÿå‡½æ•°&quot;&gt;defer æ¨è¿Ÿå‡½æ•°&lt;/h2&gt;

&lt;p&gt;Go è¯­è¨€çš„ defer è¯­å¥å¯ä»¥æŒ‡å®šæŸä¸ªå‡½æ•°ï¼ˆè¢« deferred çš„å‡½æ•°ï¼‰åœ¨å½“å‰å‡½æ•°è¿”å›ç»™è°ƒç”¨è€…ä¹‹å‰å†è¿è¡Œã€‚defer çš„è¿™ç§ç”¨æ³•æœ‰ç‚¹ä¸å¯»å¸¸ï¼Œä½†æ˜¯éå¸¸æœ‰ç”¨ï¼šå½“ä»£ç ä¸­å¼•ç”¨äº†æŸä¸ªèµ„æºï¼ˆæŸä¸ª Mutex é”ã€æ‰“å¼€äº†æŸä¸ªæ–‡ä»¶ï¼‰ï¼Œä¸ç®¡ç¨‹åºæ‰§è¡Œåˆ°å“ªé‡Œéƒ½å¿…é¡»é‡Šæ”¾è¿™ä¸ªèµ„æºï¼Œè¿™ç§æƒ…å†µä½¿ç”¨ defer å°±å¾ˆæ–¹ä¾¿å¤„ç†ã€‚defer å…¸å‹çš„åº”ç”¨å°±æ˜¯&lt;strong&gt;è§£é”äº’æ–¥é”&lt;/strong&gt;å’Œ&lt;strong&gt;å…³é—­æ–‡ä»¶å¥æŸ„&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Contents returns the file's contents as a string.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filename&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// f.Close will run when we're finished.&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;buf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// append is discussed later.&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;EOF&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// f will be closed if we return here.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// f will be closed if we return here.&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€šè¿‡ defer çš„æ–¹å¼æ¨è¿Ÿæ‰§è¡Œç±»ä¼¼ä¸Šä¾‹ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;f.Close()&lt;/code&gt; å‡½æ•°çš„ç”¨æ³•æœ‰ä¸¤ä¸ªå¥½å¤„ã€‚ç¬¬ä¸€ï¼Œå®ƒèƒ½ä¿è¯è°ƒç”¨å¿…ç„¶ä¼šè¢«æ‰§è¡Œï¼Œé˜²æ­¢ä»¥åä¿®æ”¹å‡½æ•°é€»è¾‘ï¼ˆæ¯”å¦‚åŠ äº†å¦ä¸€ä¸ª return çš„åˆ†æ”¯ï¼‰å¿˜è®°å…³é—­æ–‡ä»¶å¥æŸ„ã€‚ç¬¬äºŒï¼Œè¿™ç§ç”¨æ³•æ„å‘³ç€æ‰“å¼€æ–‡ä»¶ä¸å…³é—­æ–‡ä»¶çš„ä»£ç å¯ä»¥æ”¾åœ¨ä¸€èµ·å†™ï¼Œæ¯”èµ·åˆ†å¼€å†™çš„æ–¹å¼ï¼ˆæ‰“å¼€æ–‡ä»¶å¥æŸ„çš„ä»£ç åœ¨å‡½æ•°å¼€å§‹çš„åœ°æ–¹ï¼Œå…³é—­çš„ä»£ç åœ¨å‡½æ•°æœ«å°¾ï¼‰æ›´ç›´è§‚ä¹Ÿæ›´å®¹æ˜“ç†è§£ã€‚&lt;/p&gt;

&lt;p&gt;å½“ defer è¯­å¥æ‰§è¡Œçš„æ—¶å€™ï¼Œä¼ é€’ç»™ defer çš„å‡½æ•°ï¼ˆä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼‰çš„å‚æ•°è¡¨è¾¾å¼é©¬ä¸Šå°±ä¼šè¿ç®—ï¼Œä¸ä¼šæ¨è¿Ÿåˆ°ä¸è¢« defer çš„å‡½æ•°ä¸€èµ·æ‰§è¡Œã€‚æ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;defer fmt.Printf(&quot;%d &quot;, i+i)&lt;/code&gt;ï¼Œåœ¨è¿™æ¡è¯­å¥æ‰§è¡Œçš„æ—¶å€™ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;i+i&lt;/code&gt; ç«‹é©¬ä¼šè¢«æ‰§è¡Œå¾—åˆ°ä¸€ä¸ªå€¼ï¼Œè€Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Printf&lt;/code&gt; ä¼šè¢«æ¨è¿Ÿåˆ°æœ€åå†æ‰§è¡Œã€‚ä¸Šé¢çš„ç‰¹æ€§æ„å‘³ç€æˆ‘ä»¬éœ€è¦é¿å…å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­è¢« defer çš„å‚æ•°å€¼è¢«ä¿®æ”¹ï¼ŒåŒæ—¶æ„å‘³ç€æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€æ¡æ¨è¿Ÿè¯­å¥æ¨è¿Ÿå¤šä¸ªå‡½æ•°æ‰§è¡Œä½“ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼ˆä»…ä»…æ˜¯ç¤ºä¾‹ï¼Œå®é™…å¼€å‘ä¸­ä¸ä¼šè¿™ä¹ˆå†™ï¼‰ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¢«å»¶è¿Ÿçš„å‡½æ•°ä¼šæŒ‰ç…§åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„é¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œå› æ­¤ä¸Šé¢çš„ä»£ç åœ¨å‡½æ•°è¿”å›åä¼šæ‰“å°å‡º &lt;code class=&quot;highlighter-rouge&quot;&gt;4 3 2 1 0&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;defer çš„åº”ç”¨çš„å¦ä¸€ä¸ªå…·æœ‰è±¡å¾æ„ä¹‰çš„ä¾‹å­æ˜¯è·Ÿè¸ªæ•´ä¸ªç¨‹åºä¸­å‡½æ•°çš„æ‰§è¡Œé¡ºåºã€‚æˆ‘ä»¬å¯ä»¥ç®€å•çš„å†™ä¸€æ®µè·Ÿè¸ªä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;entering:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;untrace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;leaving:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// Use them like this:&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;trace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;untrace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// do something....&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢æˆ‘ä»¬æåˆ°è¿‡ï¼Œå½“ &lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt; è¡¨è¾¾å¼å¼€å§‹æ‰§è¡Œæ—¶ï¼Œè¢« defer çš„å‡½æ•°çš„å‚æ•°è¡¨è¾¾å¼é©¬ä¸Šå°±ä¼šè¢«æ‰§è¡Œï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§æˆ‘ä»¬å¯ä»¥å†™å‡ºæ›´ä¼˜é›…çš„ä»£ç ã€‚ä¸Šé¢çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;trace&lt;/code&gt; å‡½æ•°å¯ä»¥ä½œä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;untrace&lt;/code&gt; å‡½æ•°çš„å‚æ•°ä½¿ç”¨ï¼Œä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;entering:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;un&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;leaving:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;un&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;in a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;un&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;in b&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;è¿è¡Œä¸Šé¢çš„ä»£ç è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
entering: b
&lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;b
entering: a
&lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;a
leaving: a
leaving: b

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºä¹ æƒ¯äº†é€šè¿‡ä¸åŒçš„ä»£ç å—æ¥ç®¡ç†èµ„æºï¼ˆæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;python&lt;/code&gt; ä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;try...except...else...finally&lt;/code&gt; è¿™ç§ç”¨æ³•ï¼Œé€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;finally&lt;/code&gt; æ¥æ§åˆ¶å¿…ç„¶éœ€è¦æ‰§è¡Œçš„ä¸€äº›é€»è¾‘ï¼‰çš„å…¶ä»–è¯­è¨€çš„å¼€å‘è€…æ¥è¯´ï¼Œï¼Œå¯èƒ½ defer çš„ä½¿ç”¨æœ‰ç‚¹å¥‡ç‰¹ï¼Œä½†æ˜¯ defer æœ€æœ‰æ„æ€ä¹Ÿæœ€å…·åº”ç”¨ä»·å€¼çš„åœ°æ–¹æ°æ°æ˜¯å› ä¸º defer å¹¶ä¸åŸºäºå—è€Œæ˜¯åŸºäºå‡½æ•°æ¥èµ·ä½œç”¨ï¼Œè®©ä»£ç å˜å¾—æ›´ç®€æ´ï¼Œè®©ç¼–ç æ›´å®¹æ˜“ã€‚åœ¨ panic å’Œ recover å°èŠ‚æˆ‘ä»¬ä¼šçœ‹åˆ°ä¸€äº›å…¶ä»–åº”ç”¨ defer çš„ä¾‹å­ã€‚&lt;/p&gt;
</description>
        <pubDate>Sun, 13 Oct 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/10/13/effectivego-function.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/10/13/effectivego-function.html</guid>
        
        <category>golang</category>
        
        <category>åŸºç¡€</category>
        
        <category>å®ç”¨</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>ã€ŠåŸæ±åŸå‘³ Go è¯­è¨€å­¦ä¹ ã€‹(4) effective go æ§åˆ¶ç»“æ„</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#èµ„æ–™&quot; id=&quot;markdown-toc-èµ„æ–™&quot;&gt;èµ„æ–™&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ§åˆ¶ç»“æ„&quot; id=&quot;markdown-toc-æ§åˆ¶ç»“æ„&quot;&gt;æ§åˆ¶ç»“æ„&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#if-ç»“æ„&quot; id=&quot;markdown-toc-if-ç»“æ„&quot;&gt;If ç»“æ„&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#é‡æ–°å£°æ˜å’Œé‡æ–°èµ‹å€¼&quot; id=&quot;markdown-toc-é‡æ–°å£°æ˜å’Œé‡æ–°èµ‹å€¼&quot;&gt;é‡æ–°å£°æ˜å’Œé‡æ–°èµ‹å€¼&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#for-è¯­å¥&quot; id=&quot;markdown-toc-for-è¯­å¥&quot;&gt;For è¯­å¥&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#switch-è¯­å¥&quot; id=&quot;markdown-toc-switch-è¯­å¥&quot;&gt;switch è¯­å¥&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ç±»å‹-switch&quot; id=&quot;markdown-toc-ç±»å‹-switch&quot;&gt;ç±»å‹ switch&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;èµ„æ–™&quot;&gt;èµ„æ–™&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://golang.google.cn/doc/effective_go.html&quot;&gt;effective go æºæ–‡æ¡£åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/av70367389/&quot;&gt;æœ¬æ–‡çš„è§†é¢‘åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;æ§åˆ¶ç»“æ„&quot;&gt;æ§åˆ¶ç»“æ„&lt;/h1&gt;
&lt;p&gt;Go è¯­è¨€ä¸­çš„æ§åˆ¶ç»“æ„å’Œ C è¯­è¨€æœ‰ç‚¹åƒï¼Œä½†æ˜¯ä¹Ÿæœ‰å¾ˆå¤šä¸ä¸€æ ·çš„åœ°æ–¹ï¼šGo è¯­è¨€ â‘  æ²¡æœ‰ do å’Œ while å¾ªç¯è¯­å¥ï¼Œåªæœ‰ä¸€ä¸ªé€šç”¨çš„ for å¾ªç¯è¯­å¥ï¼›â‘¡ switch çš„ç”¨æ³•æ¯” C è¯­è¨€ä¸­ switch çš„ç”¨æ³•æ›´çµæ´»ï¼›â‘¢ if å’Œ switch å¯ä»¥åƒ for è¯­å¥é‚£æ ·æ¥æ”¶ä¸€ä¸ªåˆå§‹åŒ–è¯­å¥ï¼›â‘£ break å’Œ continue è¯­å¥å¯ä»¥é€šè¿‡ä¸€ä¸ªå¯é€‰çš„æ ‡ç­¾æ¥æŒ‡å®š break å’Œ continue çš„ä½ç½®ï¼›â‘¤ Go è¯­è¨€å¯ä»¥æ ¹æ®æ•°å€¼çš„ç±»å‹é€‰æ‹©æ‰§è¡Œçš„é€»è¾‘åˆ†æ”¯ï¼›â‘¥ Go è¿˜å¤šå‡ºæ¥ä¸€ä¸ªæ–°çš„æ§åˆ¶ç»“æ„ selectï¼Œå¯ä»¥ç”¨æ¥åšå¤šè·¯é€šä¿¡åˆ†å‘å™¨ã€‚å’Œ C è¯­è¨€ç›¸æ¯”ï¼Œ Go çš„è¯­æ³•ä¹Ÿæœ‰ä¸€äº›ä¸åŒçš„åœ°æ–¹ï¼šfor, if, switch, select ç­‰æ§åˆ¶è¯­å¥åé¢ä¸éœ€è¦å°æ‹¬å·ï¼Œä¸”ä»–ä»¬çš„æ‰§è¡Œä½“éƒ½å¿…é¡»ç”¨å¤§æ‹¬å·æ‹¬èµ·æ¥ã€‚&lt;/p&gt;

&lt;h2 id=&quot;if-ç»“æ„&quot;&gt;If ç»“æ„&lt;/h2&gt;

&lt;p&gt;åœ¨ Go è¯­è¨€ä¸­ï¼Œç®€å•çš„ if è¯­å¥å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¼ºåˆ¶æ·»åŠ å¤§æ‹¬å·å¯ä»¥é€¼è¿«å¤§å®¶æŠŠç®€å•çš„ if è¯­å¥å†™æˆå¤šè¡Œçš„è¿™ç§æ ·å¼ï¼Œæ¯«æ— ç–‘é—®è¿™ç§å¤šè¡Œçš„æ ·å¼è¯»èµ·æ¥æ›´å®¹æ˜“ç†è§£ï¼Œå°¤å…¶å½“æ‰§è¡Œä½“å†…éƒ¨åŒ…å« return æˆ– break çš„æ—¶å€™å°¤å…¶æ˜æ˜¾ï¼Œè¿™é‡Œç…§é¡¾äº†ä»£ç çš„å¯è¯»æ€§ã€‚&lt;/p&gt;

&lt;p&gt;é‰´äº if å’Œ switch è¯­å¥éƒ½å…è®¸æœ‰ä¸€ä¸ªåˆå§‹åŒ–è¯­å¥ï¼Œå› æ­¤å¯ä»¥ç»å¸¸çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„ç”¨æ³•ï¼ˆåˆ›å»ºäº†ä¸€ä¸ªæœ¬åœ°ä¸´æ—¶å˜é‡ï¼‰ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Chmod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0664&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ Go çš„æºç åº“ä¸­ï¼Œå¯ä»¥ç»å¸¸çœ‹åˆ°è¿™ç§æƒ…å†µï¼šå¦‚æœ if çš„æ‰§è¡Œä½“ä»¥ break, continue, goto, æˆ–è€… return ç»“æŸï¼Œé€»è¾‘ä¸Šæ¥è¯´ else åˆ†æ”¯å°±æ²¡æœ‰ä»»ä½•ä½œç”¨äº†ï¼Œå°±ä¼šè¢«çœç•¥æ‰ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;codeUsing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸‹é¢çš„ä»£ç æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„ç”¨æ³•ç¤ºä¾‹ï¼Œä»£ç è€ƒè™‘äº†ä¸€ç³»åˆ—çš„é”™è¯¯æƒ…å†µã€‚åœ¨ä»£ç ä¸­ï¼Œå¦‚æœå»é™¤å¤„ç†é”™è¯¯çš„è¯­å¥ï¼Œæ§åˆ¶æµèƒ½æˆåŠŸåœ°ä»å¤´æ‰§è¡Œåˆ°å°¾ï¼Œè¿™ç§ä»£ç å°±å¾ˆå®¹æ˜“é˜…è¯»ã€‚åŒæ—¶å› ä¸ºé”™è¯¯å¤„ç†çš„ if æ‰§è¡Œä½“éƒ½ä»¥ return ç»“æŸï¼Œå› æ­¤ä»£ç ä¸­æ²¡æœ‰å¿…è¦å‡ºç° else è¯­å¥ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Stat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;codeUsing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã€ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ os.Open è°ƒç”¨å‡ºé”™ï¼Œæ•´ä¸ªå‡½æ•°ä¼šç›´æ¥ return err è¿”å›ï¼Œåé¢çš„ä»£ç ä¹Ÿå°±ä¸ä¼šæ‰§è¡Œï¼›å¦‚æœ os.Open è°ƒç”¨ä¸å‡ºé”™ï¼Œä»£ç ä¸ä¼šè¿›å…¥åˆ° if çš„æ‰§è¡Œä½“ï¼Œåé¢çš„ä»£ç é¡ºç†æˆç« åœ°è¢«æ‰§è¡Œã€‚å¦‚æœ f.Stat() å‡ºé”™ï¼Œä¹Ÿä¼š return err è¿”å›ï¼Œåé¢çš„ä»£ç ä¹Ÿä¸ä¼šæ‰§è¡Œï¼›å¦‚æœ f.Stat() ä¸å‡ºé”™ï¼Œåé¢çš„ä»£ç ä¼šé¡ºç†æˆç« åœ°æ‰§è¡Œã€‚ã€‘&lt;/p&gt;

&lt;h2 id=&quot;é‡æ–°å£°æ˜å’Œé‡æ–°èµ‹å€¼&quot;&gt;é‡æ–°å£°æ˜å’Œé‡æ–°èµ‹å€¼&lt;/h2&gt;

&lt;p&gt;ä¸Šä¸€å°èŠ‚çš„æœ€åä¸€ä¸ªä¾‹å­å¾ˆå¥½åœ°é˜é‡Šäº† &lt;code class=&quot;highlighter-rouge&quot;&gt;:=&lt;/code&gt; çŸ­å£°æ˜è¯­å¥çš„å·¥ä½œæ–¹å¼ã€‚çŸ­å£°æ˜è¯­å¥ f, err := os.Open(name) å£°æ˜äº†ä¸¤ä¸ªå˜é‡ï¼šf å’Œ errã€‚ç´§æ¥ç€åé¢çš„ d, err := f.Stat() å¥½åƒåˆå£°æ˜äº†ä¸¤ä¸ªå˜é‡ï¼š d å’Œ errã€‚éœ€è¦æ³¨æ„ err åŒæ—¶å‡ºç°åœ¨äº†ä¸¤ä¸ªå£°æ˜è¯­å¥ä¸­ã€‚åœ¨ Go ä¸­ï¼Œè¿™ç§â€œé‡å¤å£°æ˜â€æ˜¯å…è®¸çš„ï¼šerr é¦–å…ˆç”±ç¬¬ä¸€ä¸ªè¯­å¥å£°æ˜ï¼Œåœ¨ç¬¬äºŒä¸ªè¯­å¥ä¸­è¢«é‡æ–°èµ‹å€¼ã€‚è¿™æ„å‘³ç€è°ƒç”¨ f.Stat æ—¶ä½¿ç”¨äº†ä¸Šé¢å·²ç»è¢«å£°æ˜çš„ err å˜é‡ï¼Œå¹¶ä¸”ç»™äº†å®ƒä¸€ä¸ªæ–°çš„å€¼ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ := å£°æ˜ä¸­ï¼Œå³ä½¿å˜é‡ v å·²ç»è¢«å£°æ˜è¿‡ä¹Ÿå¯ä»¥å†æ¬¡å‡ºç°ï¼Œåªéœ€æ»¡è¶³ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;:= è¯­æ³•å£°æ˜å’Œå·²å­˜åœ¨çš„ v åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼ˆå¦‚æœ v æ˜¯åœ¨å¤–é¢çš„ä½œç”¨åŸŸå£°æ˜çš„ï¼Œè¿™ç§æƒ…å†µä¸‹ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡ï¼‰ï¼›&lt;/li&gt;
  &lt;li&gt;åˆå§‹åŒ–è¯­å¥ä¸­çš„å€¼å¯ä»¥èµ‹å€¼ç»™ vï¼Œå¹¶ä¸”&lt;/li&gt;
  &lt;li&gt;åœ¨å£°æ˜è¯­å¥ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæœªå£°æ˜è¿‡çš„æ–°å˜é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Â§ï¼ˆè„šæ³¨ï¼‰éœ€è¦æ³¨æ„ï¼Œåœ¨ Go è¯­è¨€ä¸­ï¼Œè™½ç„¶å‡½æ•°ï¼ˆåŒ…æ‹¬æ–¹æ³•ï¼‰çš„å‚æ•°å’Œè¿”å›å€¼å‡ºç°åœ¨å‡½æ•°æ‰§è¡Œä½“çš„å¤§æ‹¬å·å¤–é¢ï¼Œä½†æ˜¯å®ƒä»¬çš„ä½œç”¨åŸŸæ˜¯å‡½æ•°çš„æ•´ä¸ªæ‰§è¡Œä½“ï¼Œå› æ­¤ä¹Ÿé€‚ç”¨ä¸Šé¢çš„è¿™å‡ ä¸ªæ¡ä»¶ã€‚&lt;/p&gt;

&lt;h2 id=&quot;for-è¯­å¥&quot;&gt;For è¯­å¥&lt;/h2&gt;

&lt;p&gt;Go è¯­è¨€ä¸­çš„ for å¾ªç¯å’Œ C è¯­è¨€çš„ for å¾ªç¯æœ‰ç±»ä¼¼çš„ç”¨æ³•ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸ä¸€æ ·çš„ç”¨æ³•ã€‚Go ä¸­çš„ for è¯­å¥ç»Ÿä¸€äº† C è¯­è¨€ä¸­çš„ for å’Œ while å¾ªç¯ï¼Œå› æ­¤åœ¨ Go ä¸­æ²¡æœ‰ do-while å¾ªç¯è¿™ç§ç”¨æ³•ã€‚åœ¨ Go ä¸­æœ‰ä¸‰ç§å½¢å¼çš„ for å¾ªç¯ï¼Œå…¶ä¸­åªæœ‰ä¸€ç§å¸¦åˆ†å·ï¼Œå¦å¤–ä¸¤ç§æ²¡æœ‰åˆ†å·ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Like a C for&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// Like a C while&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;condition&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// Like a C for(;;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥é€šè¿‡çŸ­å£°æ˜å¾ˆå®¹æ˜“åœ°ç”Ÿæˆ for å¾ªç¯ä¸­çš„ç´¢å¼•å˜é‡ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœåœ¨æ•°ç»„ã€åˆ‡ç‰‡ã€å­—ç¬¦ä¸²ã€æ˜ å°„ï¼ˆmapï¼‰ä¸Šè¿›è¡Œå¾ªç¯ï¼Œæˆ–è€…å¾ªç¯è¯»å–ä¿¡é“ä¸­çš„å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨ range è¯­æ³•æ¥æ§åˆ¶æ•´ä¸ªå¾ªç¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oldMap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;newMap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ range è¯­æ³•ä¸­å¦‚æœåªéœ€è¦ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œå¯ä»¥çœç•¥ç¬¬äºŒä¸ªå˜é‡ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expired&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ range è¯­æ³•ä¸­ï¼Œå¦‚æœåªéœ€è¦ç¬¬äºŒä¸ªå…ƒç´ çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨ç©ºæ ‡è¯†ç¬¦ï¼ˆä¸‹åˆ’çº¿ï¼‰æ˜¾å¼åœ°ä¸¢å¼ƒç¬¬ä¸€ä¸ªå…ƒç´ ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;array&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºå­—ç¬¦ä¸²æ¥è¯´ï¼Œrange ä¼šåšæ›´å¤šçš„äº‹æƒ…ï¼Œå®ƒä¼šæ£€ç´¢å‡ºä»¥ UTF-8 ç¼–ç çš„æ¯ä¸ª Unicode å­—èŠ‚ç ï¼ˆæŒ‰ rune è¿›è¡Œéå†ï¼Œè€Œå¹¶ä¸æ˜¯æŒ‰ç…§å­—èŠ‚è¿›è¡Œéå†ï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„ position è¾“å‡ºä¸æ˜¯è¿ç»­çš„ï¼‰ã€‚é”™è¯¯çš„ç¼–ç ä¼šäº§ç”Ÿä¸€ä¸ªæ›¿ä»£ç¬¦æ–‡ U+FFFDï¼Œè¿™ä¸ªæ—¶å€™ç›¸åº”çš„ç´¢å¼•ä¼šå‰è¿›ä¸€ä¸ªå­—èŠ‚ï¼ˆè·³è¿‡å¼•èµ·é”™è¯¯çš„å­—èŠ‚ï¼‰ã€‚ï¼ˆrune æ˜¯ Go å†…å»ºçš„ä¸€ä¸ªç±»å‹ï¼Œç”¨æ¥è¡¨ç¤º Unicode å­—èŠ‚ç ï¼Œå¯ä»¥åˆ°&lt;a href=&quot;https://golang.google.cn/ref/spec#Rune_literals&quot;&gt;Goè¯­è¨€è§„èŒƒ&lt;/a&gt;æŸ¥çœ‹ç»†èŠ‚ï¼‰ã€‚å¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;æ—¥æœ¬&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x80&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;èª&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// \x80 is an illegal UTF-8 encoding&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;character %#U starts at byte position %d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç æ‰“å°ç»“æœä¸ºï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;character&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;65E5&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'æ—¥'&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;starts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;character&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;672&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'æœ¬'&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;starts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;character&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FFFD&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'ï¿½'&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;starts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;character&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A9E&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'èª'&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;starts&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æœ€åï¼ŒGo è¯­è¨€ä¸­æ²¡æœ‰é€—å·æ“ä½œç¬¦ï¼›ç¬¦å· ++ å’Œ â€“ æ˜¯è¯­å¥è€Œä¸æ˜¯è¡¨è¾¾å¼ã€‚å› æ­¤ï¼Œå¦‚æœæƒ³åœ¨ for å¾ªç¯ä¸­ç»´æŠ¤å¤šä¸ªå˜é‡åº”è¯¥ä½¿ç”¨å¹³è¡Œèµ‹å€¼è¯­å¥ï¼Œä¸èƒ½ä½¿ç”¨ ++ å’Œ â€“ è¿ç®—ç¬¦ï¼Œå¦åˆ™ä¼šç¼–è¯‘æŠ¥é”™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Reverse a&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;switch-è¯­å¥&quot;&gt;switch è¯­å¥&lt;/h2&gt;

&lt;p&gt;Go é‡Œçš„ switch æ¯” C è¯­è¨€ä¸­çš„ switch æ›´é€šç”¨äº†ã€‚å®ƒçš„è¡¨è¾¾å¼ä¸å±€é™åœ¨å¸¸é‡ï¼Œç”šè‡³å¯ä»¥ä¸æ˜¯æ•´æ•°ã€‚switch çš„ case è¯­å¥ä¼šä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ‰§è¡Œç›´åˆ°åŒ¹é…åˆ°æŸä¸ª case ä¸ºæ­¢ã€‚å¦‚æœ switch åæ²¡æœ‰è·Ÿä»»ä½•çš„è¡¨è¾¾å¼ï¼Œåˆ™é»˜è®¤æ˜¯ä¸€ä¸ª true å€¼ï¼Œè¿™ä¸ªæ—¶å€™ case è¯­å¥åªè¦è¿ç®—å¾—åˆ° true å€¼å°±ä¼šæ‰§è¡Œå¯¹åº”çš„é€»è¾‘ã€‚ä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥é€‰æ‹©æŠŠ if-else-if-else å†™æˆ switch çš„è¯­å¥ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unhex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'0'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'9'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'0'&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'a'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'f'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'a'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'A'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'F'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'A'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ switch ä¸ä¼šæ‰§è¡Œå¤šä¸ª caseï¼ˆä¸ä¼šä»ä¸€ä¸ª case æ‰§è¡Œå®Œä»¥åå†æ‰§è¡Œä¸‹ä¸€ä¸ª caseï¼‰ï¼Œä½†æ˜¯å¯ä»¥ç»™ case è¯­å¥è®¾ç½®ä¸€ä¸ªé€—å·åˆ†éš”çš„åˆ—è¡¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shouldEscape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;' '&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'?'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'&amp;amp;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'='&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'#'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'+'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'%'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å’Œå…¶ä»–ç±» C çš„ç¼–ç¨‹è¯­è¨€ä¸åŒï¼Œåœ¨ Go è¯­è¨€ä¸­ï¼Œbreak è¯­å¥å¯ä»¥ç”¨æ¥æå‰ç»ˆæ­¢ switch è¯­å¥ã€‚ä¸è¿‡ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ç»ˆæ­¢çš„å¯èƒ½æ˜¯ä¸€ä¸ªåŒ…å›´èµ·æ¥çš„å¾ªç¯è€Œä¸æ˜¯ switch çš„é€»è¾‘ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥åœ¨å¾ªç¯ä¸Šå®šä¹‰ä¸€ä¸ªæ ‡ç­¾ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡æ ‡ç­¾æ ‡æ³¨ break ç»ˆæ­¢çš„æ˜¯å¾ªç¯è€Œä¸æ˜¯ switch è¯­å¥äº†ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ä¸¤ç§ç”¨æ³•ï¼ˆæ²¡æœ‰æ ‡ç­¾çš„ break ç»ˆæ­¢çš„æ˜¯ switch é€»è¾‘ï¼Œæœ‰ Loop æ ‡ç­¾çš„ break ç»ˆæ­¢çš„æ˜¯ for å¾ªç¯ï¼‰ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Loop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sizeOne&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validateOnly&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
			&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

		&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sizeTwo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;errShortInput&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;break&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Loop&lt;/span&gt;
			&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validateOnly&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
			&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å½“ç„¶ï¼Œcontinue è¡¨è¾¾å¼ä¹Ÿå¯ä»¥è®¾ç½®ä¸€ä¸ªå¯é€‰çš„æ ‡ç­¾ï¼Œä¸è¿‡ continue åªèƒ½ç”¨åœ¨å¾ªç¯ä¸­ï¼Œä¸èƒ½ç”¨åœ¨ switch ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;ä½œä¸ºæœ¬å°èŠ‚çš„ç»“å°¾ï¼Œä¸‹é¢ä½¿ç”¨ä¸¤ä¸ª switch æ¥æ¯”è¾ƒä¸¤ä¸ªå­—èŠ‚åˆ‡ç‰‡ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Compare returns an integer comparing the two byte slices,&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// lexicographically.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// The result will be 0 if a == b, -1 if a &amp;lt; b, and +1 if a &amp;gt; b&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Compare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ç±»å‹-switch&quot;&gt;ç±»å‹ switch&lt;/h2&gt;

&lt;p&gt;switch è¯­å¥è¿˜å¯ä»¥ç”¨æ¥æ¢ç´¢&lt;strong&gt;æ¥å£å˜é‡&lt;/strong&gt;çš„åŠ¨æ€ç±»å‹ã€‚ç±»å‹ switch ä½¿ç”¨å¸¦æ‹¬å·çš„å…³é”®å­— type æ¥å¯¹ä¸€ä¸ªæ¥å£å˜é‡çš„ç±»å‹è¿›è¡Œæ–­è¨€ã€‚å¦‚æœåœ¨ switch è¡¨è¾¾å¼æŠŠæ–­è¨€çš„å€¼èµ‹ç»™äº†ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡ä¼šä¿å­˜æ¯ä¸ª case å¯¹åº”çš„ç±»å‹çš„&lt;strong&gt;å€¼&lt;/strong&gt;ã€‚åœ¨è¿™äº› case ä¸­ä¸€èˆ¬ä¼šå¤ç”¨å˜é‡çš„åç§°ï¼Œå®é™…ä¸Šä¼šä¸ºæ¯ä¸ª case å£°æ˜ä¸€ä¸ªåŒåä¸åŒç±»çš„æ–°å˜é‡ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;interface&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;functionOfSomeType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;unexpected type %T&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;c&quot;&gt;// %T prints whatever type t has&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;boolean %t&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;             &lt;span class=&quot;c&quot;&gt;// t has type bool&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;integer %d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;             &lt;span class=&quot;c&quot;&gt;// t has type int&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;pointer to boolean %t&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// t has type *bool&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;pointer to integer %d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// t has type *int&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Sun, 06 Oct 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/10/06/effective-name.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/10/06/effective-name.html</guid>
        
        <category>golang</category>
        
        <category>åŸºç¡€</category>
        
        <category>å®ç”¨</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>ã€ŠåŸæ±åŸå‘³ Go è¯­è¨€å­¦ä¹ ã€‹(3) effective go å‘½åã€åˆ†å·</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#èµ„æ–™&quot; id=&quot;markdown-toc-èµ„æ–™&quot;&gt;èµ„æ–™&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#åç§°&quot; id=&quot;markdown-toc-åç§°&quot;&gt;åç§°&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#åŒ…å&quot; id=&quot;markdown-toc-åŒ…å&quot;&gt;åŒ…å&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#è·å–å™¨getters&quot; id=&quot;markdown-toc-è·å–å™¨getters&quot;&gt;è·å–å™¨(Getters)&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#æ¥å£å&quot; id=&quot;markdown-toc-æ¥å£å&quot;&gt;æ¥å£å&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#æ··åˆé©¼å³°å¼å‘½å&quot; id=&quot;markdown-toc-æ··åˆé©¼å³°å¼å‘½å&quot;&gt;æ··åˆé©¼å³°å¼å‘½å&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#åˆ†å·&quot; id=&quot;markdown-toc-åˆ†å·&quot;&gt;åˆ†å·&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;èµ„æ–™&quot;&gt;èµ„æ–™&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://golang.google.cn/doc/effective_go.html&quot;&gt;effective go æºæ–‡æ¡£åœ°å€&lt;/a&gt;
&lt;a href=&quot;https://www.bilibili.com/video/av70193421/&quot;&gt;æœ¬æ–‡çš„ bilibili è§†é¢‘åœ°å€&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;åç§°&quot;&gt;åç§°&lt;/h1&gt;

&lt;p&gt;å’Œå…¶ä»–ç¼–ç¨‹è¯­è¨€ç±»ä¼¼ï¼Œå‘½ååœ¨ Go è¯­è¨€ä¸­ä¹Ÿå¾ˆè®²ç©¶ã€‚Go ä¸­çš„å‘½åç”šè‡³å±äºè¯­æ³•çš„ä¸€éƒ¨åˆ†ï¼šåç§°çš„é¦–å­—æ¯æ˜¯å¦å¤§å†™å†³å®šè¿™ä¸ªåç§°åœ¨åŒ…å¤–çš„å¯è§æ€§ã€‚å› æ­¤å¾ˆæœ‰å¿…è¦èŠ±ä¸€äº›æ—¶é—´æ¥äº†è§£ Go ç¨‹åºä¸­çš„å‘½åè§„èŒƒã€‚&lt;/p&gt;

&lt;h2 id=&quot;åŒ…å&quot;&gt;åŒ…å&lt;/h2&gt;

&lt;p&gt;å½“åŒ…è¢«å¯¼å…¥ï¼ˆimportï¼‰åï¼ŒåŒ…åä¼šæˆä¸ºåŒ…çš„è®¿é—®å™¨ã€‚æ¯”å¦‚ï¼Œåœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;import &quot;bytes&quot;&lt;/code&gt; åï¼Œå¯¼å…¥æ­¤åŒ…çš„æ–‡ä»¶å°±å¯ä»¥ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;bytes.Buffer&lt;/code&gt; æ¥è®¿é—® &lt;code class=&quot;highlighter-rouge&quot;&gt;bytes&lt;/code&gt; åŒ…å†…çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Buffer&lt;/code&gt; ç»“æ„ä½“äº†ã€‚å¦‚æœä½¿ç”¨æŸåŒ…çš„æ‰€æœ‰æºä»£ç éƒ½é€šè¿‡åŒ…åè°ƒç”¨è¿™ä¸ªåŒ…çš„å†…å®¹ï¼Œè¿™å°±æ„å‘³ç€è¿™ä¸ªåŒ…çš„åŒ…ååç§°åº”è¯¥è¶³å¤Ÿå¥½ï¼šçŸ­ã€ç®€æ´ä¸”é‡Šä¹‰ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼ŒåŒ…ååº”è¯¥æ˜¯å°å†™å­—ç¬¦ã€ä¸”åº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å•è¯ï¼›åŒ…åé‡Œä¸åº”è¯¥åŒ…å«ä¸‹åˆ’çº¿ï¼Œä¹Ÿä¸åº”è¯¥æ˜¯é©¼å³°æ ·å¼çš„åç§°ã€‚å¦‚æœä½ å®šä¹‰äº†ä¸€ä¸ªåŒ…ï¼ŒåŒ…ååº”è¯¥å°½å¯èƒ½åœ°ç®€å•ï¼Œå› ä¸ºæ¯ä¸ªä½¿ç”¨è¿™ä¸ªåŒ…çš„äººéƒ½éœ€è¦ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦åœ°æŠŠåŒ…åæ•²å‡ºæ¥ï¼ˆå­—ç¬¦å¤ªå¤šæ•²èµ·æ¥éº»çƒ¦ï¼‰ï¼›æˆ‘ä»¬ä¸éœ€è¦æ‹…å¿ƒæˆ‘ä»¬çš„åŒ…åå’Œå·²ç»å­˜åœ¨çš„åŒ…åç§°ä¸Šä¼šå†²çªï¼›å¯¹äºå¯¼å…¥æŸä¸ªåŒ…çš„æºç æ¥è¯´ï¼ŒåŒ…åæŒ‡å®šäº†é»˜è®¤çš„è®¿é—®å™¨åç§°ï¼Œä¸è¿‡æ²¡æœ‰å¿…è¦åœ¨æ‰€æœ‰å¯¼å…¥è¿™ä¸ªåŒ…çš„æºç ä¸­éƒ½ä½¿ç”¨è¿™ä¸ªé»˜è®¤çš„åç§°ã€‚&lt;/p&gt;

&lt;p&gt;å¾ˆå°‘çš„æƒ…å†µä¸‹ï¼ŒåŒä¸€ä¸ªæºæ–‡ä»¶ä¸­å¯¼å…¥çš„ä¸¤ä¸ªåŒ…å¯èƒ½æœ‰ç›¸åŒçš„åŒ…åï¼Œè¿™æ—¶å€™ç»™å†²çªçš„åŒ…å®šä¹‰ä¸€ä¸ªæ–°çš„æœ¬åœ°è®¿é—®å™¨åç§°å°±å¯ä»¥äº†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;github.com/chalvern/sugar&quot;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;github.com/chalvern/sugar&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// åŒæ ·éƒ½æ˜¯ &quot;github.com/chalvern/sugar&quot;ï¼Œä½†æ˜¯å¯ä»¥è®¾ç½®ä¸åŒçš„åˆ«å&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// å¦‚æœä¸è®¾ç½®åˆ«åï¼Œé»˜è®¤æ˜¯ `sugar`&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sugar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hello sugar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hello log&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯¼å…¥åŒ…çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯åŒ…çš„å…¨è·¯å¾„ï¼ˆæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;github.com/chalvern/sugar&quot;&lt;/code&gt;ï¼‰ï¼Œå®ƒå”¯ä¸€å†³å®šäº†ä½¿ç”¨çš„æ˜¯å“ªä¸ªåŒ…ï¼Œå› æ­¤å³ä½¿å‡ºç°äº†å¦ä¸€ä¸ªåä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;sugar&lt;/code&gt; çš„åŒ…ï¼Œä½¿ç”¨ä¸Šä¹Ÿä¸ä¼šå‡ºç°æ··æ·†ã€‚&lt;/p&gt;

&lt;p&gt;å¦ä¸€ä¸ªçº¦å®šæ˜¯ï¼ŒåŒ…åä¸€èˆ¬è®¾ç½®ä¸ºå®ƒçš„æºæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•åï¼Œæ¯”å¦‚ç›®å½• &lt;code class=&quot;highlighter-rouge&quot;&gt;src/encoding/base64&lt;/code&gt; å®šä¹‰çš„åŒ…å¼•å…¥æ—¶çš„è·¯å¾„æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;encoding/base64&quot;&lt;/code&gt;ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠåŒ…åå®šä¹‰ä¸º&lt;code class=&quot;highlighter-rouge&quot;&gt;base64&lt;/code&gt;ï¼Œä¸åº”è¯¥å†™æˆ encoding_base64ï¼Œä¹Ÿä¸åº”è¯¥å†™æˆ encodingBase64ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªåŒ…è¢«å¯¼å…¥åä¸€èˆ¬é€šè¿‡å®ƒçš„åŒ…åæ¥è®¿é—®å…¶å†…å®¹ï¼Œå› æ­¤åœ¨åŒ…ä¸­å¯¼å‡ºçš„åå­—å¯ä»¥å€ŸåŠ©åŒ…åæ¥é¿å…å«ç³Šä¸æ¸…ï¼ˆä¸è¦åœ¨æºæ–‡ä»¶ä¸­ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;import . package/name&lt;/code&gt; çš„æ–¹å¼å¯¼å…¥åŒ…ï¼Œå¦åˆ™åŒ…é‡Œçš„åç§°å¾ˆå®¹æ˜“ä¸æºæ–‡ä»¶å¤¹ä¸­çš„åç§°æ··æ·†ï¼‰ã€‚æ¯”å¦‚ï¼Œåœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;bufio&lt;/code&gt; åŒ…é‡Œå¸¦ç¼“å­˜çš„è¯»ç±»å‹åº”è¯¥æ˜¯ Reader è€Œä¸æ˜¯ BufReader, å› ä¸ºå½“å¼€å‘è€…çœ‹åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;bufio.Reader&lt;/code&gt; çš„æ—¶å€™å°±å·²ç»çŸ¥é“è¿™æ˜¯ä¸ªå¸¦ç¼“å­˜çš„ Reader äº†ï¼Œè¿™ç§æ–¹å¼çš„å®šä¹‰ä¸ä»…ç®€æ´è€Œä¸”ä¸å¤±å‡†ç¡®æ€§ã€‚è¿›ä¸€æ­¥è®²ï¼Œå› ä¸ºè¢«å¯¼å…¥çš„å®ä½“ç»å¸¸ä¸ä»–ä»¬çš„åŒ…åä¸€èµ·å–ç”¨ï¼Œå› æ­¤ &lt;code class=&quot;highlighter-rouge&quot;&gt;bufio.Reader&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;io.Reader&lt;/code&gt; è™½ç„¶éƒ½æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;Reader&lt;/code&gt; ä½†æ˜¯äºŒè€…æ˜¯ä¸ä¼šå†²çªçš„ã€‚åŒæ ·çš„é“ç†ï¼Œå¯¹äºåŒ… &lt;a href=&quot;https://golang.google.cn/pkg/container/ring/&quot;&gt;ring&lt;/a&gt;ï¼ŒåŒ…é‡ŒåŒ…å«å”¯ä¸€å¯¼å‡ºçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;Ring&lt;/code&gt; ç»“æ„ä½“ï¼Œåˆ›å»º &lt;code class=&quot;highlighter-rouge&quot;&gt;Ring&lt;/code&gt; çš„æ–°å¯¹è±¡çš„å‡½æ•°æŒ‰ä¸€èˆ¬çš„æ€ç»´å¯ä»¥è¢«å‘½åä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;NewRing()&lt;/code&gt;ï¼Œä½†æ˜¯å› ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;Ring&lt;/code&gt; æ˜¯åŒ…é‡Œå”¯ä¸€å¯¼å‡ºçš„ç±»å‹ï¼Œå¹¶ä¸”å› ä¸ºåŒ…åå« &lt;code class=&quot;highlighter-rouge&quot;&gt;ring&lt;/code&gt;ï¼Œå› æ­¤è¿™ä¸ªåˆ›å»ºæ–°å¯¹è±¡çš„æ–¹æ³•å¯ä»¥å‘½åä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;New()&lt;/code&gt;ï¼Œè¿™æ ·ä½¿ç”¨è¿™ä¸ªåŒ…çš„è°ƒç”¨æ–¹å°±å¯ä»¥é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;ring.New()&lt;/code&gt; æ¥åˆ›å»º &lt;code class=&quot;highlighter-rouge&quot;&gt;Ring&lt;/code&gt; çš„å¯¹è±¡äº†ï¼ˆæ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆç®€å•ï¼‰ã€‚æ€»ä¹‹ï¼Œæ ¹æ®åŒ…çš„è¿™äº›ä½¿ç”¨è§„èŒƒæ¥é€‰æ‹©ä¸€ä¸ªå¥½åç§°å§ã€‚&lt;/p&gt;

&lt;p&gt;å¦ä¸€ä¸ªçŸ­å°ç²¾æ‚çš„ä¾‹å­æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;once.Do&lt;/code&gt;ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;once.Do(setup)&lt;/code&gt; è¯»èµ·æ¥è‡ªç„¶ä¸”æµç•…ï¼Œå¦‚æœæŠŠåå­—æ”¹æˆ &lt;code class=&quot;highlighter-rouge&quot;&gt;once.DoOrWaitUntilDone(setup)&lt;/code&gt; å¥½åƒå¹¶æ²¡æœ‰å¿…è¦ã€‚é•¿åç§°å¹¶ä¸ä¼šè®©äº‹ç‰©æ›´å…·æœ‰å¯è¯»æ€§ã€‚ç›¸å¯¹äºé•¿çš„å‘½åæ–¹å¼ï¼Œæ³¨é‡Šæ–‡æ¡£å¾€å¾€å…·æœ‰æœ‰æ›´é«˜çš„ä»·å€¼ã€‚&lt;/p&gt;

&lt;h2 id=&quot;è·å–å™¨getters&quot;&gt;è·å–å™¨(Getters)&lt;/h2&gt;

&lt;p&gt;Go å¹¶æ²¡æœ‰å¯¹è·å–å™¨ï¼ˆgetterï¼‰å’Œè®¾ç½®å™¨ï¼ˆsetterï¼‰æä¾›è‡ªåŠ¨çš„æ”¯æŒï¼›ä¸è¿‡æˆ‘ä»¬å¯ä»¥è‡ªå·±æä¾›è·å–å™¨å’Œè®¾ç½®å™¨ï¼Œè€Œä¸”ä¸€èˆ¬ä¹Ÿæ¨èè¿™ä¹ˆåšï¼›ä½†æ˜¯å¯¹ Go è¯­è¨€æ¥è¯´æŠŠ Get æ”¾è¿›è·å–å™¨çš„åå­—é‡Œæ˜¾å¾—æ—¢ä¸æ˜æ™ºä¹Ÿæ²¡å¤ªå¤§å¿…è¦ã€‚æ¯”å¦‚ä¸€ä¸ªç»“æ„ä½“æœ‰ä¸€ä¸ªåä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;owner&lt;/code&gt; çš„å­—æ®µï¼ˆå°å†™ï¼Œæ„å‘³ç€éå¯¼å‡ºï¼Œåœ¨åŒ…å¤–ä¸èƒ½ç›´æ¥è®¿é—®è¿™ä¸ªå˜é‡ï¼‰ï¼Œå®ƒçš„è·å–å™¨çš„åå­—åº”è¯¥å« &lt;code class=&quot;highlighter-rouge&quot;&gt;Owner()&lt;/code&gt;ï¼ˆå¤§å†™å­—æ¯ï¼Œå¯å¯¼å‡ºï¼‰ï¼Œè€Œä¸æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;GetOwner()&lt;/code&gt;ã€‚åœ¨ Go è¯­è¨€ä¸­å¤§å†™å­—æ¯åç§°å¯ä»¥å¯¼å‡ºï¼Œè¿™ç§æœºåˆ¶ä½¿æ–¹æ³•åä¸å­—æ®µåå¯ä»¥ä¸å†²çªï¼Œä¸éœ€è¦æ·»åŠ  &lt;code class=&quot;highlighter-rouge&quot;&gt;Get&lt;/code&gt; å°±å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚äº†ã€‚å‡å¦‚è®¾ç½®å™¨å‡½æ•°æ˜¯å¿…é¡»çš„ï¼Œè®¾ç½®å™¨å‡½æ•°å¯ä»¥å–åä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;SetOwner()&lt;/code&gt;ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦åŠ ä¸Š &lt;code class=&quot;highlighter-rouge&quot;&gt;Set&lt;/code&gt; è¿™ä¸ªå•è¯äº†ï¼ˆè¿™é‡Œæˆ–è®¸æœ‰ç‚¹è¿‡å¤´äº†ã€‚ã€‚ï¼‰ã€‚å¦‚æ­¤ï¼Œä¸‹é¢çš„ä»£ç è¯»èµ·æ¥éƒ½å¾ˆæµç•…ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetOwner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;æ¥å£å&quot;&gt;æ¥å£å&lt;/h2&gt;

&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€ä¸ªæ–¹æ³•çš„æ¥å£çš„åç§°æ˜¯æ–¹æ³•ååŠ  â€œerâ€ åç¼€ï¼Œæˆ–è€…ç±»ä¼¼æ„é€ è€Œæˆçš„ä»£ç†åè¯ï¼Œæ¯”å¦‚ï¼šReader, Writer, Formatter, CloseNotifier ç­‰ã€‚è¿™ç§å‘½åæ–¹å¼æœ‰è®¸å¤šè¢«å¼€å‘è€…ç†ŸçŸ¥çš„æ¥å£ä»¥åŠæ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ Read, Write, Close, Flush, String ç­‰å‘½åæ–¹æ³•éƒ½æœ‰è§„èŒƒçš„ç­¾åï¼ˆå£°æ˜ï¼‰å’Œå«ä¹‰ï¼›ä¸ºäº†é¿å…æ··æ·†ï¼Œä½ è‡ªå·±çš„æ–¹æ³•é™¤éæœ‰ç›¸åŒçš„ç­¾åå’Œå«ä¹‰ï¼Œå¦åˆ™ä¸è¦ä»¥è¿™äº›åå­—å‘½åã€‚è€Œå‡å¦‚è‡ªå®šä¹‰çš„ç±»å‹å­˜åœ¨ä¸€ä¸ªæ–¹æ³•å’ŒæŸä¸ªå·²å­˜çš„ç±»å‹çš„æ–¹æ³•åŠŸèƒ½ç›¸ä¼¼ï¼Œè¿™ä¸ªæ—¶å€™å–ç›¸åŒçš„åå­—å°±å¯ä»¥äº†ã€‚æ¯”å¦‚å‡å¦‚ä½ å®šä¹‰äº†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢çš„æ–¹æ³•ï¼Œç›´æ¥å‘½åä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;String&lt;/code&gt; è€Œä¸è¦å‘½åä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;ToString&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ··åˆé©¼å³°å¼å‘½å&quot;&gt;æ··åˆé©¼å³°å¼å‘½å&lt;/h2&gt;

&lt;p&gt;æœ€åï¼ŒGo æƒ¯ä¾‹ä¸­ä½¿ç”¨æ··åˆé©¼å³° MixedCaps æˆ– mixedCaps æ¥ç»„ç»‡å¤šä¸ªå•è¯ç»„åˆçš„åç§°ï¼Œä¸æ¨èä½¿ç”¨ä¸‹åˆ’çº¿çš„æ–¹å¼ã€‚&lt;/p&gt;

&lt;h1 id=&quot;åˆ†å·&quot;&gt;åˆ†å·&lt;/h1&gt;

&lt;p&gt;åƒ C è¯­è¨€é‚£æ ·ï¼ŒGo è¯­è¨€ä½¿ç”¨åˆ†å·æ¥ç»“æŸè¯­å¥ï¼›ä½†æ˜¯å’Œ C ä¸åŒçš„æ˜¯ï¼Œè¿™äº›åˆ†å·å¹¶ä¸åœ¨æºç ä¸­å‡ºç°ã€‚å®é™…ä¸Šï¼Œè¯æ³•åˆ†æå™¨é€šè¿‡ä¸€ç§ç®€å•çš„è§„åˆ™è‡ªåŠ¨æ’å…¥åˆ†å·ï¼Œä»è€Œå…è®¸åœ¨æºç ä¸­ä¸å†™åˆ†å·ã€‚&lt;/p&gt;

&lt;p&gt;åˆ†å·æ’å…¥çš„è§„åˆ™æ˜¯ï¼šå¦‚æœ â‘  è¡Œå°¾ç¬¦å·çš„æœ€åä¸€ä¸ªç¬¦å·æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼ˆåŒ…æ‹¬ int å’Œ float64 ç­‰ï¼‰ã€â‘¡ æ•°å­—æˆ–å­—ç¬¦ä¸²å¸¸é‡ä¹‹ç±»çš„åŸºæœ¬å­—é¢ã€æˆ–è€…æ˜¯ â‘¢  &lt;code class=&quot;highlighter-rouge&quot;&gt;break continue fallthrough return ++ -- ) }&lt;/code&gt; å…¶ä¸­ä»»æ„ä¸€ä¸ªæ ‡è®°ï¼Œè¯æ³•åˆ†æå™¨å°±ä¼šåœ¨è¿™äº›æ ‡è®°åé¢æ’å…¥ä¸€ä¸ªåˆ†å·ã€‚å¯ä»¥ç®€å•æ€»ç»“ä¸ºï¼šâ€œå¦‚æœä¸€ä¸ªæ ‡è¯†ç¬¦çš„ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯è¡Œå°¾ç¬¦ï¼Œä¸”è¿™ä¸ªæ ‡è¯†ç¬¦å¯ä»¥ç»ˆæ­¢ä¸€æ¡è¯­å¥ï¼Œå°±æ’å…¥ä¸€ä¸ªåˆ†å·â€ã€‚&lt;/p&gt;

&lt;p&gt;ç´§æ¥åœ¨å³å¤§æ‹¬å·å‰é¢çš„åˆ†å·å¯ä»¥çœç•¥ï¼Œå› æ­¤è¡¨è¾¾å¼ &lt;code class=&quot;highlighter-rouge&quot;&gt;go func() { for { dst &amp;lt;- &amp;lt;-src } }()&lt;/code&gt; ä¸ä¼šæ’å…¥ä»»ä½•çš„åˆ†å·ã€‚Go ç¨‹åºä¸­åªæœ‰ä¸€ç§æ˜¾å¼ä½¿ç”¨åˆ†å·çš„æƒ…å†µå°±æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt; å¾ªç¯è¯­å¥ï¼Œé€šè¿‡åˆ†å·æ¥åˆ†å‰²&lt;strong&gt;åˆå§‹åŒ–è¯­å¥&lt;/strong&gt;ã€&lt;strong&gt;æ¡ä»¶è¯­å¥&lt;/strong&gt;å’Œ&lt;strong&gt;è¿­ä»£å˜é‡ä¿®æ”¹è¯­å¥&lt;/strong&gt;ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æƒ³åœ¨ä¸€è¡Œé‡Œå†™å¤šæ¡è¯­å¥ï¼Œåº”è¯¥æ˜¾å¼åœ°ä½¿ç”¨åˆ†å·æ¥åˆ†å‰²è¿™äº›è¯­å¥ã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šé¢è®²åˆ°çš„åˆ†å·æ’å…¥è§„åˆ™å­˜åœ¨ä¸€ä¸ªå±€é™æ€§ï¼šä½ ä¸å¯ä»¥æŠŠæ§åˆ¶ç»“æ„è¯­å¥ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;if&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;switch&lt;/code&gt;, æˆ–è€… &lt;code class=&quot;highlighter-rouge&quot;&gt;select&lt;/code&gt;ï¼‰çš„å·¦å¤§æ‹¬å·æ”¾åœ¨æ–°çš„ä¸€è¡Œï¼Œè€Œæ˜¯åº”è¯¥æ”¾åœ¨åŒä¸€è¡Œä¸­ã€‚å¦‚æœä½ æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;if&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;switch&lt;/code&gt;, æˆ–è€… &lt;code class=&quot;highlighter-rouge&quot;&gt;select&lt;/code&gt; ç´§è·Ÿç€çš„å¤§æ‹¬å·æ”¾åœ¨æ–°çš„ä¸€è¡Œï¼Œæ ¹æ®åˆ†å·çš„æ’å…¥è§„åˆ™ï¼Œå·¦å¤§æ‹¬å·å‰é¢ä¼šè¢«æ’å…¥ä¸€ä¸ªåˆ†å·ï¼Œè¿™è‚¯å®šä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚å¯ä»¥çœ‹ä¸‹é¢çš„ä¾‹å­åŠå…¶åä¾‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸åº”è¯¥å†™æˆä¸‹é¢çš„æ ·å­ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;// wrong!&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;           &lt;span class=&quot;c&quot;&gt;// wrong!&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/chalvern/books/tree/master/golang/official_go_learning&quot;&gt;åŸæ±åŸå‘³ Go è¯­è¨€å­¦ä¹ (æ•™æ¡ˆ)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 04 Oct 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/10/04/effectivego-name-semicolons.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/10/04/effectivego-name-semicolons.html</guid>
        
        <category>golang</category>
        
        <category>åŸºç¡€</category>
        
        <category>å®ç”¨</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>ã€ŠåŸæ±åŸå‘³ Go è¯­è¨€å­¦ä¹ ã€‹(2) effective go ç®€ä»‹ã€æ ¼å¼åŒ–ä¸æ³¨é‡Šéƒ¨åˆ†</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#èµ„æ–™&quot; id=&quot;markdown-toc-èµ„æ–™&quot;&gt;èµ„æ–™&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ç®€ä»‹&quot; id=&quot;markdown-toc-ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ç¤ºä¾‹ä»£ç &quot; id=&quot;markdown-toc-ç¤ºä¾‹ä»£ç &quot;&gt;ç¤ºä¾‹ä»£ç &lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ ¼å¼åŒ–&quot; id=&quot;markdown-toc-æ ¼å¼åŒ–&quot;&gt;æ ¼å¼åŒ–&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ³¨é‡Š&quot; id=&quot;markdown-toc-æ³¨é‡Š&quot;&gt;æ³¨é‡Š&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;èµ„æ–™&quot;&gt;èµ„æ–™&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://golang.google.cn/doc/effective_go.html&quot;&gt;effective go è‹±æ–‡åŸæ–‡&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.bilibili.com/video/av70108449&quot;&gt;æœ¬æ–‡çš„ bilibili è§†é¢‘åœ°å€&lt;/a&gt; æ¬¢è¿è½¬å‘åˆ†äº«ğŸ˜†&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/h1&gt;
&lt;p&gt;Go æ˜¯ä¸€ä¸ªæ–°çš„ç¼–ç¨‹è¯­è¨€ã€‚è™½ç„¶å®ƒä»æ—¢æœ‰çš„ç¼–ç¨‹è¯­è¨€ä¸­å€Ÿé‰´äº†å¾ˆå¤šç†å¿µï¼Œä½†æ˜¯å®ƒä¹Ÿæœ‰å¾ˆå¤šä¸ä¼—ä¸åŒçš„ç‰¹æ€§ï¼Œè¿™ä½¿å¾— Go å’Œå…¶ä»–çš„ç¼–ç¨‹è¯­è¨€åŒºåˆ«å¼€æ¥ã€‚å¦‚æœä¸€ä¸ª Javaï¼ˆC++ï¼‰ å†™çš„åº”ç”¨åº”ç”¨ç›´æ¥æŒ‰ç…§ Javaï¼ˆC++ï¼‰ çš„ä»£ç é€»è¾‘è½¬è¯‘æˆ Go è¯­è¨€çš„åº”ç”¨ç¨‹åºï¼Œæœ€åå¾ˆå¯èƒ½å¾—ä¸åˆ°ä¸€ä¸ªæ»¡æ„çš„æ•ˆæœâ€”â€”æ¯•ç«Ÿ Java åº”ç”¨ç¨‹åºæ˜¯ç”¨ Java å†™çš„ï¼Œé‡Œé¢åŒ…å«äº†å¤ªå¤šJavaçš„ä¸œè¥¿ï¼Œè€Œ Java è·Ÿ Go æ¯” å°‘äº†å¾ˆå¤šç‰¹æ€§ï¼Œå› æ­¤ç›´æ¥è½¬è¯‘è‚¯å®šæ˜¯ä¸åˆé€‚çš„ã€‚æ¢ä¸ªè§’åº¦æ¥æ€è€ƒï¼Œä» Go çš„è§†è§’åˆ†æé—®é¢˜å¹¶æ®æ­¤è®¾è®¡è½¯ä»¶ï¼Œæœ€åä¹Ÿä¼šå¾—åˆ°ä¸€ä¸ªç‹¬ç‰¹çš„æ¶æ„æ–¹æ¡ˆï¼Œæ­¤æ—¶å¦‚æœæŠŠè¿™ä¸ª Go åº”ç”¨ç¨‹åºè½¬è¯‘æˆ Java è¯­è¨€ç­‰å…¶ä»–è¯­è¨€çš„åº”ç”¨ç¨‹åºè‚¯å®šä¹Ÿä¸å®¹æ˜“ã€‚æ¢å¥è¯è¯´ï¼Œä¸ºäº†å†™å¥½ Go è¯­è¨€çš„ç¨‹åºï¼Œå­¦ä¹ å®ƒçš„è¯­è¨€ç‰¹æ€§å’Œè¯­è¨€è§„èŒƒæ˜¯å¾ˆé‡è¦çš„ã€‚è€Œé™¤äº†å¿…é¡»è¦éµå¾ªæˆ–å‚è€ƒçš„è¯­è¨€ç‰¹æ€§å’Œè¯­è¨€è§„èŒƒï¼Œäº†è§£ Go è¯­è¨€ç¼–ç¨‹çš„ä¸€äº›äººä¸ºçš„çº¦å®šä¹Ÿå¾ˆé‡è¦ï¼Œæ¯”å¦‚å‘½åã€æ ¼å¼ã€ç¨‹åºæ„å»ºç­‰ç›¸å…³çš„å†…å®¹ï¼Œè¿™æ ·ä½ å†™å‡ºæ¥çš„ç¨‹åºå°±æ›´å®¹æ˜“è¢«å…¶ä»–å¼€å‘è€…ç†è§£ï¼Œä»è€Œä¾¿äºå¤šäººåä½œè¿›è¡Œå¼€å‘ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡æ¡£ç»™å‡ºäº†ä¸€äº› Go è¯­è¨€çš„ç¼–ç æŠ€å·§ã€‚éµä»è¿™äº›æŠ€å·§å¯ä»¥ç¼–å†™å‡ºæ¸…æ™°ã€è§„èŒƒçš„ Go è¯­è¨€ç¨‹åºã€‚è¿™ç¯‡æ–‡æ¡£æ˜¯â€œ&lt;a href=&quot;https://golang.google.cn/ref/spec&quot;&gt;è¯­è¨€ç‰¹æ€§&lt;/a&gt;â€ã€â€œ&lt;a href=&quot;https://tour.golang.org/&quot;&gt;Goå­¦ä¹ (éœ€è¦ç§‘å­¦ä¸Šç½‘)&lt;/a&gt;â€å’Œâ€œ&lt;a href=&quot;https://golang.google.cn/doc/code.html&quot;&gt;å¦‚ä½•å†™ Go ç¨‹åº&lt;/a&gt;â€çš„è¡¥å……å†…å®¹ï¼Œå› æ­¤åœ¨çœ‹æœ¬æ–‡å‰å…ˆçœ‹çœ‹è¿™äº›æ–‡æ¡£å†å­¦ä¹ æœ¬æ–‡æ¡£ä¼šæ›´å¥½ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç¤ºä¾‹ä»£ç &quot;&gt;ç¤ºä¾‹ä»£ç &lt;/h2&gt;
&lt;p&gt;Go æºç åŒ…ä¸ä»…ä»…æ˜¯ Go çš„æ ¸å¿ƒåŠŸèƒ½åº“ï¼Œé‡Œé¢åŒæ—¶æä¾›äº†è¯­è¨€ç‰¹æ€§çš„å„ç§å®é™…ç”¨æ³•ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè®¸å¤šçš„ package åŒ…éƒ½æ¶µç›–äº†å¯ç›´æ¥è¿è¡Œçš„ä¾‹å­ï¼Œè¿™äº›ä¾‹å­å¤§éƒ½ä¸åŒ…å«å…¶ä»–çš„ä¾èµ–åº“ï¼Œå› æ­¤å¯ä»¥ç›´æ¥åœ¨ golang.google.cn è¿™ä¸ªç½‘é¡µä¸Šè¿è¡Œï¼Œæ¯”å¦‚ &lt;a href=&quot;https://golang.google.cn/pkg/strings/#example_Map&quot;&gt;è¿™ä¸ª&lt;/a&gt; ä¾‹å­ã€‚å¦‚æœä½ åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªè¯­è¨€ç‰¹æ€§ç›¸å…³æˆ–è€…åº“çš„åº”ç”¨è®¾è®¡ç”šè‡³å®ç°ç›¸å…³çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥åˆ°æ ¸å¿ƒä»£ç åº“æœå¯»ä¸€ä¸‹ï¼Œåº”è¯¥ä¼šæœ‰æ‰€æ”¶è·çš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://golang.google.cn/pkg/&quot;&gt;Go æºç åŒ…&lt;/a&gt; åˆ—è¡¨ã€‚&lt;/p&gt;

&lt;h1 id=&quot;æ ¼å¼åŒ–&quot;&gt;æ ¼å¼åŒ–&lt;/h1&gt;

&lt;p&gt;ä»£ç çš„æ ¼å¼ä¸€èˆ¬ä¸å½±å“ä»£ç çš„æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯å› ä¸ºå½±å“åˆ°äººçš„é˜…è¯»ä½“éªŒï¼Œæ‰€ä»¥ä¸åŒçš„ä»£ç é£æ ¼å¾€å¾€å¯¼è‡´ä¸€äº›äº‰è®®ã€‚å½“ç„¶å¯ä»¥è®©ä»»ä½•å¼€å‘è€…ä»ä¸€ä¸ªé£æ ¼è¿ç§»åˆ°å¦ä¸€ä¸ªä»£ç é£æ ¼ï¼Œå¹¶æ®æ­¤è¿›è¡Œç¼–ç ï¼Œä½†æ˜¯æœ€å¥½ä¸è®©å¼€å‘è€…æœ‰è¿™ç§é€‰æ‹©çš„æœºä¼šï¼Œè¯•æƒ³å½“æ¯ä¸ªäººéƒ½ä½¿ç”¨åŒä¸€ç§ç¼–ç é£æ ¼è¿›è¡Œå¼€å‘æ—¶ï¼Œæ ¼å¼åŒ–é—®é¢˜å°±ä¸ä¼šå ç”¨å¤§å®¶é‚£ä¹ˆå¤šæ—¶é—´å»é€‚åº”å„ç§é£æ ¼äº†ï¼Œç›¸å¯¹ä¹Ÿå°±èŠ‚çœäº†æ—¶é—´ã€‚å½“ç„¶ç†æƒ³å¾ˆä¸°æ»¡ï¼Œé—®é¢˜æ˜¯å¦‚ä½•åœ¨çŸ­æœŸå†…å¿«é€Ÿä¸”è‡ªç„¶åœ°å®ç°è¿™ä¸ªç†æƒ³ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ Go è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è®©æœºå™¨å¸®æˆ‘ä»¬å¤„ç†å¤§éƒ¨åˆ†çš„æ ¼å¼é—®é¢˜ã€‚ç¨‹åº gofmt ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡ go fmt å­å‘½ä»¤è¿›è¡Œè°ƒç”¨ï¼Œå®ƒä¼šåœ¨åŒ…çº§åˆ«ä¸Šåšæ ¼å¼åŒ–å¤„ç†ï¼Œä¸èƒ½æŒ‡å®šæ–‡ä»¶è¿›è¡Œæ ¼å¼åŒ–ï¼Œå³ &lt;code class=&quot;highlighter-rouge&quot;&gt;usage: go fmt [-n] [-x] [packages]&lt;/code&gt;ï¼Œä¸è¿‡åœ¨ go1.13 ç‰ˆæœ¬æ˜¯å¯ä»¥åˆ¶å®šæŸä¸ªç‰¹å®šçš„æ–‡ä»¶çš„ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å“ªé‡Œç†è§£é”™äº†ï¼‰è¯»å–ä¸€ä¸ª Go ä»£ç ï¼Œç„¶åæŒ‰ç…§æ ‡å‡†é£æ ¼å¯¹ä»£ç è¿›è¡Œç¼©è¿›ã€å‚ç›´å¯¹é½ç­‰ä¿®æ”¹ä»è€Œäº§ç”Ÿè§„èŒƒåŒ–çš„ä»£ç ï¼›è¿™ä¸ªä¿®æ”¹çš„è¿‡ç¨‹åªé™äºä»£ç ï¼Œä¸åŒ…æ‹¬æ³¨é‡Šï¼Œæ³¨é‡Šä¸€èˆ¬æˆ‘ä»¬å†™çš„ä»€ä¹ˆæ ·å­å°±æ˜¯ä»€ä¹ˆæ ·å­ï¼Œæ®è¯´ä¹Ÿä¼šåœ¨å¿…è¦æ—¶é€‚å½“é‡æ–°æ ¼å¼åŒ–æ³¨é‡Šï¼ˆå¦‚æœå¤§å®¶é‡åˆ°ç±»ä¼¼çš„æƒ…å†µæ¬¢è¿åˆ†äº«ï¼‰ã€‚å¦‚æœä½ çš„ä»£ç ä¸­å­˜åœ¨æ ¼å¼ä¸Šçš„å¸ƒå±€é—®é¢˜ï¼Œæ‰§è¡Œ gofmt å°±å¥½äº†ï¼›å¦‚æœä½¿ç”¨ gofmt çš„æ•ˆæœå’Œé¢„æœŸçš„ä¸ä¸€æ ·ï¼Œé‡æ–°è°ƒæ•´ä¸€ä¸‹ä½ çš„ä»£ç å†è¿è¡Œä¸€æ¬¡å°±å¯ä»¥äº†ï¼Œå¦‚æœå®åœ¨å¾—ä¸åˆ°è‡ªå·±æƒ³è¦çš„ç»“æœï¼Œä¹Ÿå¯ä»¥è€ƒè™‘ç»™ gofmt æäº¤ä¸€ä¸ªä¿®æ”¹æ„è§ï¼Œæ€»ä¹‹ä¸è¦åœ¨æ ¼å¼é—®é¢˜ä¸ŠèŠ±å¤ªå¤šæ—¶é—´å°±å¯¹äº†ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä»¥ç»“æ„ä½“ä¸ºä¾‹ï¼Œåœ¨å£°æ˜ç»“æ„ä½“çš„æ—¶å€™ï¼Œå¯¹äºç»“æ„ä½“é‡Œé¢çš„å­—æ®µï¼Œæˆ‘ä»¬æ²¡æœ‰å¿…è¦æ‰‹åŠ¨å¯¹é½å­—æ®µåã€å­—æ®µç±»å‹ã€æ³¨é‡Šç­‰ï¼Œgofmt å¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨å®ç°è¿™ç§å¯¹é½ã€‚æ¯”å¦‚å¯¹äºæœ‰ä¸‹é¢çš„å£°æ˜ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// name of the object&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// its value&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;gofmt ä¼šå¯¹é½æ¯ä¸€è¡Œçš„å†…å®¹ï¼Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;    &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// name of the object&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;   &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;    &lt;span class=&quot;c&quot;&gt;// its value&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å€¼å¾—å…³æ³¨çš„æ˜¯ï¼Œæ ‡å‡†åº“ä¸­æ‰€æœ‰çš„ Go æºç éƒ½è¢« gofmt æ ¼å¼åŒ–è¿‡ï¼Œå› æ­¤æ¨èå¤§å®¶å»çœ‹çœ‹æ ‡å‡†åº“ä¸­çš„æºç ï¼Œä»è€Œä½“ä¼šä¸€ä¸‹è¿™ç§ç®€æ´çš„ç»Ÿä¸€çš„ç¾ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äº Go è¯­è¨€çš„æ ¼å¼ï¼Œé™¤äº†ä¸Šé¢æåˆ°çš„ gofmt çš„å¦™ç”¨ï¼Œå…¶å®è¿˜æ˜¯æœ‰å‡ ä¸ªéå¸¸ç®€å•çš„ç»†èŠ‚éœ€è¦å¤§å®¶çŸ¥é“ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ç¼©è¿›&lt;/p&gt;

    &lt;p&gt;åœ¨ Go è¯­è¨€ä¸­ï¼Œç¼©è¿›é»˜è®¤ä½¿ç”¨åˆ¶è¡¨ç¬¦ï¼ˆTabï¼‰æ¥ç¼©è¿›ï¼Œè¿™ä¹Ÿæ˜¯ gofmt çš„é»˜è®¤åšæ³•ï¼›é™¤éå¿…è¦ï¼Œå¦åˆ™ä¸å»ºè®®ä½¿ç”¨ç©ºæ ¼è¿›è¡Œç¼©è¿›ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ¯è¡Œä»£ç çš„é•¿åº¦&lt;/p&gt;

    &lt;p&gt;Go è¯­è¨€ä¸­æ¯è¡Œçš„ä»£ç é•¿åº¦æ˜¯æ²¡æœ‰é™åˆ¶çš„ï¼Œå› æ­¤ä¸ç”¨æ‹…å¿ƒé•¿åº¦æº¢å‡ºçš„é—®é¢˜ï¼›å½“ç„¶å¦‚æœä¸€è¡Œä»£ç å¤ªé•¿äº†ï¼Œå¯ä»¥è€ƒè™‘æ‰‹åŠ¨æ¢è¡Œï¼Œå»ºè®®åœ¨æ–°è¡Œå‰é¢æ·»åŠ ä¸€äº› Tab ç¬¦æ¥ç¤ºæ„å®ƒå’Œä¸Šä¸€è¡Œæ˜¯æœ‰å…³ç³»çš„ï¼Œä¾¿äºé˜…è¯»ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ‹¬å·&lt;/p&gt;

    &lt;p&gt;ä¸ C å’Œ Java ç›¸æ¯”è¾ƒï¼Œ Go è¯­è¨€åªéœ€è¦å°‘é‡çš„æ‹¬å·å°±èƒ½å®ç°å¾ˆå¤šåŠŸèƒ½ï¼šåœ¨æ§åˆ¶ç»“æ„ ifã€forã€switch çš„å£°æ˜ä¸­ä¸éœ€è¦æŠŠè¯­å¥æ‹¬èµ·æ¥å°±èƒ½æ­£å¸¸è¿è¡Œã€‚åŒæ—¶ï¼Œæ“ä½œç¬¦é¢„å®šä¹‰çš„ä¼˜å…ˆçº§ä¹Ÿå¾ˆç®€çŸ­æ˜äº†ï¼Œæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;x&amp;lt;&amp;lt;8 + y&amp;lt;&amp;lt;16&lt;/code&gt; å…¶ä¸­ç©ºæ ¼çš„å­˜åœ¨å°±å·²ç»æš—ç¤ºäº†è®¡ç®—çš„ä¼˜å…ˆçº§ï¼ˆç©ºæ ¼ç»ç”± &lt;code class=&quot;highlighter-rouge&quot;&gt;gofmt&lt;/code&gt; æ ¼å¼åŒ–æ—¶ä¼šè‡ªåŠ¨æ·»åŠ ï¼Œå¼€å‘è€…ä¸éœ€è¦ç‰¹åˆ«å…³æ³¨è¿™é‡Œçš„ç©ºæ ¼ï¼‰ã€‚&lt;/p&gt;

    &lt;p&gt;æ¯”å¦‚ä¸‹é¢çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt; å¾ªç¯çš„ä»£ç :&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;æ³¨é‡Š&quot;&gt;æ³¨é‡Š&lt;/h1&gt;

&lt;p&gt;Go è¯­è¨€æä¾›äº† C è¯­è¨€é£æ ¼é‡Œçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;/* */&lt;/code&gt; &lt;strong&gt;å—æ³¨é‡Š&lt;/strong&gt;å’Œ C++ è¯­è¨€é£æ ¼é‡Œçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;//&lt;/code&gt; &lt;strong&gt;è¡Œæ³¨é‡Š&lt;/strong&gt;ã€‚è¿™ä¸¤ç§æ³¨é‡Šé£æ ¼ä¸­ï¼Œè¡Œæ³¨é‡Šæ˜¯ä¸»è¦çš„æ³¨é‡Šæ–¹å¼ï¼Œå—æ³¨é‡Šçš„é£æ ¼æ›´å¤šåœ°ç”¨åœ¨åŒ…æ³¨é‡Šçš„åœºåˆï¼Œä½†æ˜¯å—æ³¨é‡Šè¿˜æœ‰ä¸€ä¸ªç”¨å¤„ï¼Œå°±æ˜¯åœ¨è¡Œå†…è¡¨è¾¾å¼é—´ä½¿ç”¨ï¼Œæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Println(1&amp;lt;&amp;lt;8 /* è¿™é‡Œåˆ»æ„æ³¨é‡Šä¸€æ®µè¯ï¼Œæ‰“å° 260 */ + 1&amp;lt;&amp;lt;2)&lt;/code&gt;ï¼›å½“ç„¶ï¼Œå½“ä¸´æ—¶åˆ é™¤å¤§å—çš„ä»£ç çš„æ—¶å€™ç”¨å—æ³¨é‡Šçš„æ–¹å¼ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;godoc&lt;/code&gt; æ˜¯ä¸€ä¸ªç¨‹åºï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª Web æœåŠ¡å™¨ï¼Œå®ƒèƒ½ä» Go æºç æ–‡ä»¶ä¸­æå–å„ä¸ª package åŒ…é‡Œçš„æ–‡æ¡£ã€‚åœ¨åŒ…çº§åˆ«ä½œç”¨åŸŸçš„å£°æ˜è¯­å¥å‰ç›´æ¥å‡ºç°çš„æ³¨é‡Šè¯­å¥ï¼ˆæ³¨é‡Šå’Œä»£ç ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼è¡Œï¼‰ä¼šå’Œå£°æ˜è¯­å¥ä¸€èµ·è¢«æŠ½å–å‡ºæ¥ä½œä¸ºç›¸åº”æ¡ç›®çš„æ–‡æ¡£æ–‡æœ¬ã€‚å› æ­¤æºç ä¸­æ³¨é‡Šçš„å…·ä½“å†…å®¹åŠå…¶æ’ç‰ˆé£æ ¼ç›´æ¥å†³å®šäº† godoc ç”Ÿæˆçš„æ–‡æ¡£çš„è´¨é‡ã€‚&lt;/p&gt;

&lt;p&gt;ã€æ³¨ã€‘ï¼šå¯é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;go get -v golang.org/x/tools/cmd/godoc&lt;/code&gt; å®‰è£… godoc å‘½ä»¤ã€‚&lt;/p&gt;

&lt;p&gt;æ¯ä¸ªåŒ…éƒ½åº”è¯¥åœ¨åŒ…å£°æ˜å‰åŒ…å«ä¸€ä¸ªå—æ³¨é‡Šç”¨æ¥ä»‹ç»åŒ…çš„åŠŸèƒ½â€”â€”å³åŒ…æ³¨é‡Šã€‚å¦‚æœä¸€ä¸ªåŒ…å­˜åœ¨å¾ˆå¤šä¸ªæ–‡ä»¶ï¼Œåªéœ€åœ¨ä»»ä½•ä¸€ä¸ªæ–‡ä»¶ä¸­åŒ…å«åŒ…æ³¨é‡Šå°±å¯ä»¥äº†ã€‚åŒ…æ³¨é‡Šåº”è¯¥ä»‹ç»åŒ…çš„åŠŸèƒ½å¹¶æä¾›æ•´ä¸ªåŒ…ç›¸å…³çš„ä¿¡æ¯ã€‚å› ä¸ºåŒ…æ³¨é‡Šä¼šå‡ºç°åœ¨ godoc æœ€å‰é¢çš„é¡µé¢ä¸Šï¼Œå› æ­¤åº”è¯¥è®¾ç½®ç´§éšå…¶åçš„è¯¦ç»†æ–‡æ¡£ã€‚ä¸‹é¢ç»™å‡ºäº† &lt;code class=&quot;highlighter-rouge&quot;&gt;regexp&lt;/code&gt; è¿™ä¸ªåŒ…çš„æ³¨é‡Šç¤ºä¾‹ï¼Œå…¶é¦–å…ˆä»‹ç»äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;regexp&lt;/code&gt; åŒ…çš„ä¸»è¦åŠŸèƒ½ï¼Œç„¶åé©¬ä¸Šç»™å‡ºäº†å…¶æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;/*
Package regexp implements a simple library for regular expressions.

The syntax of the regular expressions accepted is:

    regexp:
        concatenation { '|' concatenation }
    concatenation:
        { closure }
    closure:
        term [ '*' | '+' | '?' ]
    term:
        '^'
        '$'
        '.'
        character
        '[' [ '^' ] character-ranges ']'
        '(' regexp ')'
*/&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;regexp&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœä¸€ä¸ªåŒ…çš„åŠŸèƒ½éå¸¸ç®€å•ï¼ŒåŒ…æ³¨é‡Šä¹Ÿå¯ä»¥ç®€åŒ–æˆä¸ºè¡Œæ³¨é‡Šï¼Œæ¯”å¦‚ä¸‹é¢ &lt;code class=&quot;highlighter-rouge&quot;&gt;path&lt;/code&gt; åŒ…çš„æ³¨é‡Šï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Package path implements utility routines for&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// manipulating slash-separated filename paths.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Go è¯­è¨€çš„æ³¨é‡Šé‡Œä¸éœ€è¦é™„åŠ æ ¼å¼ç¬¦å·ï¼Œæ¯”å¦‚ä¸éœ€è¦ &lt;code class=&quot;highlighter-rouge&quot;&gt;**something**&lt;/code&gt; è¿™ç§åŠ ç²—å¼ºè°ƒçš„è¯­æ³•ã€‚ç”±äºè‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£ç”šè‡³æ²¡æœ‰å›ºå®šå®½åº¦çš„å­—ä½“ï¼Œå› æ­¤ä¹Ÿä¸è¦è¯•å›¾é€šè¿‡ç©ºæ ¼æ¥å¯¹é½æŸäº›å†…å®¹ï¼›å’Œå‰é¢è®²çš„ gofmt ä¸€æ ·ï¼Œgodoc ä¼šè‡ªåŠ¨å¤„ç†è¿™äº›æƒ…å†µã€‚åœ¨ Go è¯­è¨€ä¸­ï¼Œæ³¨é‡Šæ˜¯æœªç»ç‰¹åˆ«è§£æçš„çº¯æ–‡æœ¬ï¼ŒHTML å’Œå…¶ä»–çš„æ³¨è§£ï¼Œæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;_this_&lt;/code&gt; ä¼šæŠŠæ¯ä¸ªå­—ç¬¦é‡æ–°æ‰“å°å‡ºæ¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;_this_&lt;/code&gt;ï¼Œå› æ­¤ä¸åº”è¯¥ä½¿ç”¨è¿™äº›ç‰¹æ®Šçš„æ ·å¼ã€‚godoc ä¼šç”¨å›ºå®šå®½åº¦çš„å­—ä½“è¡¨ç¤ºç¼©è¿›ï¼Œå› æ­¤å¯ä»¥éå¸¸å®Œç¾åœ°å±•ç¤ºæ³¨é‡Šä¸­çš„ä»£ç ç‰‡æ®µï¼›åœ¨æ ¸å¿ƒä»£ç åº“ä¸­ï¼ŒåŒ… &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt&lt;/code&gt; çš„&lt;a href=&quot;https://github.com/golang/go/blob/release-branch.go1.13/src/fmt/doc.go&quot;&gt;åŒ…æ³¨é‡Š&lt;/a&gt;å°±å¾ˆå¥½åœ°åˆ©ç”¨äº†è¿™ä¸ªç‰¹æ€§ã€‚&lt;/p&gt;

&lt;p&gt;godoc ä¼šæ ¹æ®ä¸Šä¸‹æ–‡æ¥å†³ç­–è¦ä¸è¦é‡æ–°æ ¼å¼åŒ–æ³¨é‡Šï¼Œå› æ­¤è¯·ç¡®è®¤ä½ çš„æ³¨é‡Šçœ‹ä¸Šå»å·²ç»å¾ˆä¸é”™äº†ï¼Œæ¯”å¦‚ä½¿ç”¨æ­£ç¡®çš„æ‹¼å†™ã€åˆé€‚çš„æ ‡ç‚¹ç¬¦å·ã€ç®€æ´çš„å¥å­ç»“æ„ï¼ŒæŠ˜å è¿‡é•¿çš„å¥å­ï¼Œç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;åŒ…ä¸­ä»»ä½•ä¸€ä¸ªåœ¨é¡¶å±‚å£°æ˜ï¼ˆåœ¨åŒ…ä½œç”¨åŸŸçš„å£°æ˜ï¼‰ä¹‹å‰çš„æ³¨é‡Šå‡è¢«è®¤ä¸ºæ˜¯ç›¸åº”å£°æ˜çš„æ³¨é‡Šæ–‡æ¡£ï¼Œä¼šè¢« godoc è‡ªåŠ¨æŠ½å–å±•ç¤ºå‡ºæ¥ã€‚ç¨‹åºä¸­æ¯ä¸€ä¸ªå¯¼å‡ºçš„åå­—ï¼ˆé¦–å­—æ¯å¤§å†™çš„åç§°ï¼ŒåŒ…æ‹¬å¸¸é‡ã€å˜é‡ã€å‡½æ•°ã€æ–¹æ³•ç­‰ï¼‰éƒ½åº”è¯¥æœ‰ä¸€ä¸ªæ³¨é‡Šæ–‡æ¡£ï¼Œä»è€Œæ–¹ä¾¿å…¶ä»–åº“å¼•ç”¨è¿™ä¸ªåå­—æ—¶çŸ¥é“è¿™ä¸ªåå­—çš„å…·ä½“å«ä¹‰ã€‚&lt;/p&gt;

&lt;p&gt;æ³¨é‡Šæ–‡æ¡£æœ€å¥½æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¥å­ï¼Œè¿™å¯ä»¥å¢åŠ å±•ç¤ºæ–¹å¼çš„çµæ´»åº¦ã€‚åŒæ—¶ï¼Œæ³¨é‡Šæ–‡æ¡£çš„ç¬¬ä¸€å¥æœ€å¥½æ˜¯å¯¹åº”åç§°çš„ä¸€å¥è¯æ€»ç»“ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Compile parses a regular expression and returns, if successful,&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// a Regexp that can be used to match against text.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Compile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæ¯ä¸ªæ³¨é‡Šæ–‡æ¡£çš„ç¬¬ä¸€ä¸ªå•è¯éƒ½æ˜¯å®ƒçš„æè¿°å¯¹è±¡ï¼Œå¼€å‘è€…å°±å¯ä»¥ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;go&lt;/code&gt; å‘½ä»¤è¡Œå·¥å…·çš„å­å‘½ä»¤ &lt;code class=&quot;highlighter-rouge&quot;&gt;doc&lt;/code&gt; ç”Ÿæˆæ–‡æ¡£ç„¶åä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;grep&lt;/code&gt; æŸ¥éªŒæƒ³è¦å¯»æ‰¾çš„å†…å®¹ã€‚æ¯”å¦‚ä½ æƒ³ä¸èµ·æ¥åç§° &lt;code class=&quot;highlighter-rouge&quot;&gt;Compile&lt;/code&gt; äº†ï¼Œä½†æ˜¯æƒ³æ‰¾æ­£åˆ™è¡¨è¾¾å¼çš„&lt;strong&gt;è§£æ&lt;/strong&gt;å‡½æ•°ï¼Œæ­¤æ—¶ä½ å¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ‰¾åˆ°ç›¸åº”çš„å†…å®¹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;go doc &lt;span class=&quot;nt&quot;&gt;-all&lt;/span&gt; regexp | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; parse
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæ‰€æœ‰çš„åŒ…æ³¨é‡Šæ–‡æ¡£éƒ½æ˜¯ â€this function â€¦â€ å¼€å§‹çš„ï¼Œgrep è¿‡æ»¤å¸®ä½ æ‰¾ä¸åˆ°ç›¸åº”çš„åç§°ã€‚ä½†æ­£å› ä¸º regexp åŒ…é‡Œæ¯ä¸ªåç§°çš„æ³¨é‡Šçš„ç¬¬ä¸€ä¸ªå•è¯éƒ½æ˜¯å¯¹åº”çš„åç§°ï¼Œå› æ­¤ä½¿ç”¨ grep è¿‡æ»¤çš„æ—¶å€™å¾ˆå®¹æ˜“å°±èƒ½çœ‹åˆ°è¿™ä¸ªåç§°ï¼Œä»è€Œè®©ä½ æ‰¾åˆ°ä½ æƒ³è¦çš„å•è¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;go doc &lt;span class=&quot;nt&quot;&gt;-all&lt;/span&gt; regexp | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; parse
    Compile parses a regular expression and returns, &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;successful, a Regexp
    MustCompile is like Compile but panics &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;the expression cannot be parsed.
    parsed. It simplifies safe initialization of global variables holding
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Go çš„å£°æ˜è¯­æ³•å…è®¸å¯¹ä¸€ç»„å˜é‡è¿›è¡Œå£°æ˜ï¼Œç„¶åå¯ä»¥ç”¨å•ä¸ªæ³¨é‡Šæ–‡æ¡£ä»‹ç»è¿™ä¸€ç»„å¸¸é‡æˆ–è€…å˜é‡ã€‚å½“ç„¶ï¼Œè¿™ç§æ³¨é‡Šå†…å®¹å¾€å¾€æ¯”è¾ƒç¬¼ç»Ÿã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Error codes returned by failures to parse an expression.ï¼ˆè¡¨è¾¾å¼è§£æå¤±è´¥çš„é”™è¯¯ç ï¼‰&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ErrInternal&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;New&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;regexp: internal error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ErrUnmatchedLpar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;New&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;regexp: unmatched '('&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ErrUnmatchedRpar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;New&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;regexp: unmatched ')'&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ç»„&lt;/strong&gt;ä¹Ÿå¯ç”¨æ¥æš—ç¤ºæŸå‡ ä¸ªåè¯ä¹‹é—´çš„æŸç§å…³è”å…³ç³»ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç å£°æ˜äº†ä¸€ä¸ª mutex ä»¥åŠç”±å®ƒä¿æŠ¤çš„ä¸€ç»„å˜é‡ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;countLock&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Mutex&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;inputCount&lt;/span&gt;  &lt;span class=&quot;kt&quot;&gt;uint32&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;outputCount&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;uint32&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;errorCount&lt;/span&gt;  &lt;span class=&quot;kt&quot;&gt;uint32&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/chalvern/books/tree/master/golang/official_go_learning&quot;&gt;åŸæ±åŸå‘³ Go è¯­è¨€å­¦ä¹ (æ•™æ¡ˆ)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.bilibili.com/video/av70108449&quot;&gt;æœ¬æ–‡çš„ bilibili è§†é¢‘åœ°å€&lt;/a&gt; æ¬¢è¿è½¬å‘åˆ†äº«ğŸ˜†&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 04 Oct 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/10/04/effectivego-intro-format-commentary.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/10/04/effectivego-intro-format-commentary.html</guid>
        
        <category>golang</category>
        
        <category>åŸºç¡€</category>
        
        <category>å®ç”¨</category>
        
        
        <category>golang</category>
        
      </item>
    
  </channel>
</rss>