<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>æ•¬ç»´</title>
    <description>ä¸€ä¸ªå–œæ¬¢æ¶‚æ¶‚ç”»ç”»çš„äººï¼Œæ›¾ç»çš„Rubistï¼Œä¸€ä¸ªCI/CDçš„è·µè¡Œè€…ï¼Œä¸€ä¸ªæ¢å¯»æœ€ä½³å®è·µçš„äººã€‚</description>
    <link>https://jingwei.link//</link>
    <atom:link href="https://jingwei.link/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Sat, 05 Oct 2019 12:52:43 +0800</pubDate>
    <lastBuildDate>Sat, 05 Oct 2019 12:52:43 +0800</lastBuildDate>
    <generator>Jekyll v3.8.3</generator>
    
      <item>
        <title>effective go ç®€ä»‹ã€æ ¼å¼åŒ–ä¸æ³¨é‡Šéƒ¨åˆ†</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#ç®€ä»‹&quot; id=&quot;markdown-toc-ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ç¤ºä¾‹ä»£ç &quot; id=&quot;markdown-toc-ç¤ºä¾‹ä»£ç &quot;&gt;ç¤ºä¾‹ä»£ç &lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ ¼å¼åŒ–&quot; id=&quot;markdown-toc-æ ¼å¼åŒ–&quot;&gt;æ ¼å¼åŒ–&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ³¨é‡Š&quot; id=&quot;markdown-toc-æ³¨é‡Š&quot;&gt;æ³¨é‡Š&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://golang.google.cn/doc/effective_go.html&quot;&gt;effective go&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;ç®€ä»‹&quot;&gt;ç®€ä»‹&lt;/h1&gt;
&lt;p&gt;Go æ˜¯ä¸€ä¸ªæ–°çš„ç¼–ç¨‹è¯­è¨€ã€‚è™½ç„¶å®ƒä»æ—¢æœ‰çš„ç¼–ç¨‹è¯­è¨€ä¸­å€Ÿé‰´äº†å¾ˆå¤šç†å¿µï¼Œä½†æ˜¯å®ƒä¹Ÿæœ‰å¾ˆå¤šä¸ä¼—ä¸åŒçš„ç‰¹æ€§ï¼Œè¿™ä½¿å¾— Go å’Œå…¶ä»–çš„ç¼–ç¨‹è¯­è¨€åŒºåˆ«å¼€æ¥ã€‚å¦‚æœä¸€ä¸ª Javaï¼ˆC++ï¼‰ å†™çš„åº”ç”¨åº”ç”¨ç›´æ¥æŒ‰ç…§ Javaï¼ˆC++ï¼‰ çš„ä»£ç é€»è¾‘è½¬è¯‘æˆ Go è¯­è¨€çš„åº”ç”¨ç¨‹åºï¼Œæœ€åå¾ˆå¯èƒ½å¾—ä¸åˆ°ä¸€ä¸ªæ»¡æ„çš„æ•ˆæœâ€”â€”æ¯•ç«Ÿ Java åº”ç”¨ç¨‹åºæ˜¯ç”¨ Java å†™çš„ï¼Œé‡Œé¢åŒ…å«äº†å¤ªå¤šJavaçš„ä¸œè¥¿ï¼Œè€Œ Java è·Ÿ Go æ¯” å°‘äº†å¾ˆå¤šç‰¹æ€§ï¼Œå› æ­¤ç›´æ¥è½¬è¯‘è‚¯å®šæ˜¯ä¸åˆé€‚çš„ã€‚æ¢ä¸ªè§’åº¦æ¥æ€è€ƒï¼Œä» Go çš„è§†è§’åˆ†æé—®é¢˜å¹¶æ®æ­¤è®¾è®¡è½¯ä»¶ï¼Œæœ€åä¹Ÿä¼šå¾—åˆ°ä¸€ä¸ªç‹¬ç‰¹çš„æ¶æ„æ–¹æ¡ˆï¼Œæ­¤æ—¶å¦‚æœæŠŠè¿™ä¸ª Go åº”ç”¨ç¨‹åºè½¬è¯‘æˆ Java è¯­è¨€ç­‰å…¶ä»–è¯­è¨€çš„åº”ç”¨ç¨‹åºè‚¯å®šä¹Ÿä¸å®¹æ˜“ã€‚æ¢å¥è¯è¯´ï¼Œä¸ºäº†å†™å¥½ Go è¯­è¨€çš„ç¨‹åºï¼Œå­¦ä¹ å®ƒçš„è¯­è¨€ç‰¹æ€§å’Œè¯­è¨€è§„èŒƒæ˜¯å¾ˆé‡è¦çš„ã€‚è€Œé™¤äº†å¿…é¡»è¦éµå¾ªæˆ–å‚è€ƒçš„è¯­è¨€ç‰¹æ€§å’Œè¯­è¨€è§„èŒƒï¼Œäº†è§£ Go è¯­è¨€ç¼–ç¨‹çš„ä¸€äº›äººä¸ºçš„çº¦å®šä¹Ÿå¾ˆé‡è¦ï¼Œæ¯”å¦‚å‘½åã€æ ¼å¼ã€ç¨‹åºæ„å»ºç­‰ç›¸å…³çš„å†…å®¹ï¼Œè¿™æ ·ä½ å†™å‡ºæ¥çš„ç¨‹åºå°±æ›´å®¹æ˜“è¢«å…¶ä»–å¼€å‘è€…ç†è§£ï¼Œä»è€Œä¾¿äºå¤šäººåä½œè¿›è¡Œå¼€å‘ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡æ¡£ç»™å‡ºäº†ä¸€äº› Go è¯­è¨€çš„ç¼–ç æŠ€å·§ã€‚éµä»è¿™äº›æŠ€å·§å¯ä»¥ç¼–å†™å‡ºæ¸…æ™°ã€è§„èŒƒçš„ Go è¯­è¨€ç¨‹åºã€‚è¿™ç¯‡æ–‡æ¡£æ˜¯â€œ&lt;a href=&quot;https://golang.google.cn/ref/spec&quot;&gt;è¯­è¨€ç‰¹æ€§&lt;/a&gt;â€ã€â€œ&lt;a href=&quot;https://tour.golang.org/&quot;&gt;Goå­¦ä¹ (éœ€è¦ç§‘å­¦ä¸Šç½‘)&lt;/a&gt;â€å’Œâ€œ&lt;a href=&quot;https://golang.google.cn/doc/code.html&quot;&gt;å¦‚ä½•å†™ Go ç¨‹åº&lt;/a&gt;â€çš„è¡¥å……å†…å®¹ï¼Œå› æ­¤åœ¨çœ‹æœ¬æ–‡å‰å…ˆçœ‹çœ‹è¿™äº›æ–‡æ¡£å†å­¦ä¹ æœ¬æ–‡æ¡£ä¼šæ›´å¥½ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç¤ºä¾‹ä»£ç &quot;&gt;ç¤ºä¾‹ä»£ç &lt;/h2&gt;
&lt;p&gt;Go æºç åŒ…ä¸ä»…ä»…æ˜¯ Go çš„æ ¸å¿ƒåŠŸèƒ½åº“ï¼Œé‡Œé¢åŒæ—¶æä¾›äº†è¯­è¨€ç‰¹æ€§çš„å„ç§å®é™…ç”¨æ³•ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè®¸å¤šçš„ package åŒ…éƒ½æ¶µç›–äº†å¯ç›´æ¥è¿è¡Œçš„ä¾‹å­ï¼Œè¿™äº›ä¾‹å­å¤§éƒ½ä¸åŒ…å«å…¶ä»–çš„ä¾èµ–åº“ï¼Œå› æ­¤å¯ä»¥ç›´æ¥åœ¨ golang.google.cn è¿™ä¸ªç½‘é¡µä¸Šè¿è¡Œï¼Œæ¯”å¦‚ &lt;a href=&quot;https://golang.google.cn/pkg/strings/#example_Map&quot;&gt;è¿™ä¸ª&lt;/a&gt; ä¾‹å­ã€‚å¦‚æœä½ åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªè¯­è¨€ç‰¹æ€§ç›¸å…³æˆ–è€…åº“çš„åº”ç”¨è®¾è®¡ç”šè‡³å®ç°ç›¸å…³çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥åˆ°æ ¸å¿ƒä»£ç åº“æœå¯»ä¸€ä¸‹ï¼Œåº”è¯¥ä¼šæœ‰æ‰€æ”¶è·çš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://golang.google.cn/pkg/&quot;&gt;Go æºç åŒ…&lt;/a&gt; åˆ—è¡¨ã€‚&lt;/p&gt;

&lt;h1 id=&quot;æ ¼å¼åŒ–&quot;&gt;æ ¼å¼åŒ–&lt;/h1&gt;

&lt;p&gt;ä»£ç çš„æ ¼å¼ä¸€èˆ¬ä¸å½±å“ä»£ç çš„æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯å› ä¸ºå½±å“åˆ°äººçš„é˜…è¯»ä½“éªŒï¼Œæ‰€ä»¥ä¸åŒçš„ä»£ç é£æ ¼å¾€å¾€å¯¼è‡´ä¸€äº›äº‰è®®ã€‚å½“ç„¶å¯ä»¥è®©ä»»ä½•å¼€å‘è€…ä»ä¸€ä¸ªé£æ ¼è¿ç§»åˆ°å¦ä¸€ä¸ªä»£ç é£æ ¼ï¼Œå¹¶æ®æ­¤è¿›è¡Œç¼–ç ï¼Œä½†æ˜¯æœ€å¥½ä¸è®©å¼€å‘è€…æœ‰è¿™ç§é€‰æ‹©çš„æœºä¼šï¼Œè¯•æƒ³å½“æ¯ä¸ªäººéƒ½ä½¿ç”¨åŒä¸€ç§ç¼–ç é£æ ¼è¿›è¡Œå¼€å‘æ—¶ï¼Œæ ¼å¼åŒ–é—®é¢˜å°±ä¸ä¼šå ç”¨å¤§å®¶é‚£ä¹ˆå¤šæ—¶é—´å»é€‚åº”å„ç§é£æ ¼äº†ï¼Œç›¸å¯¹ä¹Ÿå°±èŠ‚çœäº†æ—¶é—´ã€‚å½“ç„¶ç†æƒ³å¾ˆä¸°æ»¡ï¼Œé—®é¢˜æ˜¯å¦‚ä½•åœ¨çŸ­æœŸå†…å¿«é€Ÿä¸”è‡ªç„¶åœ°å®ç°è¿™ä¸ªç†æƒ³ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ Go è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è®©æœºå™¨å¸®æˆ‘ä»¬å¤„ç†å¤§éƒ¨åˆ†çš„æ ¼å¼é—®é¢˜ã€‚ç¨‹åº gofmt ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡ go fmt å­å‘½ä»¤è¿›è¡Œè°ƒç”¨ï¼Œå®ƒä¼šåœ¨åŒ…çº§åˆ«ä¸Šåšæ ¼å¼åŒ–å¤„ç†ï¼Œä¸èƒ½æŒ‡å®šæ–‡ä»¶è¿›è¡Œæ ¼å¼åŒ–ï¼Œå³ &lt;code class=&quot;highlighter-rouge&quot;&gt;usage: go fmt [-n] [-x] [packages]&lt;/code&gt;ï¼Œä¸è¿‡åœ¨ go1.13 ç‰ˆæœ¬æ˜¯å¯ä»¥åˆ¶å®šæŸä¸ªç‰¹å®šçš„æ–‡ä»¶çš„ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å“ªé‡Œç†è§£é”™äº†ï¼‰è¯»å–ä¸€ä¸ª Go ä»£ç ï¼Œç„¶åæŒ‰ç…§æ ‡å‡†é£æ ¼å¯¹ä»£ç è¿›è¡Œç¼©è¿›ã€å‚ç›´å¯¹é½ç­‰ä¿®æ”¹ä»è€Œäº§ç”Ÿè§„èŒƒåŒ–çš„ä»£ç ï¼›è¿™ä¸ªä¿®æ”¹çš„è¿‡ç¨‹åªé™äºä»£ç ï¼Œä¸åŒ…æ‹¬æ³¨é‡Šï¼Œæ³¨é‡Šä¸€èˆ¬æˆ‘ä»¬å†™çš„ä»€ä¹ˆæ ·å­å°±æ˜¯ä»€ä¹ˆæ ·å­ï¼Œæ®è¯´ä¹Ÿä¼šåœ¨å¿…è¦æ—¶é€‚å½“é‡æ–°æ ¼å¼åŒ–æ³¨é‡Šï¼ˆå¦‚æœå¤§å®¶é‡åˆ°ç±»ä¼¼çš„æƒ…å†µæ¬¢è¿åˆ†äº«ï¼‰ã€‚å¦‚æœä½ çš„ä»£ç ä¸­å­˜åœ¨æ ¼å¼ä¸Šçš„å¸ƒå±€é—®é¢˜ï¼Œæ‰§è¡Œ gofmt å°±å¥½äº†ï¼›å¦‚æœä½¿ç”¨ gofmt çš„æ•ˆæœå’Œé¢„æœŸçš„ä¸ä¸€æ ·ï¼Œé‡æ–°è°ƒæ•´ä¸€ä¸‹ä½ çš„ä»£ç å†è¿è¡Œä¸€æ¬¡å°±å¯ä»¥äº†ï¼Œå¦‚æœå®åœ¨å¾—ä¸åˆ°è‡ªå·±æƒ³è¦çš„ç»“æœï¼Œä¹Ÿå¯ä»¥è€ƒè™‘ç»™ gofmt æäº¤ä¸€ä¸ªä¿®æ”¹æ„è§ï¼Œæ€»ä¹‹ä¸è¦åœ¨æ ¼å¼é—®é¢˜ä¸ŠèŠ±å¤ªå¤šæ—¶é—´å°±å¯¹äº†ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä»¥ç»“æ„ä½“ä¸ºä¾‹ï¼Œåœ¨å£°æ˜ç»“æ„ä½“çš„æ—¶å€™ï¼Œå¯¹äºç»“æ„ä½“é‡Œé¢çš„å­—æ®µï¼Œæˆ‘ä»¬æ²¡æœ‰å¿…è¦æ‰‹åŠ¨å¯¹é½å­—æ®µåã€å­—æ®µç±»å‹ã€æ³¨é‡Šç­‰ï¼Œgofmt å¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨å®ç°è¿™ç§å¯¹é½ã€‚æ¯”å¦‚å¯¹äºæœ‰ä¸‹é¢çš„å£°æ˜ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// name of the object&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// its value&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;gofmt ä¼šå¯¹é½æ¯ä¸€è¡Œçš„å†…å®¹ï¼Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// name of the object&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// its value&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å€¼å¾—å…³æ³¨çš„æ˜¯ï¼Œæ ‡å‡†åº“ä¸­æ‰€æœ‰çš„ Go æºç éƒ½è¢« gofmt æ ¼å¼åŒ–è¿‡ï¼Œå› æ­¤æ¨èå¤§å®¶å»çœ‹çœ‹æ ‡å‡†åº“ä¸­çš„æºç ï¼Œä»è€Œä½“ä¼šä¸€ä¸‹è¿™ç§ç®€æ´çš„ç»Ÿä¸€çš„ç¾ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äº Go è¯­è¨€çš„æ ¼å¼ï¼Œé™¤äº†ä¸Šé¢æåˆ°çš„ gofmt çš„å¦™ç”¨ï¼Œå…¶å®è¿˜æ˜¯æœ‰å‡ ä¸ªéå¸¸ç®€å•çš„ç»†èŠ‚éœ€è¦å¤§å®¶çŸ¥é“ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ç¼©è¿›&lt;/p&gt;

    &lt;p&gt;åœ¨ Go è¯­è¨€ä¸­ï¼Œç¼©è¿›é»˜è®¤ä½¿ç”¨åˆ¶è¡¨ç¬¦ï¼ˆTabï¼‰æ¥ç¼©è¿›ï¼Œè¿™ä¹Ÿæ˜¯ gofmt çš„é»˜è®¤åšæ³•ï¼›é™¤éå¿…è¦ï¼Œå¦åˆ™ä¸å»ºè®®ä½¿ç”¨ç©ºæ ¼è¿›è¡Œç¼©è¿›ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ¯è¡Œä»£ç çš„é•¿åº¦&lt;/p&gt;

    &lt;p&gt;Go è¯­è¨€ä¸­æ¯è¡Œçš„ä»£ç é•¿åº¦æ˜¯æ²¡æœ‰é™åˆ¶çš„ï¼Œå› æ­¤ä¸ç”¨æ‹…å¿ƒé•¿åº¦æº¢å‡ºçš„é—®é¢˜ï¼›å½“ç„¶å¦‚æœä¸€è¡Œä»£ç å¤ªé•¿äº†ï¼Œå¯ä»¥è€ƒè™‘æ‰‹åŠ¨æ¢è¡Œï¼Œå»ºè®®åœ¨æ–°è¡Œå‰é¢æ·»åŠ ä¸€äº› Tab ç¬¦æ¥ç¤ºæ„å®ƒå’Œä¸Šä¸€è¡Œæ˜¯æœ‰å…³ç³»çš„ï¼Œä¾¿äºé˜…è¯»ã€‚&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ‹¬å·&lt;/p&gt;

    &lt;p&gt;ä¸ C å’Œ Java ç›¸æ¯”è¾ƒï¼Œ Go è¯­è¨€åªéœ€è¦å°‘é‡çš„æ‹¬å·å°±èƒ½å®ç°å¾ˆå¤šåŠŸèƒ½ï¼šåœ¨æ§åˆ¶ç»“æ„ ifã€forã€switch çš„å£°æ˜ä¸­ä¸éœ€è¦æŠŠè¯­å¥æ‹¬èµ·æ¥å°±èƒ½æ­£å¸¸è¿è¡Œã€‚åŒæ—¶ï¼Œæ“ä½œç¬¦é¢„å®šä¹‰çš„ä¼˜å…ˆçº§ä¹Ÿå¾ˆç®€çŸ­æ˜äº†ï¼Œæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;x&amp;lt;&amp;lt;8 + y&amp;lt;&amp;lt;16&lt;/code&gt; å…¶ä¸­ç©ºæ ¼çš„å­˜åœ¨å°±å·²ç»æš—ç¤ºäº†è®¡ç®—çš„ä¼˜å…ˆçº§ï¼ˆç©ºæ ¼ç»ç”± &lt;code class=&quot;highlighter-rouge&quot;&gt;gofmt&lt;/code&gt; æ ¼å¼åŒ–æ—¶ä¼šè‡ªåŠ¨æ·»åŠ ï¼Œå¼€å‘è€…ä¸éœ€è¦ç‰¹åˆ«å…³æ³¨è¿™é‡Œçš„ç©ºæ ¼ï¼‰ã€‚&lt;/p&gt;

    &lt;p&gt;æ¯”å¦‚ä¸‹é¢çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt; å¾ªç¯çš„ä»£ç :&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;æ³¨é‡Š&quot;&gt;æ³¨é‡Š&lt;/h1&gt;

&lt;p&gt;Go è¯­è¨€æä¾›äº† C è¯­è¨€é£æ ¼é‡Œçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;/* */&lt;/code&gt; &lt;strong&gt;å—æ³¨é‡Š&lt;/strong&gt;å’Œ C++ è¯­è¨€é£æ ¼é‡Œçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;//&lt;/code&gt; &lt;strong&gt;è¡Œæ³¨é‡Š&lt;/strong&gt;ã€‚è¿™ä¸¤ç§æ³¨é‡Šé£æ ¼ä¸­ï¼Œè¡Œæ³¨é‡Šæ˜¯ä¸»è¦çš„æ³¨é‡Šæ–¹å¼ï¼Œå—æ³¨é‡Šçš„é£æ ¼æ›´å¤šåœ°ç”¨åœ¨åŒ…æ³¨é‡Šçš„åœºåˆï¼Œä½†æ˜¯å—æ³¨é‡Šè¿˜æœ‰ä¸€ä¸ªç”¨å¤„ï¼Œå°±æ˜¯åœ¨è¡Œå†…è¡¨è¾¾å¼é—´ä½¿ç”¨ï¼Œæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Println(1&amp;lt;&amp;lt;8 /* è¿™é‡Œåˆ»æ„æ³¨é‡Šä¸€æ®µè¯ï¼Œæ‰“å° 260 */ + 1&amp;lt;&amp;lt;2)&lt;/code&gt;ï¼›å½“ç„¶ï¼Œå½“ä¸´æ—¶åˆ é™¤å¤§å—çš„ä»£ç çš„æ—¶å€™ç”¨å—æ³¨é‡Šçš„æ–¹å¼ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;godoc&lt;/code&gt; æ˜¯ä¸€ä¸ªç¨‹åºï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ª Web æœåŠ¡å™¨ï¼Œå®ƒèƒ½ä» Go æºç æ–‡ä»¶ä¸­æå–å„ä¸ª package åŒ…é‡Œçš„æ–‡æ¡£ã€‚åœ¨åŒ…çº§åˆ«ä½œç”¨åŸŸçš„å£°æ˜è¯­å¥å‰ç›´æ¥å‡ºç°çš„æ³¨é‡Šè¯­å¥ï¼ˆæ³¨é‡Šå’Œä»£ç ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼è¡Œï¼‰ä¼šå’Œå£°æ˜è¯­å¥ä¸€èµ·è¢«æŠ½å–å‡ºæ¥ä½œä¸ºç›¸åº”æ¡ç›®çš„æ–‡æ¡£æ–‡æœ¬ã€‚å› æ­¤æºç ä¸­æ³¨é‡Šçš„å…·ä½“å†…å®¹åŠå…¶æ’ç‰ˆé£æ ¼ç›´æ¥å†³å®šäº† godoc ç”Ÿæˆçš„æ–‡æ¡£çš„è´¨é‡ã€‚&lt;/p&gt;

&lt;p&gt;ã€æ³¨ã€‘ï¼šå¯é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;go get -v golang.org/x/tools/cmd/godoc&lt;/code&gt; å®‰è£… godoc å‘½ä»¤ã€‚&lt;/p&gt;

&lt;p&gt;æ¯ä¸ªåŒ…éƒ½åº”è¯¥åœ¨åŒ…å£°æ˜å‰åŒ…å«ä¸€ä¸ªå—æ³¨é‡Šç”¨æ¥ä»‹ç»åŒ…çš„åŠŸèƒ½â€”â€”å³åŒ…æ³¨é‡Šã€‚å¦‚æœä¸€ä¸ªåŒ…å­˜åœ¨å¾ˆå¤šä¸ªæ–‡ä»¶ï¼Œåªéœ€åœ¨ä»»ä½•ä¸€ä¸ªæ–‡ä»¶ä¸­åŒ…å«åŒ…æ³¨é‡Šå°±å¯ä»¥äº†ã€‚åŒ…æ³¨é‡Šåº”è¯¥ä»‹ç»åŒ…çš„åŠŸèƒ½å¹¶æä¾›æ•´ä¸ªåŒ…ç›¸å…³çš„ä¿¡æ¯ã€‚å› ä¸ºåŒ…æ³¨é‡Šä¼šå‡ºç°åœ¨ godoc æœ€å‰é¢çš„é¡µé¢ä¸Šï¼Œå› æ­¤åº”è¯¥è®¾ç½®ç´§éšå…¶åçš„è¯¦ç»†æ–‡æ¡£ã€‚ä¸‹é¢ç»™å‡ºäº† &lt;code class=&quot;highlighter-rouge&quot;&gt;regexp&lt;/code&gt; è¿™ä¸ªåŒ…çš„æ³¨é‡Šç¤ºä¾‹ï¼Œå…¶é¦–å…ˆä»‹ç»äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;regexp&lt;/code&gt; åŒ…çš„ä¸»è¦åŠŸèƒ½ï¼Œç„¶åé©¬ä¸Šç»™å‡ºäº†å…¶æ­£åˆ™è¡¨è¾¾å¼çš„è¯­æ³•ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;/*
Package regexp implements a simple library for regular expressions.

The syntax of the regular expressions accepted is:

    regexp:
        concatenation { '|' concatenation }
    concatenation:
        { closure }
    closure:
        term [ '*' | '+' | '?' ]
    term:
        '^'
        '$'
        '.'
        character
        '[' [ '^' ] character-ranges ']'
        '(' regexp ')'
*/&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;regexp&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœä¸€ä¸ªåŒ…çš„åŠŸèƒ½éå¸¸ç®€å•ï¼ŒåŒ…æ³¨é‡Šä¹Ÿå¯ä»¥ç®€åŒ–æˆä¸ºè¡Œæ³¨é‡Šï¼Œæ¯”å¦‚ä¸‹é¢ &lt;code class=&quot;highlighter-rouge&quot;&gt;path&lt;/code&gt; åŒ…çš„æ³¨é‡Šï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Package path implements utility routines for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// manipulating slash-separated filename paths.&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Go è¯­è¨€çš„æ³¨é‡Šé‡Œä¸éœ€è¦é™„åŠ æ ¼å¼ç¬¦å·ï¼Œæ¯”å¦‚ä¸éœ€è¦ &lt;code class=&quot;highlighter-rouge&quot;&gt;**something**&lt;/code&gt; è¿™ç§åŠ ç²—å¼ºè°ƒçš„è¯­æ³•ã€‚ç”±äºè‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£ç”šè‡³æ²¡æœ‰å›ºå®šå®½åº¦çš„å­—ä½“ï¼Œå› æ­¤ä¹Ÿä¸è¦è¯•å›¾é€šè¿‡ç©ºæ ¼æ¥å¯¹é½æŸäº›å†…å®¹ï¼›å’Œå‰é¢è®²çš„ gofmt ä¸€æ ·ï¼Œgodoc ä¼šè‡ªåŠ¨å¤„ç†è¿™äº›æƒ…å†µã€‚åœ¨ Go è¯­è¨€ä¸­ï¼Œæ³¨é‡Šæ˜¯æœªç»ç‰¹åˆ«è§£æçš„çº¯æ–‡æœ¬ï¼ŒHTML å’Œå…¶ä»–çš„æ³¨è§£ï¼Œæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;_this_&lt;/code&gt; ä¼šæŠŠæ¯ä¸ªå­—ç¬¦é‡æ–°æ‰“å°å‡ºæ¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;_this_&lt;/code&gt;ï¼Œå› æ­¤ä¸åº”è¯¥ä½¿ç”¨è¿™äº›ç‰¹æ®Šçš„æ ·å¼ã€‚godoc ä¼šç”¨å›ºå®šå®½åº¦çš„å­—ä½“è¡¨ç¤ºç¼©è¿›ï¼Œå› æ­¤å¯ä»¥éå¸¸å®Œç¾åœ°å±•ç¤ºæ³¨é‡Šä¸­çš„ä»£ç ç‰‡æ®µï¼›åœ¨æ ¸å¿ƒä»£ç åº“ä¸­ï¼ŒåŒ… &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt&lt;/code&gt; çš„&lt;a href=&quot;https://github.com/golang/go/blob/release-branch.go1.13/src/fmt/doc.go&quot;&gt;åŒ…æ³¨é‡Š&lt;/a&gt;å°±å¾ˆå¥½åœ°åˆ©ç”¨äº†è¿™ä¸ªç‰¹æ€§ã€‚&lt;/p&gt;

&lt;p&gt;godoc ä¼šæ ¹æ®ä¸Šä¸‹æ–‡æ¥å†³ç­–è¦ä¸è¦é‡æ–°æ ¼å¼åŒ–æ³¨é‡Šï¼Œå› æ­¤è¯·ç¡®è®¤ä½ çš„æ³¨é‡Šçœ‹ä¸Šå»å·²ç»å¾ˆä¸é”™äº†ï¼Œæ¯”å¦‚ä½¿ç”¨æ­£ç¡®çš„æ‹¼å†™ã€åˆé€‚çš„æ ‡ç‚¹ç¬¦å·ã€ç®€æ´çš„å¥å­ç»“æ„ï¼ŒæŠ˜å è¿‡é•¿çš„å¥å­ï¼Œç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;åŒ…ä¸­ä»»ä½•ä¸€ä¸ªåœ¨é¡¶å±‚å£°æ˜ï¼ˆåœ¨åŒ…ä½œç”¨åŸŸçš„å£°æ˜ï¼‰ä¹‹å‰çš„æ³¨é‡Šå‡è¢«è®¤ä¸ºæ˜¯ç›¸åº”å£°æ˜çš„æ³¨é‡Šæ–‡æ¡£ï¼Œä¼šè¢« godoc è‡ªåŠ¨æŠ½å–å±•ç¤ºå‡ºæ¥ã€‚ç¨‹åºä¸­æ¯ä¸€ä¸ªå¯¼å‡ºçš„åå­—ï¼ˆé¦–å­—æ¯å¤§å†™çš„åç§°ï¼ŒåŒ…æ‹¬å¸¸é‡ã€å˜é‡ã€å‡½æ•°ã€æ–¹æ³•ç­‰ï¼‰éƒ½åº”è¯¥æœ‰ä¸€ä¸ªæ³¨é‡Šæ–‡æ¡£ï¼Œä»è€Œæ–¹ä¾¿å…¶ä»–åº“å¼•ç”¨è¿™ä¸ªåå­—æ—¶çŸ¥é“è¿™ä¸ªåå­—çš„å…·ä½“å«ä¹‰ã€‚&lt;/p&gt;

&lt;p&gt;æ³¨é‡Šæ–‡æ¡£æœ€å¥½æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¥å­ï¼Œè¿™å¯ä»¥å¢åŠ å±•ç¤ºæ–¹å¼çš„çµæ´»åº¦ã€‚åŒæ—¶ï¼Œæ³¨é‡Šæ–‡æ¡£çš„ç¬¬ä¸€å¥æœ€å¥½æ˜¯å¯¹åº”åç§°çš„ä¸€å¥è¯æ€»ç»“ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Compile parses a regular expression and returns, if successful,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// a Regexp that can be used to match against text.&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Compile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæ¯ä¸ªæ³¨é‡Šæ–‡æ¡£çš„ç¬¬ä¸€ä¸ªå•è¯éƒ½æ˜¯å®ƒçš„æè¿°å¯¹è±¡ï¼Œå¼€å‘è€…å°±å¯ä»¥ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;go&lt;/code&gt; å‘½ä»¤è¡Œå·¥å…·çš„å­å‘½ä»¤ &lt;code class=&quot;highlighter-rouge&quot;&gt;doc&lt;/code&gt; ç”Ÿæˆæ–‡æ¡£ç„¶åä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;grep&lt;/code&gt; æŸ¥éªŒæƒ³è¦å¯»æ‰¾çš„å†…å®¹ã€‚æ¯”å¦‚ä½ æƒ³ä¸èµ·æ¥åç§° &lt;code class=&quot;highlighter-rouge&quot;&gt;Compile&lt;/code&gt; äº†ï¼Œä½†æ˜¯æƒ³æ‰¾æ­£åˆ™è¡¨è¾¾å¼çš„&lt;strong&gt;è§£æ&lt;/strong&gt;å‡½æ•°ï¼Œæ­¤æ—¶ä½ å¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ‰¾åˆ°ç›¸åº”çš„å†…å®¹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;go doc &lt;span class=&quot;nt&quot;&gt;-all&lt;/span&gt; regexp | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; parse
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæ‰€æœ‰çš„åŒ…æ³¨é‡Šæ–‡æ¡£éƒ½æ˜¯ â€this function â€¦â€ å¼€å§‹çš„ï¼Œgrep è¿‡æ»¤å¸®ä½ æ‰¾ä¸åˆ°ç›¸åº”çš„åç§°ã€‚ä½†æ­£å› ä¸º regexp åŒ…é‡Œæ¯ä¸ªåç§°çš„æ³¨é‡Šçš„ç¬¬ä¸€ä¸ªå•è¯éƒ½æ˜¯å¯¹åº”çš„åç§°ï¼Œå› æ­¤ä½¿ç”¨ grep è¿‡æ»¤çš„æ—¶å€™å¾ˆå®¹æ˜“å°±èƒ½çœ‹åˆ°è¿™ä¸ªåç§°ï¼Œä»è€Œè®©ä½ æ‰¾åˆ°ä½ æƒ³è¦çš„å•è¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;go doc &lt;span class=&quot;nt&quot;&gt;-all&lt;/span&gt; regexp | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; parse
    Compile parses a regular expression and returns, &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;successful, a Regexp
    MustCompile is like Compile but panics &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;the expression cannot be parsed.
    parsed. It simplifies safe initialization of global variables holding
&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Go çš„å£°æ˜è¯­æ³•å…è®¸å¯¹ä¸€ç»„å˜é‡è¿›è¡Œå£°æ˜ï¼Œç„¶åå¯ä»¥ç”¨å•ä¸ªæ³¨é‡Šæ–‡æ¡£ä»‹ç»è¿™ä¸€ç»„å¸¸é‡æˆ–è€…å˜é‡ã€‚å½“ç„¶ï¼Œè¿™ç§æ³¨é‡Šå†…å®¹å¾€å¾€æ¯”è¾ƒç¬¼ç»Ÿã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// Error codes returned by failures to parse an expression.ï¼ˆè¡¨è¾¾å¼è§£æå¤±è´¥çš„é”™è¯¯ç ï¼‰&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ErrInternal&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;New&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;regexp: internal error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ErrUnmatchedLpar&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;New&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;regexp: unmatched '('&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ErrUnmatchedRpar&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;New&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;regexp: unmatched ')'&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ç»„&lt;/strong&gt;ä¹Ÿå¯ç”¨æ¥æš—ç¤ºæŸå‡ ä¸ªåè¯ä¹‹é—´çš„æŸç§å…³è”å…³ç³»ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç å£°æ˜äº†ä¸€ä¸ª mutex ä»¥åŠç”±å®ƒä¿æŠ¤çš„ä¸€ç»„å˜é‡ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;countLock&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Mutex&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inputCount&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;uint32&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outputCount&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;uint32&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errorCount&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;uint32&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/chalvern/books/tree/master/golang/official_go_learning&quot;&gt;åŸæ±åŸå‘³ Go è¯­è¨€å­¦ä¹ (æ•™æ¡ˆ)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.bilibili.com/video/av70108449&quot;&gt;æœ¬æ–‡çš„ bilibili è§†é¢‘åœ°å€&lt;/a&gt; æ¬¢è¿è½¬å‘åˆ†äº«ğŸ˜†&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 04 Oct 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/10/04/effectivego-intro-format-commentary.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/10/04/effectivego-intro-format-commentary.html</guid>
        
        <category>golang</category>
        
        <category>åŸºç¡€</category>
        
        <category>å®ç”¨</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>ã€å›¾ç¤ºã€‘æ§åˆ¶ Goroutine çš„å¹¶å‘æ•°é‡çš„æ–¹å¼</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; id=&quot;markdown-toc-å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ§åˆ¶-goroutine-çš„æ•°é‡&quot; id=&quot;markdown-toc-æ§åˆ¶-goroutine-çš„æ•°é‡&quot;&gt;æ§åˆ¶ Goroutine çš„æ•°é‡&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#å…ˆçœ‹-goroutine-æ•°é‡ä¸å—æ§åˆ¶çš„ä»£ç ä¾‹ä¸€&quot; id=&quot;markdown-toc-å…ˆçœ‹-goroutine-æ•°é‡ä¸å—æ§åˆ¶çš„ä»£ç ä¾‹ä¸€&quot;&gt;å…ˆçœ‹ Goroutine æ•°é‡ä¸å—æ§åˆ¶çš„ä»£ç ï¼ˆä¾‹ä¸€ï¼‰&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#goroutine-æ•°é‡ä¸å—æ§åˆ¶çš„å›¾ç¤º&quot; id=&quot;markdown-toc-goroutine-æ•°é‡ä¸å—æ§åˆ¶çš„å›¾ç¤º&quot;&gt;Goroutine æ•°é‡ä¸å—æ§åˆ¶çš„å›¾ç¤º&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#goroutine-æ•°é‡å—åˆ°é™åˆ¶çš„å›¾ç¤º&quot; id=&quot;markdown-toc-goroutine-æ•°é‡å—åˆ°é™åˆ¶çš„å›¾ç¤º&quot;&gt;Goroutine æ•°é‡å—åˆ°é™åˆ¶çš„å›¾ç¤º&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#æ§åˆ¶-goroutine-æ•°é‡çš„ä»£ç ä¾‹äºŒ&quot; id=&quot;markdown-toc-æ§åˆ¶-goroutine-æ•°é‡çš„ä»£ç ä¾‹äºŒ&quot;&gt;æ§åˆ¶ Goroutine æ•°é‡çš„ä»£ç ï¼ˆä¾‹äºŒï¼‰&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å°ç»“&quot; id=&quot;markdown-toc-å°ç»“&quot;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;åœ¨ Go è¯­è¨€ä¸­åˆ›å»ºåç¨‹ï¼ˆGoroutineï¼‰çš„æˆæœ¬éå¸¸ä½ï¼Œå› æ­¤ç¨ä¸æ³¨æ„å°±å¯èƒ½åˆ›å»ºå‡ºå¤§é‡çš„åç¨‹ï¼Œä¸€æ–¹é¢ä¼šé€ æˆèµ„æºçš„æµªè´¹ï¼Œå¦ä¸€æ–¹é¢ä¸å®¹æ˜“æ§åˆ¶è¿™äº›åç¨‹çš„çŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;ä¸è¿‡ï¼Œâ€œèƒ½åŠ›è¶Šå¤§ï¼Œè¶Šéœ€è¦å…‹åˆ¶â€ã€‚ç½‘ç»œä¸Šå·²ç»å­˜åœ¨ä¸€äº›è®²æ§åˆ¶ Goroutine æ•°ç›®çš„æ–‡ç« ï¼Œæœ¬æ–‡é€šè¿‡å›¾ç¤ºçš„æ–¹å¼å†ç®€å•æ€»ç»“ä¸€ä¸‹å…¶åŸºæœ¬ç†å¿µï¼Œä»¥ä¾¿äºè®°å¿†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ§åˆ¶-goroutine-çš„æ•°é‡&quot;&gt;æ§åˆ¶ Goroutine çš„æ•°é‡&lt;/h2&gt;
&lt;h3 id=&quot;å…ˆçœ‹-goroutine-æ•°é‡ä¸å—æ§åˆ¶çš„ä»£ç ä¾‹ä¸€&quot;&gt;å…ˆçœ‹ Goroutine æ•°é‡ä¸å—æ§åˆ¶çš„ä»£ç ï¼ˆä¾‹ä¸€ï¼‰&lt;/h3&gt;
&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;runtime&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sync&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;time&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jobsCount&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WaitGroup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jobsCount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hello %d!&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Second&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// åˆ»æ„ç¡ 1 ç§’é’Ÿï¼Œæ¨¡æ‹Ÿè€—æ—¶&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;index: %d,goroutine Num: %d &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;runtime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NumGoroutine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Wait&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;done!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šé¢çš„ä»£ç å‡è®¾æœ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;jobsCount&lt;/code&gt; ä¸ªä»»åŠ¡ï¼Œé€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;for-range&lt;/code&gt; ç»™æ¯ä¸ªä»»åŠ¡åˆ›å»ºäº†ä¸€ä¸ª Goroutineã€‚ä¸ºäº†è®©ä¸»åç¨‹ç­‰å¾…æ‰€æœ‰çš„å­åç¨‹æ‰§è¡Œå®Œæ¯•åå†é€€å‡ºï¼Œä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;sync.WaitGroup&lt;/code&gt; ç›‘æ§æ‰€æœ‰åç¨‹çš„çŠ¶æ€ï¼Œä»è€Œä¿è¯ä¸»åç¨‹ç»“æŸæ—¶æ‰€æœ‰çš„å­åç¨‹å·²ç»é€€å‡ºã€‚ä¸ºäº†è¯´æ˜é—®é¢˜ï¼Œä¸Šé¢çš„ä»£ç è¿˜è¾“å‡ºäº† &lt;code class=&quot;highlighter-rouge&quot;&gt;runtime.NumGoroutine()&lt;/code&gt; çš„å€¼ç”¨ä»¥è¡¨å¾åç¨‹çš„æ•°é‡ã€‚&lt;/p&gt;

&lt;p&gt;è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥å¾—åˆ°ç±»ä¼¼ä¸‹é¢çš„è¾“å‡ºã€‚ä»ä¸‹é¢çš„è¾“å‡ºä¸­æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸¤ç‚¹ä¿¡æ¯ï¼šâ‘  åç¨‹çš„æ‰§è¡Œé¡ºåºæ˜¯éšæœºçš„ï¼ˆæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;hello 3&lt;/code&gt; åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;hello 4&lt;/code&gt; åé¢å‡ºç°ï¼‰ï¼›â‘¡ åç¨‹çš„æ•°é‡é€’å¢ï¼Œæœ€åç«Ÿè¾¾åˆ°äº† 11 ä¸ªä¹‹å¤šã€‚&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;hello 0!
index: 0,goroutine Num: 2 
index: 1,goroutine Num: 3 
hello 1!
index: 2,goroutine Num: 4 
hello 2!
index: 3,goroutine Num: 5 
index: 4,goroutine Num: 6 
index: 5,goroutine Num: 7 
index: 6,goroutine Num: 8 
hello 4!
hello 5!
hello 3!
hello 7!
index: 7,goroutine Num: 9 
index: 8,goroutine Num: 10 
index: 9,goroutine Num: 11 
hello 8!
hello 9!
hello 6!
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;goroutine-æ•°é‡ä¸å—æ§åˆ¶çš„å›¾ç¤º&quot;&gt;Goroutine æ•°é‡ä¸å—æ§åˆ¶çš„å›¾ç¤º&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬åº”è¯¥æ€ä¹ˆç†è§£&lt;strong&gt;ä¾‹ä¸€&lt;/strong&gt;çš„ä»£ç å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å‡å¦‚ CPU åªæœ‰&lt;strong&gt;ä¸¤ä¸ª&lt;/strong&gt; æ ¸ï¼Œä¸‹å›¾å±•ç¤ºäº†ä¸ºæ¯ä¸ª job åˆ›å»ºä¸€ä¸ª goroutine çš„æƒ…å†µï¼ˆæ¢å¥è¯è¯´ï¼Œgoroutine çš„æ•°é‡æ˜¯ä¸å—æ§åˆ¶çš„ï¼‰ã€‚æ­¤ç§æƒ…å†µè™½ç„¶ç”Ÿæˆäº†å¾ˆå¤šçš„ goroutineï¼Œä½†æ˜¯&lt;strong&gt;æ¯ä¸ª CPU æ ¸ä¸ŠåŒä¸€æ—¶é—´åªèƒ½æ‰§è¡Œä¸€ä¸ª goroutine&lt;/strong&gt;ï¼›å½“ job å¾ˆå¤šä¸”ç”Ÿæˆäº†ç›¸åº”æ•°ç›®çš„ goroutine åï¼Œä¼šå‡ºç°å¾ˆå¤šç­‰å¾…æ‰§è¡Œçš„ goroutineï¼Œä»è€Œé€ æˆèµ„æºä¸Šçš„æµªè´¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/figure-goroutine-controll-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;goroutine-æ•°é‡å—åˆ°é™åˆ¶çš„å›¾ç¤º&quot;&gt;Goroutine æ•°é‡å—åˆ°é™åˆ¶çš„å›¾ç¤º&lt;/h3&gt;

&lt;p&gt;ç»™æ¯ä¸ª job ç”Ÿæˆä¸€ä¸ª goroutine çš„æ–¹å¼æ˜¾å¾—ç²—æš´äº†å¾ˆå¤šï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ä»€ä¹ˆæ ·çš„æ–¹å¼æ§åˆ¶ goroutine çš„æ•°ç›®å‘¢ï¼Ÿå…¶å®â€œ&lt;strong&gt;ä¾‹ä¸€&lt;/strong&gt;â€å°èŠ‚çš„ä»£ç é€šè¿‡ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;for-range&lt;/code&gt; å¾ªç¯å®Œæˆäº†ä¸¤ä»¶äº‹æƒ…ï¼šâ‘ ä¸ºæ¯ä¸ª job åˆ›å»º goroutineï¼›â‘¡æŠŠä»»åŠ¡ç›¸å…³çš„æ ‡è¯†ä¼ ç»™ç›¸åº”çš„ goroutine æ‰§è¡Œã€‚ä¸ºäº†æ§åˆ¶ goroutine çš„æ•°ç›®ï¼Œå®Œå…¨å¯ä»¥æŠŠä¸Šé¢çš„ä¸¤ä¸ªè¿‡ç¨‹æ‹†åˆ†å¼€ï¼šaï¼‰å…ˆé€šè¿‡ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;for-range&lt;/code&gt; å¾ªç¯åˆ›å»ºæŒ‡å®šæ•°ç›®çš„ goroutineï¼Œbï¼‰ç„¶åé€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;channel&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;buffered channel&lt;/code&gt; ç»™æ¯ä¸ª goroutine ä¼ é€’ä»»åŠ¡ç›¸å…³çš„ä¿¡æ¯ï¼ˆè¿™é‡Œçš„&lt;code class=&quot;highlighter-rouge&quot;&gt;channel&lt;/code&gt;æ˜¯å¦ç¼“å†²æ— æ‰€è°“ï¼Œä¸»è¦ç”¨åˆ°çš„æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;channel&lt;/code&gt; çš„çº¿ç¨‹å®‰å…¨ç‰¹æ€§ï¼‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/figure-goroutine-controll-2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;æ§åˆ¶-goroutine-æ•°é‡çš„ä»£ç ä¾‹äºŒ&quot;&gt;æ§åˆ¶ Goroutine æ•°é‡çš„ä»£ç ï¼ˆä¾‹äºŒï¼‰&lt;/h3&gt;
&lt;p&gt;ä»£ç å®ç°ä¸Šä¹Ÿå¾ˆç®€å•ï¼šä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;for-range&lt;/code&gt; åˆ›å»ºæŒ‡å®šæ•°ç›®çš„ goroutineï¼Œå¦ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;for-range&lt;/code&gt; æŠŠ job ä¾æ¬¡æ¨é€åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;channel&lt;/code&gt; ä¾› goroutine æ¶ˆè´¹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;runtime&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sync&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;time&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jobsCount&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WaitGroup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jobsChan&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;chan&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// a) ç”ŸæˆæŒ‡å®šæ•°ç›®çš„ goroutineï¼Œæ¯ä¸ª goroutine æ¶ˆè´¹ jobsChan ä¸­çš„æ•°æ®&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;poolCount&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;poolCount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jobsChan&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
				&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hello %d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
				&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Second&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
				&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// b) æŠŠ job ä¾æ¬¡æ¨é€åˆ° jobsChan ä¾› goroutine æ¶ˆè´¹&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jobsCount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jobsChan&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;index: %d,goroutine Num: %d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;runtime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NumGoroutine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Wait&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;done!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿è¡Œä¸Šé¢çš„ä»£ç å¯ä»¥å¾—åˆ°ä¸‹é¢ç±»ä¼¼çš„è¾“å‡ºï¼ˆ&lt;strong&gt;å¯ä»¥çœ‹åˆ° goroutine çš„æ•°é‡æ§åˆ¶åœ¨äº† 4 ä¸ª&lt;/strong&gt;ï¼‰ã€‚&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;index: 0,goroutine Num: 4
index: 1,goroutine Num: 4
hello 1
index: 2,goroutine Num: 4
index: 3,goroutine Num: 4
index: 4,goroutine Num: 4
hello 2
index: 5,goroutine Num: 4
hello 0
hello 3
hello 4
hello 5
index: 6,goroutine Num: 4
index: 7,goroutine Num: 4
index: 8,goroutine Num: 4
hello 6
hello 7
index: 9,goroutine Num: 4
hello 8
hello 9
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡é€šè¿‡å›¾ç¤ºçš„æ–¹å¼æ€»ç»“äº†æ§åˆ¶ goroutine æ•°ç›®çš„ä¸€ç§ç®€å•æ–¹å¼ï¼Œç®€å•æ¥è®²å°±æ˜¯ï¼šâ‘ é€šè¿‡ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;for-range&lt;/code&gt; åˆ›å»ºæŒ‡å®šæ•°ç›®çš„ goroutineï¼Œâ‘¡ é€šè¿‡å¦ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;for-range&lt;/code&gt; æŠŠ job ä¾æ¬¡æ¨é€åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;channel&lt;/code&gt; ä¾›ç¬¬ä¸€æ­¥ç”Ÿæˆçš„ goroutine æ¶ˆè´¹ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†è¯´æ˜é—®é¢˜ï¼Œä»£ç ç¤ºä¾‹ä¸­è¾“å‡ºäº† &lt;code class=&quot;highlighter-rouge&quot;&gt;runtime.NumGoroutine()&lt;/code&gt;ï¼ˆå³ gouroutine çš„æ•°ç›®ï¼‰çš„å˜åŒ–ï¼Œä¾¿äºå¤§å®¶æ›´ç›´è§‚åœ°è§‚å¯Ÿæ•ˆæœã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://book.eddycjy.com/golang/talk/control-goroutine.html&quot;&gt;1.6 æ¥ï¼Œæ§åˆ¶ä¸€ä¸‹ goroutine çš„å¹¶å‘æ•°é‡ Â· è·Ÿç…é±¼å­¦ Go&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://jingwei.link/2019/05/26/golang-routine-scheduler.html&quot;&gt;Golang å¹¶å‘é—®é¢˜ï¼ˆäº”ï¼‰goroutine çš„è°ƒåº¦åŠæŠ¢å  - æ•¬ç»´&lt;/a&gt; ä¹‹å‰æ€»ç»“çš„ä¸€ç¯‡ goroutine è°ƒåº¦ä¸æŠ¢å çš„æ–‡ç« &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/chalvern/gochan&quot;&gt;GitHub - chalvern/gochan: pool of goroutine with buffer channel, for concurrent execution but events of individual object running sequentially&lt;/a&gt; åŸºäºåŒæ ·çš„åŸç†å®ç°çš„ä¸€ä¸ªå°å·¥å…·ï¼Œä¸è¿‡æ¯ä¸ª goroutine ç›‘å¬è‡ªå·±çš„ channelï¼Œå¹¶é€šè¿‡ä¸€ä¸ªåˆ†å‘å™¨ï¼ˆdispatcherï¼‰æŠŠä»»åŠ¡åˆ†å‘åˆ°ç‰¹å®šçš„ channel ä¸­ï¼ˆå› ä¸ºè€ƒè™‘åˆ°æœ‰äº›ä»»åŠ¡å‰åå¯èƒ½æ˜¯æœ‰å…³è”çš„ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 13 Sep 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/09/13/conotrol-goroutines-count.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/09/13/conotrol-goroutines-count.html</guid>
        
        <category>golang</category>
        
        <category>å®ç”¨</category>
        
        <category>åŸºç¡€</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>æ­å»ºå…è´¹çš„ä¸ªäººåšå®¢ï¼ˆä¸€ï¼‰â€”â€”ç®€å•é™æ€é¡µé¢å‹</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; id=&quot;markdown-toc-å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#é€‚ç”¨äººç¾¤&quot; id=&quot;markdown-toc-é€‚ç”¨äººç¾¤&quot;&gt;é€‚ç”¨äººç¾¤&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#åšå®¢çš„ä¸‰ç§è¡¨ç°å½¢å¼&quot; id=&quot;markdown-toc-åšå®¢çš„ä¸‰ç§è¡¨ç°å½¢å¼&quot;&gt;åšå®¢çš„ä¸‰ç§è¡¨ç°å½¢å¼&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ä¸€æœ€ç®€å•çš„åšå®¢å¯ä»¥åªæœ‰ä¸€ä¸ªé™æ€é¡µé¢&quot; id=&quot;markdown-toc-ä¸€æœ€ç®€å•çš„åšå®¢å¯ä»¥åªæœ‰ä¸€ä¸ªé™æ€é¡µé¢&quot;&gt;ä¸€ã€æœ€ç®€å•çš„åšå®¢å¯ä»¥åªæœ‰ä¸€ä¸ªé™æ€é¡µé¢&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#äºŒç¨å¤æ‚çš„åšå®¢æ˜¯å¾ˆå¤šé™æ€é¡µé¢&quot; id=&quot;markdown-toc-äºŒç¨å¤æ‚çš„åšå®¢æ˜¯å¾ˆå¤šé™æ€é¡µé¢&quot;&gt;äºŒã€ç¨å¤æ‚çš„åšå®¢æ˜¯å¾ˆå¤šé™æ€é¡µé¢&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ä¸‰å†…å®¹å¯åŠ¨æ€æ¸²æŸ“çš„åšå®¢ç³»ç»Ÿ&quot; id=&quot;markdown-toc-ä¸‰å†…å®¹å¯åŠ¨æ€æ¸²æŸ“çš„åšå®¢ç³»ç»Ÿ&quot;&gt;ä¸‰ã€å†…å®¹å¯åŠ¨æ€æ¸²æŸ“çš„åšå®¢ç³»ç»Ÿ&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ­å»ºåªæœ‰ä¸€ä¸ªé™æ€é¡µé¢çš„åšå®¢&quot; id=&quot;markdown-toc-æ­å»ºåªæœ‰ä¸€ä¸ªé™æ€é¡µé¢çš„åšå®¢&quot;&gt;æ­å»ºåªæœ‰ä¸€ä¸ªé™æ€é¡µé¢çš„åšå®¢&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#1-æ³¨å†Œ-github-è´¦å·&quot; id=&quot;markdown-toc-1-æ³¨å†Œ-github-è´¦å·&quot;&gt;1. æ³¨å†Œ github è´¦å·&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#2-åˆ›å»ºä¸€ä¸ªæ–°ä»“åº“new-repository&quot; id=&quot;markdown-toc-2-åˆ›å»ºä¸€ä¸ªæ–°ä»“åº“new-repository&quot;&gt;2. åˆ›å»ºä¸€ä¸ªæ–°ä»“åº“ï¼ˆnew repositoryï¼‰&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#3-åˆ›å»º-indexhtml-æ–‡ä»¶å¹¶é»è´´-html-é™æ€å†…å®¹&quot; id=&quot;markdown-toc-3-åˆ›å»º-indexhtml-æ–‡ä»¶å¹¶é»è´´-html-é™æ€å†…å®¹&quot;&gt;3. åˆ›å»º index.html æ–‡ä»¶å¹¶é»è´´ html é™æ€å†…å®¹&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#4-é€šè¿‡-jianzhoubiangithubio-åœ°å€è®¿é—®åšå®¢&quot; id=&quot;markdown-toc-4-é€šè¿‡-jianzhoubiangithubio-åœ°å€è®¿é—®åšå®¢&quot;&gt;4. é€šè¿‡ jianzhoubian.github.io åœ°å€è®¿é—®åšå®¢&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#5-é…ç½®ç§äººåŸŸååœ¨-github-ä¸­è®¾ç½®é¡¹ç›®ç›¸å…³é¡¹&quot; id=&quot;markdown-toc-5-é…ç½®ç§äººåŸŸååœ¨-github-ä¸­è®¾ç½®é¡¹ç›®ç›¸å…³é¡¹&quot;&gt;5. é…ç½®ç§äººåŸŸåâ€”â€”åœ¨ github ä¸­è®¾ç½®é¡¹ç›®ç›¸å…³é¡¹&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#6-é…ç½®ç§äººåŸŸåé…ç½®åŸŸåè§£æ&quot; id=&quot;markdown-toc-6-é…ç½®ç§äººåŸŸåé…ç½®åŸŸåè§£æ&quot;&gt;6. é…ç½®ç§äººåŸŸåâ€”â€”é…ç½®åŸŸåè§£æ&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#7-é€šè¿‡-tuijianzhoubiancom-åœ°å€è®¿é—®åšå®¢&quot; id=&quot;markdown-toc-7-é€šè¿‡-tuijianzhoubiancom-åœ°å€è®¿é—®åšå®¢&quot;&gt;7. é€šè¿‡ tui.jianzhoubian.com åœ°å€è®¿é—®åšå®¢&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å°ç»“&quot; id=&quot;markdown-toc-å°ç»“&quot;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;æˆ‘å¾ˆæ—©å°±æƒ³æ­å»ºä¸€ä¸ªè‡ªå·±ä¸“å±çš„åšå®¢é¡µé¢ï¼Œä½†æ˜¯ä¸€ç›´æ‹–åˆ°2018å¹´æ‰çœŸæ­£æŠŠã€Š&lt;a href=&quot;https://jingwei.link&quot;&gt;jingwei.link&lt;/a&gt;ã€‹æ­å»ºèµ·æ¥ã€‚ä¹‹æ‰€ä»¥æ‹–é‚£ä¹ˆä¹…ï¼Œç°åœ¨æ¥çœ‹ä¸»è¦è¿˜æ˜¯â‘ å¯¹ç›¸å…³çš„æŠ€æœ¯ç†è§£ä¸åˆ°ä½ï¼Œå¤æ‚åŒ–æ•´ä¸ªæµç¨‹ä»è€Œæ”¾å¼ƒï¼›è€Œâ‘¡ç½‘ç»œä¸Šç¼ºå°‘ç®€å•æ˜“æ‡‚çš„ç›¸å…³æ•™ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;ä½œä¸ºä¸€å IT ä»ä¸šäººå‘˜ï¼Œæˆ‘ä¸ªäººéå¸¸æ¨èæ¯ä¸€ä½åŒè¡Œï¼ˆå°šæœªå°±ä¸šçš„å¤§å­¦ç”Ÿä¹Ÿå¾ˆæœ‰å¿…è¦ï¼‰éƒ½èƒ½å¤Ÿç»´æŠ¤ä¸€ä¸ªè‡ªå·±çš„åšå®¢é¡µé¢ï¼Œå¹¶èƒ½å¤Ÿåœ¨è‡ªå·±çš„è¿™ä¸ªâ€œå°å¤©åœ°â€é‡ŒåšæŒç ”ç©¶è‡ªå·±æ„Ÿå…´è¶£çš„é¢†åŸŸçŸ¥è¯†ï¼›å¦‚æ­¤ï¼Œæ— ç–‘ä¼šå¯¹ä¸ªäººçš„å‘å±•èµ·åˆ°å¾ˆå¤§çš„ç§¯æä½œç”¨ã€‚ï¼ˆæ¬¢è¿åŠ qqç¾¤ 376482175 äº¤æµï¼Œå¤‡æ³¨â€œjingwei.linkâ€ å³å¯ï¼‰ã€‚&lt;/p&gt;

&lt;h2 id=&quot;é€‚ç”¨äººç¾¤&quot;&gt;é€‚ç”¨äººç¾¤&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å…¥é—¨âˆš&lt;/strong&gt;â€”â€”åˆçº§â€”â€”ä¸­çº§â€”â€”é«˜çº§ï¼Œæœ¬æ–‡é€‚åˆæ‰€æœ‰å¯¹æŠ€æœ¯æ„Ÿå…´è¶£çš„å¼€å‘è€…ã€‚&lt;/p&gt;

&lt;h2 id=&quot;åšå®¢çš„ä¸‰ç§è¡¨ç°å½¢å¼&quot;&gt;åšå®¢çš„ä¸‰ç§è¡¨ç°å½¢å¼&lt;/h2&gt;
&lt;h3 id=&quot;ä¸€æœ€ç®€å•çš„åšå®¢å¯ä»¥åªæœ‰ä¸€ä¸ªé™æ€é¡µé¢&quot;&gt;ä¸€ã€æœ€ç®€å•çš„åšå®¢å¯ä»¥åªæœ‰ä¸€ä¸ªé™æ€é¡µé¢&lt;/h3&gt;
&lt;p&gt;æ˜¯çš„ï¼Œç®€å•çš„åšå®¢å¯ä»¥åªæœ‰ä¸€ä¸ªé™æ€é¡µé¢ï¼Œæˆ‘ä»¬çš„ä¸ªäººåšå®¢ä¹Ÿå¯ä»¥ä»ä¸€ä¸ªé™æ€é¡µé¢å¼€å§‹è¿›è€Œé€æ¸å˜å¾—ä¸°å¯Œå¤šå½©ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å®Œå…¨å¯ä»¥â‘ æ‰‹åŠ¨å†™ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;HTML&lt;/code&gt; &lt;strong&gt;é™æ€é¡µé¢&lt;/strong&gt;ï¼Œç„¶åâ‘¡æŠŠè¿™ä¸ªé¡µé¢æ‰˜ç®¡åˆ°å…¬å…±å¹³å°ï¼ˆæ¯”å¦‚ githubï¼‰æˆ–è€…ç§æœ‰æœåŠ¡å™¨ï¼ˆæ¯”å¦‚åœ¨é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰è´­ä¹°ç§æœ‰çš„äº‘æœåŠ¡å™¨ï¼‰ï¼Œâ‘¢ç”¨æˆ·åªéœ€é€šè¿‡ http(s) åè®®æ‹¿åˆ°è¿™ä¸ª&lt;strong&gt;é™æ€é¡µé¢&lt;/strong&gt;å¹¶åœ¨æµè§ˆå™¨ä¸­æ­£å¸¸å±•ç¤ºï¼Œæ­¤æ—¶æˆ‘ä»¬çš„åšå®¢å°±ç®—æ­å»ºå®Œæˆäº†ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæˆ‘ä»¬çš„ç›®æ ‡ä»…ä»…æ˜¯æ­å»ºè¿™ä¹ˆä¸€ä¸ªæœ€ç®€å•çš„åšå®¢ï¼Œé—®é¢˜å°±å˜æˆäº†ï¼š&lt;strong&gt;å¦‚ä½•é€šè¿‡å›ºå®šçš„ç½‘å€ï¼ˆæ¯”å¦‚ https://chalvern.github.ioï¼‰è·å–ä¸€ä¸ª HTML é™æ€é¡µé¢&lt;/strong&gt;ã€‚è¿™ä¸ªé—®é¢˜å¾ˆç®€å•ï¼Œçœ‹å®Œæœ¬æ–‡å°±çŸ¥é“æ€ä¹ˆåšäº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;äºŒç¨å¤æ‚çš„åšå®¢æ˜¯å¾ˆå¤šé™æ€é¡µé¢&quot;&gt;äºŒã€ç¨å¤æ‚çš„åšå®¢æ˜¯å¾ˆå¤šé™æ€é¡µé¢&lt;/h3&gt;
&lt;p&gt;å¦‚æœæ˜¯è®°å½•è‡ªå·±çš„æŠ€æœ¯æ€»ç»“çš„åšå®¢ï¼Œå¯èƒ½ä¸€ä¸ªé¡µé¢æ— æ³•æ‰¿è½½è‡ªå·±çš„æ‰€æœ‰æ€»ç»“ï¼Œæ­¤æ—¶å°±ä¼šå†™å¾ˆå¤šå¾ˆå¤šçš„é™æ€é¡µé¢ã€‚&lt;/p&gt;

&lt;p&gt;æ­¤æ—¶ï¼Œä¸€èˆ¬çš„åšæ³•æ˜¯ç”¨ä¸€ä¸ª HTML é¡µé¢ä»¥åˆ—è¡¨çš„å½¢å¼&lt;strong&gt;è¶…é“¾æ¥&lt;/strong&gt;æ‰€æœ‰çš„å†…å®¹é¡µé¢ï¼Œæ¯”å¦‚æ‰“å¼€ &lt;a href=&quot;https://jingwei.link&quot;&gt;https://jingwei.link&lt;/a&gt; æ˜¯ä¸€ä¸ªé¦–é¡µï¼Œé€šè¿‡è¿™ä¸ªé¦–é¡µå¯ä»¥è¶…é“¾æ¥åˆ°å…·ä½“çš„å†…å®¹é¡µé¢å»ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹æ¯”ç¬¬ä¸€ç§æœ€ç®€å•çš„åšå®¢ï¼Œå¦‚æœæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ­å»ºä¸€ä¸ªç¨å¤æ‚çš„åšå®¢ï¼Œé—®é¢˜å°±å˜æˆäº†ï¼š&lt;strong&gt;â‘  å¦‚ä½•æœ‰æ•ˆåœ°ç»„ç»‡æ‰€æœ‰çš„å†…å®¹é¡µé¢ï¼Œä»è€Œæ–¹ä¾¿è¯»è€…è¶…é“¾æ¥åˆ°å¯¹åº”çš„é™æ€é¡µé¢ï¼›â‘¡å¦‚ä½•é€šè¿‡å›ºå®šçš„ç½‘å€è·å–å¾—åˆ°è¿™äº›é™æ€é¡µé¢ï¼ˆå’Œç¬¬ä¸€ç§é‡åˆ°çš„é—®é¢˜ç›¸ä¼¼ï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä¸šç•Œæ¯”è¾ƒæœ‰åçš„ &lt;a href=&quot;https://jekyllrb.com&quot;&gt;Jekyll&lt;/a&gt;ã€&lt;a href=&quot;https://www.gohugo.org&quot;&gt;Hugo&lt;/a&gt;ã€&lt;a href=&quot;https://hexo.io/zh-cn/&quot;&gt;Hexo&lt;/a&gt;ç­‰åšå®¢æ¡†æ¶(åˆ†åˆ«å¯¹åº” Rubyã€Golangã€Nodejs æŠ€æœ¯æ ˆ)éƒ½èƒ½å¾ˆå¥½åœ°è§£å†³ç¬¬â‘ ä¸ªé—®é¢˜ï¼Œå¤§å®¶å®Œå…¨å¯ä»¥æŒ‰ç…§å–œå¥½é€‰æ‹©è‡ªå·±ä½¿ç”¨å“ªä¸ªæ¡†æ¶ï¼ˆæœªæ¥æˆ‘å¯èƒ½ä¼šä»‹ç»ä¸€ä¸‹ JekyII å’Œ Hugoï¼‰ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä¸‰å†…å®¹å¯åŠ¨æ€æ¸²æŸ“çš„åšå®¢ç³»ç»Ÿ&quot;&gt;ä¸‰ã€å†…å®¹å¯åŠ¨æ€æ¸²æŸ“çš„åšå®¢ç³»ç»Ÿ&lt;/h3&gt;
&lt;p&gt;é™æ€é¡µé¢çš„åšå®¢å‘å¸ƒåï¼Œé™¤éæˆ‘ä»¬å†ä¸€æ¬¡å‘å¸ƒæ–°çš„é™æ€é¡µé¢ï¼Œå¦åˆ™åšå®¢çš„å†…å®¹æ˜¯ä¸ä¼šå˜åŒ–çš„ã€‚&lt;/p&gt;

&lt;p&gt;è¿›ä¸€æ­¥ï¼Œå¯ä»¥åšä¸€ä¸ªèƒ½å¤ŸåŠ¨æ€æ¸²æŸ“é¡µé¢çš„åšå®¢ç³»ç»Ÿï¼ŒæŠŠå†…å®¹ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œå½“ç”¨æˆ·è®¿é—®åšå®¢æ—¶å†…å®¹â‘ ä»æ•°æ®åº“ä¸­åŠ è½½ï¼Œç„¶åâ‘¡è¢«æ¡†æ¶æ¸²æŸ“æˆé¡µé¢è¿›è€Œå±•ç¤ºå‡ºæ¥ã€‚é€šè¿‡ä¿®æ”¹æ•°æ®åº“ä¸­çš„å†…å®¹ï¼Œå¯ä»¥åŠ¨æ€æ”¹å˜åšå®¢çš„å†…å®¹ä»è€Œé¿å…äº†å‘ç‰ˆã€‚ä¸è¿‡ï¼Œ&lt;strong&gt;å› ä¸ºæ•°æ®åº“å’Œæ¸²æŸ“å¼•æ“çš„å­˜åœ¨ï¼Œè¿™ç§åŠ¨æ€æ¸²æŸ“çš„åšå®¢ç³»ç»Ÿçš„éƒ¨ç½²æˆæœ¬å’Œè¿ç»´æˆæœ¬éƒ½å¾ˆé«˜&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ç±»åšå®¢æ‰€æ¶‰åŠåˆ°çš„æŠ€æœ¯é—®é¢˜æ¯”è¾ƒå¤šï¼Œéœ€è¦æ›´å¤šçš„ä¸“ä¸šçŸ¥è¯†ï¼Œé™¤éçŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œå¦åˆ™ä¸æ¨èå¤§å®¶é‡‡å–è¿™ç§æ–¹å¼ã€‚å¦å¤–ï¼Œæœªæ¥æˆ‘å¯èƒ½ä¼šå¼€æºä¸€å¥—åŸºäº Golang è¯­è¨€çš„ç±»ä¼¼ç³»ç»Ÿï¼Œæ•¬è¯·æœŸå¾…å§:)&lt;/p&gt;

&lt;h2 id=&quot;æ­å»ºåªæœ‰ä¸€ä¸ªé™æ€é¡µé¢çš„åšå®¢&quot;&gt;æ­å»ºåªæœ‰ä¸€ä¸ªé™æ€é¡µé¢çš„åšå®¢&lt;/h2&gt;
&lt;p&gt;æœ¬å°èŠ‚ä¾§é‡è§£å†³è¿™ä¸ªé—®é¢˜ï¼š&lt;strong&gt;å¦‚ä½•é€šè¿‡å›ºå®šçš„ç½‘å€ï¼ˆæ¯”å¦‚ &lt;a href=&quot;https://jianzhoubian.github.io&quot;&gt;https://jianzhoubian.github.io&lt;/a&gt; å’Œ &lt;a href=&quot;https://tui.jianzhoubian.com&quot;&gt;https://tui.jianzhoubian.com&lt;/a&gt;ï¼‰è·å–ä¸€ä¸ª HTML é™æ€é¡µé¢&lt;/strong&gt;ã€‚æœ¬åšæ–‡ä½¿ç”¨çš„æ˜¯ &lt;a href=&quot;https://github.io&quot;&gt;github.io&lt;/a&gt; çš„æœåŠ¡ï¼Œå³æŠŠæˆ‘ä»¬å†™å¥½çš„é™æ€é¡µé¢æ‰˜ç®¡åˆ° github.io ä¾›ç”¨æˆ·è®¿é—®ã€‚&lt;/p&gt;

&lt;h3 id=&quot;1-æ³¨å†Œ-github-è´¦å·&quot;&gt;1. æ³¨å†Œ github è´¦å·&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†ä½¿ç”¨ github.io çš„æœåŠ¡ï¼Œé¦–å…ˆå…è´¹æ³¨å†Œä¸€ä¸ª &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt; è´¦å·ï¼ˆå¦‚æœå·²ç»æœ‰è´¦å·ï¼Œè·³è¿‡æœ¬æ­¥éª¤å³å¯ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;éœ€è¦äº‹å…ˆå‡†å¤‡ä¸€ä¸ªé‚®ç®±åœ¨æ³¨å†Œè´¦å·æ—¶ä½¿ç”¨ã€‚é‚®ç®±è®¤è¯å®Œæˆä»¥åï¼Œgithub çš„è´¦å·å°±å¯ä»¥ä½¿ç”¨äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;2-åˆ›å»ºä¸€ä¸ªæ–°ä»“åº“new-repository&quot;&gt;2. åˆ›å»ºä¸€ä¸ªæ–°ä»“åº“ï¼ˆnew repositoryï¼‰&lt;/h3&gt;
&lt;p&gt;ç™»å½•ç¬¬ä¸€æ­¥æ³¨å†Œçš„ github è´¦å·ï¼Œç„¶åé€šè¿‡ &lt;a href=&quot;https://github.com/new&quot;&gt;new repository&lt;/a&gt; åˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/free-static-blog-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¿™ä¸€æ­¥éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»“åº“åç§°å¿…é¡»æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;â€œOwner åâ€.github.io&lt;/code&gt; è¿™æ ·çš„ç»„åˆï¼Œå›¾ç¤ºä¸­ Owner åä¸º &lt;strong&gt;jianzhoubian&lt;/strong&gt;ï¼ˆèå‘¨è¾¹ï¼‰ï¼Œå› æ­¤ä»“åº“åç§°ä¸º &lt;strong&gt;jianzhoubian.github.io&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ç‚¹å‡»åˆ›å»ºä»“åº“ï¼ˆCreate repositoryï¼‰åï¼Œç›®æ ‡ä»“åº“å°±å»ºæˆäº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;3-åˆ›å»º-indexhtml-æ–‡ä»¶å¹¶é»è´´-html-é™æ€å†…å®¹&quot;&gt;3. åˆ›å»º index.html æ–‡ä»¶å¹¶é»è´´ html é™æ€å†…å®¹&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/free-static-blog-2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåˆ›å»ºä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt; æ–‡ä»¶ å¹¶è´´å…¥å†™å¥½çš„ html å†…å®¹ï¼Œç„¶åæäº¤ä¿å­˜å³å¯ã€‚ä¹‹æ‰€ä»¥å–å &lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;ï¼Œæ˜¯å› ä¸º WWW æœåŠ¡å™¨é»˜è®¤ä¼šæŠŠåç§°ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt; ä½œä¸ºé¦–é¡µåœ°å€è¿”å›ç»™ç”¨æˆ·ã€‚&lt;/p&gt;

&lt;h3 id=&quot;4-é€šè¿‡-jianzhoubiangithubio-åœ°å€è®¿é—®åšå®¢&quot;&gt;4. é€šè¿‡ jianzhoubian.github.io åœ°å€è®¿é—®åšå®¢&lt;/h3&gt;
&lt;p&gt;åšå®Œç¬¬ 3 æ­¥ï¼Œå°±å¯ä»¥é€šè¿‡ä»“åº“åœ°å€åï¼ˆ&lt;a href=&quot;https://jianzhoubian.github.io&quot;&gt;jianzhoubian.github.io&lt;/a&gt;ï¼‰è®¿é—®åšå®¢å†…å®¹äº†ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœå¤§å®¶ç»†å¿ƒå¯ä»¥å‘ç°åŸŸåä¸­åŒ…å«äº† &lt;strong&gt;github.io&lt;/strong&gt; åç¼€ï¼Œ å…¶å®æˆ‘ä»¬å®Œå…¨å¯ä»¥åœ¨å¯¹åº”ä»“åº“çš„è®¾ç½®ï¼ˆSettingï¼‰ä¸­é…ç½®è‡ªå·±çš„ç§äººåŸŸåï¼ˆç§äººåŸŸåéœ€è¦è‡ªå·±è´­ä¹°ï¼Œè´¹ç”¨åœ¨å‡ å…ƒåˆ°å‡ åå…ƒä¸ç­‰ï¼Œ&lt;a href=&quot;https://wanwang.aliyun.com&quot;&gt;é˜¿é‡Œäº‘&lt;/a&gt;ã€&lt;a href=&quot;https://dnspod.cloud.tencent.com/&quot;&gt;è…¾è®¯äº‘&lt;/a&gt;ç­‰çŸ¥åäº‘æœåŠ¡æä¾›å•†ç›®å‰éƒ½å¯ä»¥ä¹°åŸŸåï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;æ¥ä¸‹æ¥å°è¯•æŠŠ jianzhoubian.github.io é…ç½®åˆ° tui.jianzhoubian.comï¼ˆä¸‹é¢çš„å†…å®¹é»˜è®¤å¤§å®¶æœ‰è‡ªå·±çš„åŸŸåï¼Œè´­ä¹°åŸŸåæ¯”è¾ƒç®€å•ï¼Œåªè¦è®°ä½ä»·æ ¼â€”â€”å‡ å…ƒåˆ°å‡ åå…ƒï¼Œå¤šäºè¿™ä¸ªä»·æ ¼å¯èƒ½ä¹°äº†å…¶ä»–çš„æœåŠ¡ï¼‰ã€‚&lt;/p&gt;

&lt;h3 id=&quot;5-é…ç½®ç§äººåŸŸååœ¨-github-ä¸­è®¾ç½®é¡¹ç›®ç›¸å…³é¡¹&quot;&gt;5. é…ç½®ç§äººåŸŸåâ€”â€”åœ¨ github ä¸­è®¾ç½®é¡¹ç›®ç›¸å…³é¡¹&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/free-static-blog-3.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œé¦–å…ˆ &lt;strong&gt;1ï¼‰&lt;/strong&gt;ç‚¹å‡» Settings è¿›å…¥é¡¹ç›®çš„è®¾ç½®é¡µé¢ï¼ˆå›¾ç¤ºä»¥ jianzhoubian.github.io ä¸ºä¾‹ï¼‰ï¼Œæ¥ç€ &lt;strong&gt;2ï¼‰&lt;/strong&gt;æ‰¾åˆ° &lt;strong&gt;GitHub Pages -&amp;gt; Custom domain&lt;/strong&gt; çš„ä½ç½®ï¼Œç„¶å &lt;strong&gt;3ï¼‰&lt;/strong&gt;å¡«å†™è‡ªå·±çš„ç§äººåŸŸååœ°å€å³å¯ï¼ˆæˆ‘ä¹°äº† jianzhoubian.com è¿™ä¸ªåŸŸåï¼Œå›¾ç¤ºå¡«å…¥äº† &lt;strong&gt;tui.jianzhoubian.com&lt;/strong&gt;ï¼Œä¹‹æ‰€ä»¥ç”¨ &lt;strong&gt;tui&lt;/strong&gt; è¿™ä¸ªå‰ç¼€ï¼Œå–â€œ&lt;strong&gt;æ¨&lt;/strong&gt;èå‘¨è¾¹â€çš„æ„æ€ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;è¯´æ˜ï¼šé…ç½®äº†è‡ªå·±çš„åŸŸååï¼Œé»˜è®¤æ˜¯ http åè®®è®¿é—®ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥é…ç½® https åè®®ï¼ˆæ›´å®‰å…¨å’Œä¸“ä¸šï¼‰ã€‚å¤§å®¶æ³¨æ„ä¸Šå›¾ &lt;strong&gt;Enforce HTTPS&lt;/strong&gt; çš„å†…å®¹ï¼Œè¿™ä¸ª &lt;strong&gt;Enforce HTTPS&lt;/strong&gt; çš„æŒ‰é’®å°±æ˜¯&lt;strong&gt;å¼ºåˆ¶ https&lt;/strong&gt; è®¿é—®çš„æ„æ€ã€‚åˆšåˆšé…ç½®ç§æœ‰åŸŸååï¼Œå› ä¸º github åœ¨å¸®å¿™ç”³è¯·è¯ä¹¦&lt;strong&gt;Enforce HTTPS&lt;/strong&gt; å¯èƒ½ä¸èƒ½å‹¾é€‰ï¼Œä¸€èˆ¬ç­‰ä¸€æ®µæ—¶é—´ï¼ˆå‡ åˆ†é’Ÿåˆ°å‡ ä¸ªå°æ—¶ä¸ç­‰ï¼‰å°±å¯ä»¥äº†ï¼Œå¤§å®¶å¯ä»¥ä¸è¦æ…Œã€‚&lt;/p&gt;

&lt;h3 id=&quot;6-é…ç½®ç§äººåŸŸåé…ç½®åŸŸåè§£æ&quot;&gt;6. é…ç½®ç§äººåŸŸåâ€”â€”é…ç½®åŸŸåè§£æ&lt;/h3&gt;
&lt;p&gt;é…ç½®åŸŸåè§£æéœ€è¦åœ¨è´­ä¹°åŸŸåçš„äº‘å¹³å°è¿›è¡Œæ“ä½œã€‚å¦‚æœåŸŸåæ˜¯åœ¨&lt;a href=&quot;https://wanwang.aliyun.com&quot;&gt;é˜¿é‡Œäº‘&lt;/a&gt;ä¹°çš„å°±åœ¨é˜¿é‡Œäº‘æ“ä½œï¼Œå¦‚æœåŸŸåæ˜¯åœ¨&lt;a href=&quot;https://dnspod.cloud.tencent.com/&quot;&gt;è…¾è®¯äº‘&lt;/a&gt;ä¹°çš„å°±åœ¨è…¾è®¯äº‘æ“ä½œï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/free-static-blog-4.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬åªéœ€è¦é…ç½®ä¸€ä¸ª CNAME ç±»å‹çš„è§£æï¼Œå…¶ä¸­ &lt;strong&gt;ä¸»æœºè®°å½•&lt;/strong&gt;å€¼æ˜¯æˆ‘ä»¬ä¸Šä¸€æ­¥åœ¨ github ä¸­é…ç½®çš„ &lt;strong&gt;tui.jianzhoubian.com&lt;/strong&gt;ï¼ˆäºŒè€…å¿…é¡»ä¸€è‡´ï¼‰ï¼Œ&lt;strong&gt;è®°å½•å€¼&lt;/strong&gt;åˆ™æ˜¯æˆ‘ä»¬çš„é¡¹ç›®åç§°&lt;strong&gt;jianzhoubian.github.io&lt;/strong&gt;ã€‚å¡«å¥½åç‚¹å‡»ç¡®è®¤ï¼Œç­‰å¾…å‡ åˆ†é’Ÿå°±å¯ä»¥é€šè¿‡ &lt;strong&gt;tui.jianzhoubian.com&lt;/strong&gt; è®¿é—®æˆ‘ä»¬çš„åšå®¢äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;7-é€šè¿‡-tuijianzhoubiancom-åœ°å€è®¿é—®åšå®¢&quot;&gt;7. é€šè¿‡ tui.jianzhoubian.com åœ°å€è®¿é—®åšå®¢&lt;/h3&gt;
&lt;p&gt;åšå®Œç¬¬ 6 æ­¥ï¼Œå°±å¯ä»¥é€šè¿‡ä»“åº“åœ°å€åï¼ˆ&lt;a href=&quot;https://tui.jianzhoubian.com&quot;&gt;tui.jianzhoubian.com&lt;/a&gt;ï¼‰è®¿é—®åšå®¢å†…å®¹äº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;åœ¨æµè§ˆå™¨ä¸­è®¿é—®çš„åšå®¢é¡µé¢ï¼Œå½’æ ¹ç»“åº•å±äº html é¡µé¢ã€‚æ¢å¥è¯è®²ï¼Œåªè¦å¤§å®¶ç²¾é€š html çš„ç”Ÿæˆæ–¹æ³•ï¼Œç„¶åæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤æŠŠç›¸åº”çš„ html æ–‡ä»¶æ‰˜ç®¡åˆ° Github ä¸Šå°±å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„åšå®¢äº†ã€‚html çš„ç”Ÿæˆæ–¹æ³•æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æ‰‹åŠ¨ç¼–ç  html æ–‡ä»¶ï¼›&lt;/li&gt;
  &lt;li&gt;åˆ©ç”¨ JekyIIã€Hugo ç­‰åšå®¢æ¡†æ¶æŠŠ markdown æ–‡ä»¶è½¬æ¢æˆ html æ–‡ä»¶ï¼ˆ&lt;strong&gt;æ¨èæ­¤ç§æ–¹å¼&lt;/strong&gt;ï¼‰ï¼›&lt;/li&gt;
  &lt;li&gt;åˆ©ç”¨ vuejsã€reactjs ç­‰ä¸“ä¸šçš„å‰ç«¯æ¡†æ¶æ¸²æŸ“ html æ–‡ä»¶ï¼›&lt;/li&gt;
  &lt;li&gt;å…¶ä»–ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æœ¬æ–‡ç®€å•ä»‹ç»äº†æ­å»º&lt;strong&gt;ç®€å•é™æ€é¡µé¢å‹&lt;/strong&gt;çš„æ–¹æ³•ï¼Œé€šè¿‡æŠŠé™æ€é¡µé¢æ‰˜ç®¡åˆ° github ä»¥åŸŸå &lt;a href=&quot;https://jianzhoubian.github.io&quot;&gt;jianzhoubian.github.io&lt;/a&gt; çš„æ–¹å¼ä¾›æ‰€æœ‰äººæµè§ˆï¼›ä¸ºäº†å¢åŠ åšå®¢çš„ç‹¬ç‰¹æ€§ï¼Œæœ¬æ–‡è¿˜ä»‹ç»äº†é…ç½®ç§æœ‰åŸŸå &lt;a href=&quot;https://tui.jianzhoubian.com&quot;&gt;tui.jianzhoubian.com&lt;/a&gt; çš„æ–¹æ³•ã€‚å¸Œæœ›èƒ½å¤Ÿå¸®å¤§å®¶é¡ºåˆ©æ­å»ºè‡ªå·±çš„åšå®¢ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœå¤§å®¶å¯¹æ–‡ç« å†…å®¹æœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿é‚®ä»¶è”ç³»æˆ‘ï¼Œæˆ–è€…åŠ qqç¾¤ 376482175 è¿›è¡Œäº¤æµ :)&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;/2018/06/08/how-to-build-a-blog-web.html&quot;&gt;å¦‚æœä½ æƒ³æ­å»ºä¸€ä¸ªå¾ˆéšæ„çš„åšå®¢ - æ•¬ç»´&lt;/a&gt; ä¹‹å‰ç¬¼ç»Ÿåœ°å†™çš„æ­å»ºåšå®¢çš„å‡ ä¸ªç‚¹&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2018/09/01/internet-a-request-route.html&quot;&gt;ã€Šç™½è¯äº’è”ç½‘æŠ€æœ¯ã€‹ä¹‹ä¸€ä¸ªè¯·æ±‚çš„é“¾è·¯ - æ•¬ç»´&lt;/a&gt; ä»‹ç»äº†äº’è”ç½‘è¯·æ±‚çš„é“¾è·¯&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2018/08/01/git-foundation-of-foundation.html&quot;&gt;gitä½¿ç”¨åŸºç¡€ - æ•¬ç»´&lt;/a&gt; ä»‹ç»äº† git çš„å‡ ä¸ªåŸºç¡€ä½¿ç”¨å‘½ä»¤&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 25 Aug 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/08/25/free-static-blog.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/08/25/free-static-blog.html</guid>
        
        <category>å®ç”¨</category>
        
        <category>ç»éªŒ</category>
        
        <category>è‡ªå·±</category>
        
        
        <category>ç»éªŒ</category>
        
      </item>
    
      <item>
        <title>éº»å°†æ¸¸æˆåç«¯æ¶æ„é‡Œçš„å¤šå¹¶å‘æ¨¡å‹</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; id=&quot;markdown-toc-å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ±‡é—²éº»å°†çš„åç«¯æ¶æ„&quot; id=&quot;markdown-toc-æ±‡é—²éº»å°†çš„åç«¯æ¶æ„&quot;&gt;æ±‡é—²éº»å°†çš„åç«¯æ¶æ„&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ä¿¡æ¯æ”¶é›†&quot; id=&quot;markdown-toc-ä¿¡æ¯æ”¶é›†&quot;&gt;ä¿¡æ¯æ”¶é›†&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#ä¸‰ä¸ªè¦æ±‚&quot; id=&quot;markdown-toc-ä¸‰ä¸ªè¦æ±‚&quot;&gt;ä¸‰ä¸ªè¦æ±‚&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#æ±‡é—²éº»å°†åå°ä¸­çš„æ ¸å¿ƒå¯¹è±¡&quot; id=&quot;markdown-toc-æ±‡é—²éº»å°†åå°ä¸­çš„æ ¸å¿ƒå¯¹è±¡&quot;&gt;æ±‡é—²éº»å°†åå°ä¸­çš„æ ¸å¿ƒå¯¹è±¡&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#éœ€è¦è€ƒè™‘çš„å‡ ä¸ªå…³é”®é—®é¢˜&quot; id=&quot;markdown-toc-éœ€è¦è€ƒè™‘çš„å‡ ä¸ªå…³é”®é—®é¢˜&quot;&gt;éœ€è¦è€ƒè™‘çš„å‡ ä¸ªå…³é”®é—®é¢˜&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#å†å²ç»éªŒ&quot; id=&quot;markdown-toc-å†å²ç»éªŒ&quot;&gt;å†å²ç»éªŒ&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ä¿¡æ¯åˆ†æä¸ç»“è®º&quot; id=&quot;markdown-toc-ä¿¡æ¯åˆ†æä¸ç»“è®º&quot;&gt;ä¿¡æ¯åˆ†æä¸ç»“è®º&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#æ±‡é—²éº»å°†åç«¯æ¶æ„é‡Œçš„å¹¶å‘æ¨¡å‹&quot; id=&quot;markdown-toc-æ±‡é—²éº»å°†åç«¯æ¶æ„é‡Œçš„å¹¶å‘æ¨¡å‹&quot;&gt;æ±‡é—²éº»å°†åç«¯æ¶æ„é‡Œçš„å¹¶å‘æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å°ç»“&quot; id=&quot;markdown-toc-å°ç»“&quot;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;å—åˆ°æ”¿ç­–å› ç´ å½±å“ï¼Œç»å†äº†è¿‘ä¸‰ä¸ªæœˆå°é—­å¼€å‘çš„&lt;strong&gt;æ±‡é—²éº»å°†&lt;/strong&gt;æœ€ç»ˆè¿˜æ˜¯æ²¡èƒ½æˆåŠŸä¸Šçº¿ã€‚å½“å‰çš„æ„Ÿæ‚Ÿï¼Œåˆ›ä¸šçš„è·¯ä¸Šæœ‰å¾ˆå¤šæ§›ï¼ŒæŠ€æœ¯ç ”å‘åªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªæ§›ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œä»…ä»¥ä¸€åç¨‹åºå‘˜çš„è§’è‰²æ€»ç»“ä¸€ä¸‹&lt;strong&gt;æ±‡é—²éº»å°†&lt;/strong&gt;çš„åç«¯æ¶æ„ï¼Œä¹Ÿç®—æ˜¯ç»™è¿‡å»ä¸‰ä¸ªæœˆçš„è‡ªå·±ä¸€ä¸ªäº¤ä»£ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/huixian-mahjong-server-summary-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;æ±‡é—²éº»å°†çš„åç«¯æ¶æ„&quot;&gt;æ±‡é—²éº»å°†çš„åç«¯æ¶æ„&lt;/h2&gt;
&lt;h3 id=&quot;ä¿¡æ¯æ”¶é›†&quot;&gt;ä¿¡æ¯æ”¶é›†&lt;/h3&gt;
&lt;p&gt;å°±æˆ‘ä¸ªäººçš„æ–¹æ³•è®ºï¼Œæ‹¿åˆ°ä¸€ä¸ªé—®é¢˜åï¼Œâ‘  é¦–å…ˆè¦åšçš„æ˜¯å°½å¯èƒ½å¤šåœ°æ”¶é›†æƒ…æŠ¥ï¼Œâ‘¡ ç„¶ååˆ†ææƒ…æŠ¥ï¼Œæœ‰å¿…è¦çš„æƒ…å†µä¸‹è¿˜è¦è¿›ä¸€æ­¥æ”¶é›†æƒ…æŠ¥ï¼Œâ‘¢ æ¥ç€æ‰æ˜¯åˆ¶å®šæ–¹æ¡ˆï¼Œâ‘£ æœ€åå®æ–½æ–¹æ¡ˆã€‚&lt;/p&gt;

&lt;h4 id=&quot;ä¸‰ä¸ªè¦æ±‚&quot;&gt;ä¸‰ä¸ªè¦æ±‚&lt;/h4&gt;
&lt;p&gt;åœ¨åç«¯æ¶æ„åˆæœŸï¼Œè´Ÿè´£äº§å“çš„åŒäº‹å°±ç»™åç«¯çš„æ¶æ„æäº†ä¸‰ä¸ªè€ç”Ÿå¸¸è°ˆçš„è¦æ±‚ï¼š&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;æ”¯æŒé«˜å¹¶å‘ï¼ˆå•å°æœåŠ¡å™¨è‡³å°‘å¤§å‡ ç™¾å¹¶å‘ï¼‰&lt;/li&gt;
  &lt;li&gt;é«˜å¯æ‰©å±•æ€§ï¼ˆæ–¹ä¾¿äº§å“è¿­ä»£æ·»åŠ æ–°ç‰¹æ€§ï¼‰&lt;/li&gt;
  &lt;li&gt;æ”¯æŒå¹³è¡Œæ‰©å®¹ï¼ˆå¤šå°æœåŠ¡å™¨åŒæ—¶æä¾›æœåŠ¡ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;æ±‡é—²éº»å°†åå°ä¸­çš„æ ¸å¿ƒå¯¹è±¡&quot;&gt;æ±‡é—²éº»å°†åå°ä¸­çš„æ ¸å¿ƒå¯¹è±¡&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;ç©å®¶&lt;/strong&gt;ï¼šæ¯ä¸€ä¸ªè¿›åˆ°æ¸¸æˆä¸­çš„ç”¨æˆ·éƒ½æ˜¯ç©å®¶ï¼Œå½“ç„¶ä¹ŸåŒ…å«é™ªçœŸäººç©å®¶æ‰“ç‰Œçš„æœºå™¨äººç©å®¶ï¼›&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ç‰Œæ¡Œ&lt;/strong&gt;ï¼šæ¯ 4 ä¸ªç©å®¶åŠ å…¥åˆ°ä¸€ä¸ªç‰Œæ¡Œè¿›è¡Œæ¸¸æˆï¼›&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å¤§å…&lt;/strong&gt;ï¼šæ¯ä¸ªç©å®¶è¿›å…¥æ¸¸æˆåï¼Œä¼šé¦–å…ˆåˆ°è¾¾å¤§å…ï¼Œå‚ä¸è½¬ç›˜ã€ç­¾åˆ°ã€æ¯æ—¥ä»»åŠ¡ç­‰åŠŸèƒ½ï¼›&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;å…¶ä»–&lt;/strong&gt;ï¼šå…¶ä»–ä¸€äº›å°çš„å¯¹è±¡ï¼Œæ¯”å¦‚éº»å°†ã€è‰²å­ç­‰ï¼Œè¿™äº›å°±éƒ½æ¯”è¾ƒå®¹æ˜“å¤„ç†äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;éœ€è¦è€ƒè™‘çš„å‡ ä¸ªå…³é”®é—®é¢˜&quot;&gt;éœ€è¦è€ƒè™‘çš„å‡ ä¸ªå…³é”®é—®é¢˜&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;åŒä¸€ä¸ªç©å®¶çš„ä¸åŒæ“ä½œéœ€è¦æ˜¯ä¿åºçš„ï¼Œæ¯”å¦‚ç”¨æˆ·ç™»å½•åæ‰å¯ä»¥è¿›è¡Œå…¥ç‰Œæ¡Œçš„åŠ¨ä½œï¼›&lt;/li&gt;
  &lt;li&gt;åŒä¸€ä¸ªç‰Œæ¡Œä¸Šè¿›è¡Œçš„æ“ä½œä¹Ÿéœ€è¦æ˜¯ä¿åºçš„ï¼Œæ¯”å¦‚å…¥æ¡Œé¡ºåºã€å‡ºç‰Œé¡ºåºç­‰ï¼›&lt;/li&gt;
  &lt;li&gt;éœ€è¦æ§åˆ¶åç¨‹ï¼ˆgoroutineï¼‰çš„æ•°é‡ï¼Œé¿å…æ¶æ€§å¢é•¿èµ„æºè€—å°½ï¼›&lt;/li&gt;
  &lt;li&gt;éœ€è¦ç›‘æ§ç‰Œæ¡Œä¿¡æ¯ï¼Œé‡‡æ ·ç‰Œæ¡ŒçŠ¶æ€ä»è€Œä¾¿äºæŸ¥é”™ï¼›&lt;/li&gt;
  &lt;li&gt;ç©å®¶çš„æ–­çº¿é‡è¿ï¼Œæ¸¸æˆçŠ¶æ€çš„æ¢å¤ï¼›&lt;/li&gt;
  &lt;li&gt;æœºå™¨äººç©å®¶çš„å¼€å‘ï¼›&lt;/li&gt;
  &lt;li&gt;å…¶ä»–ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ä¸Šé¢çš„å‡ ä¸ªé—®é¢˜å¹¶æœªæ¶‰åŠåˆ°éº»å°†æ¸¸æˆçš„å…·ä½“é€»è¾‘ï¼ˆæ¯”å¦‚ç®—è¾“èµ¢ã€ç®—ç•ªæ•°ç­‰ï¼‰ï¼Œæ¶æ„åšå¥½åå¯ä»¥å¡«å……è¿™äº›é€»è¾‘ã€‚&lt;/p&gt;

&lt;h4 id=&quot;å†å²ç»éªŒ&quot;&gt;å†å²ç»éªŒ&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;ä¸ºäº†é¿å…å¹¶å‘é—®é¢˜ï¼Œä¼ ç»Ÿçš„éº»å°†æ¸¸æˆåç«¯ï¼Œæ¯ä¸ªæˆ¿é—´ä¸€ä¸ªè¿›ç¨‹ï¼›ä¾‹å¦‚èœé¸Ÿåœºã€å¯Œè±ªåœºï¼Œæ¯ä¸ªåœºéƒ½æ˜¯ä¸€ä¸ªæˆ¿é—´ï¼Œæˆ¿é—´é‡ŒåŒ…å«è®¸å¤šçš„ç‰Œæ¡Œï¼Œè¿™äº›ç‰Œæ¡Œä¸Šçš„é€»è¾‘ç”±ä¸€ä¸ªè¿›ç¨‹è½®è½¬å¤„ç†ã€‚&lt;/li&gt;
  &lt;li&gt;æ¯ä¸ªæˆ¿é—´å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œå¹¶æš´éœ²å¯¹åº”çš„ç«¯å£ä¾›å®¢æˆ·ç«¯è¿æ¥ã€‚&lt;/li&gt;
  &lt;li&gt;ç”¨æˆ·è¿›å…¥æ¸¸æˆçš„çš„é€»è¾‘æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼šâ‘  ç”¨æˆ·é¦–å…ˆç™»é™†åˆ°ç™»é™†æœåŠ¡å™¨è¿›è¡Œç™»é™†é‰´æƒï¼›â‘¡ ç”¨æˆ·æ‹¿ç€é‰´æƒå¾—åˆ°çš„ç§˜é’¥è¿æ¥åˆ°å¤§å…æœåŠ¡å™¨ï¼Œè¿›è¡Œè½¬ç›˜ã€ç­¾åˆ°ã€ä»»åŠ¡ã€é€‰æ‹©æˆ¿é—´å…¥æ¡Œç­‰æ“ä½œï¼›â‘¢ ç”¨æˆ·é€‰æ‹©æˆ¿é—´åï¼Œè¿æ¥å…·ä½“çš„æˆ¿é—´æœåŠ¡å™¨ï¼ˆæ¸¸æˆæœåŠ¡å™¨ï¼‰è¿›è¡Œæ¸¸æˆï¼›â‘£ ç”¨æˆ·è¿›è¡Œå®Œæ¸¸æˆåï¼Œä¸æ¸¸æˆæœåŠ¡å™¨æ–­å¼€ï¼Œé‡æ–°ä¸å¤§å…æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œå›åˆ°æ­¥éª¤â‘¡ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;ä¿¡æ¯åˆ†æä¸ç»“è®º&quot;&gt;ä¿¡æ¯åˆ†æä¸ç»“è®º&lt;/h3&gt;
&lt;p&gt;ç”±äºæˆ‘çš„æŠ€æœ¯æ ˆæ˜¯ Golangï¼Œå› æ­¤é€‰å®šäº† Golang ä½œä¸ºæ±‡é—²éº»å°†çš„åç«¯å¼€å‘è¯­è¨€ï¼Œåˆ†æé—®é¢˜çš„æ—¶å€™è‡ªç„¶å°±å¸¦å…¥äº† Golang çš„è¯­è¨€ç‰¹æ€§ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å—å¼€å‘èµ„æºï¼ˆæ—¶é—´å’ŒäººåŠ›ï¼‰çš„é™åˆ¶ï¼Œä¸æ‹†åˆ†ç™»å½•ã€å¤§å…ã€æ¸¸æˆç­‰æ¨¡å—ï¼Œåœ¨ä¸€ä¸ªä»£ç åº“ä¸­è¿›è¡Œå¼€å‘ï¼Œæ–¹ä¾¿æŠŠæ§ç ”å‘èŠ‚å¥ï¼Œé™ä½å‰æœŸçš„è¿ç»´éš¾åº¦ï¼›&lt;/li&gt;
  &lt;li&gt;åŒæ ·çš„é“ç†ï¼Œæ¸¸æˆæœæš‚ä¸æŒ‰ç…§æˆ¿é—´è¿›è¡Œè¿›ç¨‹ä¸Šçš„åˆ’åˆ†ï¼Œæ‰€æœ‰çš„æˆ¿é—´éƒ½åœ¨ä¸€ä¸ªä¸»è¿›ç¨‹ä¸‹é¢ï¼ˆå¯ç”¨ Golang çš„å¤šçº¿ç¨‹ç‰¹æ€§ï¼‰ï¼Œå¯¹æˆ¿é—´é‡Œçš„ç‰Œæ¡Œè¿›è¡ŒåŠ¨æ€è°ƒæ•´ï¼ˆå¦‚æœæŸä¸ªæˆ¿é—´é‡Œçš„ç‰Œæ¡Œä¸å¤Ÿç”¨ï¼Œè€Œå…¶ä»–æˆ¿é—´é‡Œé—²ç½®çš„ç‰Œæ¡Œæ¯”è¾ƒå¤šï¼Œå°±ä¸´æ—¶â€œå€Ÿä¸€ä¸ªâ€ä½¿ç”¨ï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;æ¯ä¸ªç‰Œæ¡ŒæŒ‚ä¸€ä¸ª goroutine å¤„ç†ç‰Œæ¡Œä¸Šçš„ä¿¡æ¯ï¼ˆç‰Œæ¡ŒçŠ¶æ€è½®è½¬ã€ç”¨æˆ·å‡ºç‰Œåƒç‰Œç­‰ï¼‰ï¼›&lt;/li&gt;
  &lt;li&gt;å¤§å…çš„äº¤äº’é¢‘æ¬¡è¾ƒä½ï¼Œåªéœ€æŒ‚ä¸€ä¸ª gotoutine å¤„ç†æ‰€æœ‰ç”¨æˆ·çš„ç›¸å…³åŠ¨ä½œï¼›&lt;/li&gt;
  &lt;li&gt;ç©å®¶æ–­çº¿é‡è¿æ—¶ï¼Œé€šè¿‡æ›¿ä»£åº•å±‚çš„ session è¿›è¡Œæ¢å¤ï¼›&lt;/li&gt;
  &lt;li&gt;æ•°æ®å…¥åº“æ—¶ç”±ä¸“é—¨çš„ goroutine æ± è´Ÿè´£å†™å…¥ï¼Œä»è€Œé¿å…å¯¹æ¸¸æˆé€»è¾‘çš„é˜»å¡ï¼ˆä¸ºæ­¤è¿˜ä¸“é—¨å†™äº†å¼€æºé¡¹ç›® &lt;a href=&quot;https://github.com/chalvern/gochan&quot;&gt;gochan&lt;/a&gt;ï¼‰ï¼›&lt;/li&gt;
  &lt;li&gt;ä¸ºæ–¹ä¾¿åˆ†æå„ä¸ªç»„ä»¶çš„çŠ¶æ€ï¼Œç»Ÿä¸€æ‰“å°æ—¥å¿—ï¼Œå¹¶æŠŠæ—¥å¿—æ”¶é›†åˆ° ELK ä¸­è¿›è¡Œåˆ†æï¼ˆä¸ºæ­¤ä¸“é—¨å†™äº†å¼€æºé¡¹ç›® &lt;a href=&quot;https://github.com/chalvern/sugar&quot;&gt;sugar&lt;/a&gt;ï¼‰ï¼›&lt;/li&gt;
  &lt;li&gt;å…¶ä»–ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;æ±‡é—²éº»å°†åç«¯æ¶æ„é‡Œçš„å¹¶å‘æ¨¡å‹&quot;&gt;æ±‡é—²éº»å°†åç«¯æ¶æ„é‡Œçš„å¹¶å‘æ¨¡å‹&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/huixian-mahjong-server-summary.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åœ¨æ¶æ„è®¾è®¡åˆæœŸï¼Œæˆ‘æ›¾ç»å°è¯•é€šè¿‡ &lt;strong&gt;é”&lt;/strong&gt; çš„æ–¹å¼ç»´æŒç©å®¶ã€æ¡Œå­ç­‰çš„ä¿¡æ¯ä¸€è‡´æ€§ï¼Œåæ¥ç¼–å†™ä»£ç çš„æ—¶å€™å‘ç°é€»è¾‘éå¸¸çš„å•°å—¦ï¼Œå¾ˆå¤šæ“ä½œéƒ½éœ€è¦è€ƒè™‘åˆ°åŠ é”ä¸è§£é”ï¼Œå½“ä¸šåŠ¡é€»è¾‘ç¨å¾®å˜å¾—å¤æ‚åéš¾ä»¥ç»´æŠ¤ï¼Œè¿˜å¾ˆå®¹æ˜“å‡ºç°æ­»é”çš„æƒ…å†µã€‚é‚£å‡ å¤©æ­£å¥½çœ‹åˆ°ä¸€ä½åŒäº‹åœ¨ç©ã€Šå¼‚æ˜Ÿå·¥å‚ã€‹ï¼Œå—é‡Œé¢çš„ä¼ é€å¸¦çš„å¯å‘ï¼Œæ„æ€å‡ºäº†æœ€åˆçš„â€œæ¸¸æˆåç«¯çº¿ç¨‹æ¶æ„å›¾â€åŸå‹ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚&lt;/p&gt;

&lt;p&gt;â€œä¸è¦é€šè¿‡å…±äº«å†…å­˜æ¥é€šä¿¡ï¼Œè¦é€šè¿‡é€šä¿¡æ¥å…±äº«å†…å­˜â€ï¼Œè¿™å¥è¯æ˜¯ Go ç¤¾åŒºä¸­éå¸¸ç»å…¸çš„ä¸€å¥è¯ã€‚ä¸Šé¢çš„æ¶æ„å›¾çš„è®¾è®¡ä¸€è„‰ç›¸æ‰¿äº†â€œé€šè¿‡é€šä¿¡ç»´æŠ¤å¯¹è±¡çŠ¶æ€â€çš„æ€è·¯ã€‚æ¯ä¸ªåç¨‹ï¼ˆgoroutineï¼‰æ­é…ä¸€ä¸ªä¼ é€å¸¦ï¼ˆbuffer-channelï¼‰ï¼Œæ­¤åç¨‹åªå¤„ç†è‡ªå·±ä¼ é€å¸¦ä¸Šçš„é€»è¾‘ï¼ˆé—­åŒ…ï¼‰ã€‚&lt;strong&gt;ä¸Šå›¾ä¸­æ¯ä¸ªåœ†åœˆéƒ½æ˜¯ä¸€ä¸ªåç¨‹ï¼Œåœ†åœˆçš„å‘¨å›´åˆ™æ˜¯é…å¥—çš„ä¼ é€å¸¦ï¼Œå¤–ç•Œï¼ˆå…¶ä»–åç¨‹ï¼‰å¯ä»¥æŠŠé€»è¾‘å°è£…æ”¾ç½®åœ¨ä¼ é€å¸¦ä¸Šï¼Œç„¶åè¢«å½“å‰åç¨‹é¡ºåºè¿›è¡Œå¤„ç†ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å…·ä½“çš„ï¼šâ‘  æ¯ä¸ªç”¨æˆ·ä¸æ¸¸æˆæœçš„é•¿è¿æ¥ä¸Šé¢æŒ‚ä¸¤ä¸ªåç¨‹ï¼ˆgoroutineï¼‰ï¼Œå…¶ä¸­è¯»åç¨‹ï¼ˆreadï¼‰è´Ÿè´£è¯»å–å®¢æˆ·ç«¯ä¼ é€è¿‡æ¥çš„æ•°æ®ï¼Œå†™åç¨‹ï¼ˆwriteï¼‰è´Ÿè´£å†™æœåŠ¡ç«¯è¿”å›çš„æ•°æ®ç»™å®¢æˆ·ç«¯ã€‚â‘¡ è¯»åç¨‹å¯¹ç”¨æˆ·æ•°æ®è¿›è¡Œæ‹†åŒ…åï¼ŒæŠŠè¯·æ±‚æ‰“åŒ…æˆä¸ºä»»åŠ¡æ”¾ç½®åˆ°ä¸»åç¨‹ï¼ˆmainï¼‰çš„ä¼ é€å¸¦ä¸Šï¼ˆä¿¡é“ï¼‰ï¼Œä¸»åç¨‹ä¾æ¬¡å¤„ç†è‡ªå·±ä¼ é€å¸¦ä¸Šçš„ä»»åŠ¡ï¼Œè¿›è¡Œç®€å•çš„é€»è¾‘å¤„ç†ååˆ†å‘ç»™ç›¸åº”çš„ç‰Œæ¡Œï¼ˆtableï¼‰ï¼ˆæŠŠé€»è¾‘æ‰“åŒ…æˆä¸ºä»»åŠ¡æ”¾ç½®åˆ°ç‰Œæ¡Œçš„ä¼ é€å¸¦ï¼‰ï¼›â‘¢ å„ä¸ªç‰Œæ¡Œçš„åç¨‹ä¾æ¬¡å¤„ç†è‡ªå·±ä¼ é€å¸¦ä¸Šçš„ä»»åŠ¡ï¼Œå¹¶æŠŠå“åº”çš„å‘é€ä»»åŠ¡ç»™å†™åç¨‹ï¼ˆwriteï¼‰ï¼›â‘£ å†™åç¨‹è´Ÿè´£ç»Ÿä¸€æŠŠæ•°æ®è¿”å›ç»™ç”¨æˆ·ï¼›â‘¤ å¯¹äºä¸åŒæˆ¿é—´ï¼ˆroomï¼‰ä¸­æ¡Œå­çš„åˆ†é…ã€å€Ÿè¿˜ç­‰ï¼Œç”±ä¸€ä¸ªæ€»çš„æˆ¿é—´åç¨‹ç»Ÿç­¹è¿›è¡Œç®¡ç†ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰äº†ä¸Šé¢çš„å¹¶å‘æ¨¡å‹å›¾ï¼Œæ¨¡å—çš„åˆ’åˆ†å°±å˜å¾—æœ‰ä¾æ®ä¹Ÿæ›´åˆç†ï¼Œå·®ä¸å¤šèŠ±äº†ä¸¤ä¸ªæœˆçš„æ—¶é—´ï¼Œæ±‡é—²éº»å°†å°±éƒ¨ç½²åˆ°é¢„å‘å¸ƒç¯å¢ƒè¿›è¡Œæµ‹è¯•äº†ã€‚æœ€åå› ä¸ºæ”¿ç­–é™åˆ¶æ²¡æœ‰èƒ½æ­£å¼å‘å¸ƒï¼Œè¿˜æ˜¯éå¸¸å¯æƒœçš„ã€‚ã€‚ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;â€œä¸è¦é€šè¿‡å…±äº«å†…å­˜æ¥é€šä¿¡ï¼Œè¦é€šè¿‡é€šä¿¡æ¥å…±äº«å†…å­˜â€ï¼›åœ¨è®¾è®¡å¹¶å¼€å‘å®Œæ±‡é—²éº»å°†çš„åç«¯ä¸šåŠ¡é€»è¾‘åï¼Œæ„Ÿè§‰å¯¹è¿™å¥è¯çš„ç†è§£æ›´é€å½»äº†ã€‚å½“ç„¶ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯å¼ºè°ƒé”æ²¡æœ‰ä½¿ç”¨ä»·å€¼ï¼Œå…¶å®åœ¨ä¸€äº›åœºåˆä¸‹ä½¿ç”¨é”ä¼šæ›´åˆç†ï¼Œå°±åƒã€Š&lt;a href=&quot;/2019/05/12/golang-concurrency-03-map.html&quot;&gt;æµ…è°ˆ Golang ä¸­æ•°æ®çš„å¹¶å‘åŒæ­¥é—®é¢˜ï¼ˆä¸‰ï¼‰&lt;/a&gt;ã€‹ä¸­æ‰€æè¿°çš„é‚£æ ·ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;/2018/12/31/thinking-of-architecture.html&quot;&gt;ä» Clean-Architecture è°ˆæ¶æ„åŸç†åŠå…¶åº”ç”¨ - æ•¬ç»´&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/chalvern/gochan&quot;&gt;GitHub - chalvern/gochan&lt;/a&gt; æä¾›&lt;strong&gt;å±€éƒ¨ä¿åº&lt;/strong&gt;çš„å¤šå¹¶å‘æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç®€å•è®²å°±æ˜¯æŠŠåŒä¸€ä¸ª UUID çš„äº‹ä»¶æ”¾åˆ°åŒä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œï¼Œä»è€Œä¿è¯åŒä¸€ä¸ª UUID äº‹ä»¶çš„ä¿åºã€‚&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2019/02/13/linux-process-thread-schedule-2.html&quot;&gt;Linuxç³»ç»Ÿè°ƒåº¦åŸç†æµ…æï¼ˆäºŒï¼‰ - æ•¬ç»´&lt;/a&gt; ä»‹ç»äº†å¯¹è¿›ç¨‹ã€çº¿ç¨‹çš„è®¤è¯†&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/chalvern/sugar&quot;&gt;GitHub - chalvern/sugar: simpler golang logger which package sugared zap&lt;/a&gt; Golangé¡¹ç›®ä¸­æ›´å¥½ç”¨çš„æ—¥å¿—æ‰“å°å°å·¥å…·&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/chalvern/gochan&quot;&gt;GitHub - chalvern/gochan: pool of goroutine with buffer channel, for concurrent execution but events of individual object running sequentially&lt;/a&gt; å±€éƒ¨ä¿åºçš„è½»é‡çº§ Golang æ¶ˆæ¯é˜Ÿåˆ—å°å·¥å…·&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/lonng/nano&quot;&gt;GitHub - lonng/nano: Lightweight, facility, high performance golang based game server framework&lt;/a&gt; æ±‡é—²éº»å°†çš„åç«¯æœåŠ¡åŸºäº nano æ¡†æ¶è¿›è¡Œäº†å¼€å‘&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 30 Jul 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/07/30/huixian-mahjong-server-summary.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/07/30/huixian-mahjong-server-summary.html</guid>
        
        <category>åŸºç¡€</category>
        
        <category>å®ç”¨</category>
        
        <category>golang</category>
        
        
        <category>åŸºç¡€</category>
        
      </item>
    
      <item>
        <title>ç»™ Golang æ—¥å¿—æ‰“å°åŠ ç‚¹ç³–â€”â€”sugar</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#æ—¥å¿—æ‰“å°ä¸­é—´ä»¶-sugar-ç®€ä»‹&quot; id=&quot;markdown-toc-æ—¥å¿—æ‰“å°ä¸­é—´ä»¶-sugar-ç®€ä»‹&quot;&gt;æ—¥å¿—æ‰“å°ä¸­é—´ä»¶ sugar ç®€ä»‹&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ä¸€äº›æ³¨æ„ç‚¹&quot; id=&quot;markdown-toc-ä¸€äº›æ³¨æ„ç‚¹&quot;&gt;ä¸€äº›æ³¨æ„ç‚¹&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ–¹æ³•&quot; id=&quot;markdown-toc-æ–¹æ³•&quot;&gt;æ–¹æ³•&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#logs-æ ¼å¼é¢„å…ˆçœ‹&quot; id=&quot;markdown-toc-logs-æ ¼å¼é¢„å…ˆçœ‹&quot;&gt;logs æ ¼å¼é¢„å…ˆçœ‹&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#é»˜è®¤çš„å¼€å‘æ¨¡å¼&quot; id=&quot;markdown-toc-é»˜è®¤çš„å¼€å‘æ¨¡å¼&quot;&gt;é»˜è®¤çš„å¼€å‘æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ç”Ÿäº§æ¨¡å¼ä¸‹çš„-json-æ ¼å¼è¾“å‡º&quot; id=&quot;markdown-toc-ç”Ÿäº§æ¨¡å¼ä¸‹çš„-json-æ ¼å¼è¾“å‡º&quot;&gt;ç”Ÿäº§æ¨¡å¼ä¸‹çš„ json æ ¼å¼è¾“å‡º&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ä¾‹å­&quot; id=&quot;markdown-toc-ä¾‹å­&quot;&gt;ä¾‹å­&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#é»˜è®¤é…ç½®&quot; id=&quot;markdown-toc-é»˜è®¤é…ç½®&quot;&gt;é»˜è®¤é…ç½®&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#å®šåˆ¶åŒ–é…ç½®&quot; id=&quot;markdown-toc-å®šåˆ¶åŒ–é…ç½®&quot;&gt;å®šåˆ¶åŒ–é…ç½®&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;æ—¥å¿—æ‰“å°ä¸­é—´ä»¶-sugar-ç®€ä»‹&quot;&gt;æ—¥å¿—æ‰“å°ä¸­é—´ä»¶ sugar ç®€ä»‹&lt;/h2&gt;

&lt;p&gt;é¡¹ç›®åœ°å€è§ &lt;a href=&quot;https://github.com/chalvern/sugar&quot;&gt;è¿™é‡Œ&lt;/a&gt; ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ Golang çš„æ—¥å¿—åº“ä¸­ï¼Œä¹‹å‰ä½¿ç”¨è¾ƒå¤šçš„æ˜¯ &lt;a href=&quot;https://github.com/sirupsen/logrus&quot;&gt;logrus&lt;/a&gt;ã€‚åæ¥äº†è§£åˆ°è¿˜æœ‰ä¸€ä¸ªæ€§èƒ½æ›´ä½³çš„ &lt;a href=&quot;https://github.com/uber-go/zap&quot;&gt;zap&lt;/a&gt;ï¼Œäºæ˜¯æ¢ç©¶äº†ä¸€ç•ªï¼Œå‘ç° zap çš„ä½¿ç”¨æ¯”è¾ƒå•°å—¦ï¼Œåº”ç”¨ç¤ºä¾‹ä¹Ÿä¸æ˜¯å¾ˆç®€æ´ï¼Œäºæ˜¯å°è£… zap æˆä¸º sugar é¡¹ç›®ã€‚ å…·ä½“çš„ä½¿ç”¨ç¤ºä¾‹å¤§å®¶å¯ä»¥å‚è€ƒ &lt;a href=&quot;./golang-logger-sugar.html#ä¾‹å­&quot;&gt;ä¾‹å­&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;Sugar å°è£…äº† zap æ—¥å¿—åº“ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿæ›´æ–¹ä¾¿ã€å¿«æ·åœ°ä½¿ç”¨è¿™ä¸ªæ’ä»¶ã€‚
æœ¬åº“åªæ˜¯ç®€å•çš„å°è£…ï¼Œå¦‚æœä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œæ¨èé˜…è¯» &lt;a href=&quot;https://github.com/uber-go/zap&quot;&gt;zap&lt;/a&gt; çš„ç›¸å…³æ–‡æ¡£å¯»æ‰¾ç­”æ¡ˆã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œæ¬¢è¿å¤§å®¶æ issue æ¥ä¸€èµ·å®Œå–„è¿™ä¸ªä»“åº“ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä¸€äº›æ³¨æ„ç‚¹&quot;&gt;ä¸€äº›æ³¨æ„ç‚¹&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Sugar ä½¿ç”¨ zap ä»“åº“çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;zap.NewDevelopmentConfig()&lt;/code&gt; æ–¹æ³•è¿”å›çš„é…ç½®ä½œä¸ºé»˜è®¤é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒï¼‰ï¼Œè¿™ä¸ªé…ç½®ä½¿ç”¨ console ç±»å‹çš„è¾“å‡ºæ ¼å¼ï¼ˆå¹³é“ºçš„é‚£ç§ï¼ŒåŒºåˆ«äº json ç±»å‹çš„æ—¥å¿—ï¼‰&lt;/li&gt;
  &lt;li&gt;æˆ‘æ›¾ç»çš„å·¥ä½œé˜…å†ï¼Œè®¤ä¸ºæœåŠ¡å®¹å™¨åŒ–ä¼šæ˜¯æœªæ¥çš„è¶‹åŠ¿ï¼Œå› æ­¤è§‰å¾—å¼€å‘ç¯å¢ƒä¹Ÿæœ‰å¿…è¦é…ç½® json æ ¼å¼çš„è¾“å‡ºï¼Œé€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;InitDevelopmentSugar()&lt;/code&gt; å¯ä»¥è¾¾åˆ°ç›®çš„ã€‚è¿™æ ·å¤§å®¶å†™å®¹å™¨åŒ–çš„æœåŠ¡æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªåº“è€Œä¸éœ€è¦å®šåˆ¶æ—¥å¿—è·¯å¾„ã€‚&lt;/li&gt;
  &lt;li&gt;ç”Ÿäº§ç¯å¢ƒé»˜è®¤å°±æ˜¯ json æ ¼å¼ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿åœ°æŠŠæ—¥å¿—æ”¶é›†åˆ° ELK ä¸­å»ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;æ–¹æ³•&quot;&gt;æ–¹æ³•&lt;/h2&gt;

&lt;p&gt;Sugar å°è£…äº† sugared-zap çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼ˆå¦‚æœæœ‰ç–æ¼ï¼Œå¯ä»¥æ issue é€šçŸ¥æˆ‘ï¼‰ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Debug/Debugf&lt;/li&gt;
  &lt;li&gt;Info/Infof&lt;/li&gt;
  &lt;li&gt;Warn/Warnf&lt;/li&gt;
  &lt;li&gt;Error/Errorf&lt;/li&gt;
  &lt;li&gt;Fatal/Fatalf&lt;/li&gt;
  &lt;li&gt;Panic/Panicf&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;logs-æ ¼å¼é¢„å…ˆçœ‹&quot;&gt;logs æ ¼å¼é¢„å…ˆçœ‹&lt;/h2&gt;

&lt;p&gt;æˆ‘ä¹‹æ‰€ä»¥å–œæ¬¢ä½¿ç”¨ zapï¼Œä¸»è¦å› ä¸ºå®ƒæ¼‚äº®çš„è¾“å‡ºæ ¼å¼ï¼ˆæ ¹æ®å®˜æ–¹çš„æè¿°ï¼Œå®ƒçš„è¾“å‡ºæ•ˆç‡ä¹Ÿå¾ˆé«˜ï¼Œä¸è¿‡æˆ‘è¿˜æ²¡æœ‰é‡åˆ°è¿™ä¸ªç“¶é¢ˆï¼‰&lt;/p&gt;

&lt;h3 id=&quot;é»˜è®¤çš„å¼€å‘æ¨¡å¼&quot;&gt;é»˜è®¤çš„å¼€å‘æ¨¡å¼&lt;/h3&gt;

&lt;p&gt;è¿™ç§æ¨¡å¼çš„è¾“å‡ºæ˜¯ console æ ·å¼ï¼Œå°±æ˜¯è¯´æ—¥å¿—å¹³é“ºå±•ç¤ºï¼ˆå¼€å‘æ¨¡å¼ä¹Ÿå¯ä»¥é…ç½® json æ ¼å¼çš„è¾“å‡ºï¼Œè§ &lt;a href=&quot;#ä¸€äº›æ³¨æ„ç‚¹&quot;&gt;ä¸€äº›æ³¨æ„ç‚¹&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;2019-06-10T09:13:03.672+0800    DEBUG   default/main.go:7       default development sugar of chalvern   &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;unit&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
2019-06-10T09:13:03.672+0800    INFO    default/main.go:20      log of myCustomLogger info      &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;unit&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;my_custom_logger&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
2019-06-10T09:13:03.672+0800    WARN    default/main.go:21      log of myCustomLogger warn      &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;unit&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;my_custom_logger&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
github.com/chalvern/sugar.&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;Logger&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;.Warn
        /Users/Chalvern/developer/golang/src/github.com/chalvern/sugar/logger.go:51
main.myCustomLogger
        /Users/Chalvern/developer/golang/src/github.com/chalvern/sugar/examples/default/main.go:21
main.main
        /Users/Chalvern/developer/golang/src/github.com/chalvern/sugar/examples/default/main.go:8
runtime.main
        /usr/local/go/src/runtime/proc.go:200
2019-06-10T09:13:03.672+0800    INFO    default/main.go:26      log of myCustomLogger2 info     &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;unit&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;my_custom_logger_2&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
2019-06-10T09:13:03.672+0800    WARN    default/main.go:27      log of myCustomLogger2 warn     &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;unit&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;my_custom_logger_2&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
github.com/chalvern/sugar.&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;Logger&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;.Warn
        /Users/Chalvern/developer/golang/src/github.com/chalvern/sugar/logger.go:51
main.myCustomLogger2
        /Users/Chalvern/developer/golang/src/github.com/chalvern/sugar/examples/default/main.go:27
main.main
        /Users/Chalvern/developer/golang/src/github.com/chalvern/sugar/examples/default/main.go:9
runtime.main
        /usr/local/go/src/runtime/proc.go:200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ç”Ÿäº§æ¨¡å¼ä¸‹çš„-json-æ ¼å¼è¾“å‡º&quot;&gt;ç”Ÿäº§æ¨¡å¼ä¸‹çš„ json æ ¼å¼è¾“å‡º&lt;/h3&gt;

&lt;p&gt;ç”Ÿäº§æ¨¡å¼é»˜è®¤æ˜¯ json æ ¼å¼çš„è¾“å‡ºï¼Œä»è€Œæ–¹ä¾¿æŠŠæ—¥å¿—æ”¶é›†èµ·æ¥é›†ä¸­å¤„ç†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1560129183.672966&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;caller&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;default/main.go:13&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;msg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;default production sugar of chalvern&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;unit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1560129183.673015&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;caller&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;default/main.go:20&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;msg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;log of myCustomLogger info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;unit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;my_custom_logger&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1560129183.6730392&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;caller&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;default/main.go:21&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;msg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;log of myCustomLogger warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;unit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;my_custom_logger&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1560129183.673059&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;caller&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;default/main.go:26&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;msg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;log of myCustomLogger2 info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;unit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;my_custom_logger_2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;level&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1560129183.673182&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;caller&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;default/main.go:27&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;msg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;log of myCustomLogger2 warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;unit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;my_custom_logger_2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ä¾‹å­&quot;&gt;ä¾‹å­&lt;/h2&gt;

&lt;p&gt;ä¸‹é¢çš„ä¾‹å­ä¹Ÿå¯ä»¥åœ¨ &lt;a href=&quot;./examples&quot;&gt;examples&lt;/a&gt; ç›®å½•æ‰¾åˆ°ã€‚&lt;/p&gt;

&lt;h3 id=&quot;é»˜è®¤é…ç½®&quot;&gt;é»˜è®¤é…ç½®&lt;/h3&gt;
&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// cat ./examples/default/main.go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;github.com/chalvern/sugar&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sugar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Debug&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;default development sugar of chalvern&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myCustomLogger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myCustomLogger2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sugar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;InitProductionSugar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sugar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Debug&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;should not be printed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sugar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;default production sugar of chalvern&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myCustomLogger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myCustomLogger2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myCustomLogger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myLogger&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sugar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NewLoggerOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;my_custom_logger&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myLogger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;log of myCustomLogger info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myLogger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Warn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;log of myCustomLogger warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myCustomLogger2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myLogger&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sugar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NewLoggerOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;my_custom_logger_2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myLogger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;log of myCustomLogger2 info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myLogger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Warn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;log of myCustomLogger2 warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;å®šåˆ¶åŒ–é…ç½®&quot;&gt;å®šåˆ¶åŒ–é…ç½®&lt;/h3&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;github.com/chalvern/sugar&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;go.uber.org/zap&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NewProductionConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OutputPaths&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;./production.log&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ErrorOutputPaths&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;./production_err.log&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sugar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetSugar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sugar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;main info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myCustomLogger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myCustomLogger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myLogger&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sugar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NewLoggerOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;my_custom_logger&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myLogger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;log of myCustomLogger info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myLogger&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Warn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;log of myCustomLogger warn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Mon, 10 Jun 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/06/10/golang-logger-sugar.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/06/10/golang-logger-sugar.html</guid>
        
        <category>golang</category>
        
        <category>å®ç”¨</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>Golang å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå™¨â€”â€”Gochan</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; id=&quot;markdown-toc-å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#é¡¹ç›®èƒŒæ™¯&quot; id=&quot;markdown-toc-é¡¹ç›®èƒŒæ™¯&quot;&gt;é¡¹ç›®èƒŒæ™¯&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#è®¾è®¡çš„æ€è·¯&quot; id=&quot;markdown-toc-è®¾è®¡çš„æ€è·¯&quot;&gt;è®¾è®¡çš„æ€è·¯&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#å¹³å¸¸çš„è®¾è®¡&quot; id=&quot;markdown-toc-å¹³å¸¸çš„è®¾è®¡&quot;&gt;å¹³å¸¸çš„è®¾è®¡&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#çŠ¶æ€æ— ä¾èµ–çš„å¹¶å‘è®¾è®¡&quot; id=&quot;markdown-toc-çŠ¶æ€æ— ä¾èµ–çš„å¹¶å‘è®¾è®¡&quot;&gt;çŠ¶æ€æ— ä¾èµ–çš„å¹¶å‘è®¾è®¡&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#çŠ¶æ€å­˜åœ¨ä¾èµ–çš„å¹¶å‘è®¾è®¡-gochan&quot; id=&quot;markdown-toc-çŠ¶æ€å­˜åœ¨ä¾èµ–çš„å¹¶å‘è®¾è®¡-gochan&quot;&gt;çŠ¶æ€å­˜åœ¨ä¾èµ–çš„å¹¶å‘è®¾è®¡ (gochan)&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ä½¿ç”¨ç¤ºä¾‹&quot; id=&quot;markdown-toc-ä½¿ç”¨ç¤ºä¾‹&quot;&gt;ä½¿ç”¨ç¤ºä¾‹&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;åœ¨æœ€è¿‘ç¼–ç è¿‡ç¨‹ä¸­ï¼Œå¤§é‡ä½¿ç”¨äº†å¼‚æ­¥ä»»åŠ¡ã€‚åœ¨è‡ªå·±éœ€æ±‚çš„åŸºç¡€ä¸ŠæŠ½è±¡å‡ºä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå™¨ï¼Œåº”è¯¥æœ‰æŒºå¤šç±»ä¼¼çš„éœ€æ±‚ï¼Œäºæ˜¯å¼€æºå‡ºæ¥ã€‚é¡¹ç›®åœ°å€ä¸ºã€Š&lt;a href=&quot;https://github.com/chalvern/gochan&quot;&gt;GitHub - chalvern/gochan&lt;/a&gt;ã€‹ï¼Œè¿˜å¸Œæœ›å¤§å®¶èƒ½å¤Ÿä¸å &lt;code class=&quot;highlighter-rouge&quot;&gt;star&lt;/code&gt; âœ¨ã€‚&lt;/p&gt;

&lt;h2 id=&quot;é¡¹ç›®èƒŒæ™¯&quot;&gt;é¡¹ç›®èƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªå¸¦ç¼“å†²çš„ channel å˜é‡æ¥æ”¶æŸç§äº‹ä»¶ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªä¸“ç”¨çš„ goroutine æ¶ˆè´¹æ‰§è¡Œè¿™ä¸ª channel ä¸­çš„äº‹ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯å¦‚æœç›¸å…³äº‹ä»¶å¾ˆå¤šçš„æ—¶å€™ï¼Œä¸€ä¸ª goroutine ä¸å¤Ÿç”¨äº†æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ–è®¸æˆ‘ä»¬ä¼šæƒ³åˆ°å¤šåˆ›å»ºå‡ ä¸ªä¸“ç”¨çš„ goroutine æ¥å¹¶å‘åœ°æ¶ˆè´¹æ‰§è¡Œè¿™ä¸ª channel ä¸­çš„äº‹ä»¶ï¼›å¦‚æœ channel ä¸­å„ä¸ªäº‹ä»¶ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯å¦‚æœæŸäº›äº‹ä»¶ä¹‹é—´å…·æœ‰æŸç§é¡ºåºä¸Šçš„çº¦æŸï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹äº‹ä»¶è¿›è¡Œç‰¹å®šçš„åˆ†ç±»ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ï¼Œä¸€ä¸ªè®¢å•çš„æ”¯ä»˜ä¸è´§ç‰©å‘è´§ï¼Œä¸¤ä¸ªäº‹ä»¶æ˜¯éœ€è¦ä¿åºçš„ï¼›ä½†æ˜¯ä¸åŒçš„è®¢å•ä¹‹é—´åˆæ˜¯å¯ä»¥å¹¶å‘æ‰§è¡Œï¼›å…¶å®å°±æ˜¯å®ç°ä¸€ä¸ªå¾®å‹çš„æŒ‰ç‰¹å®šä¸»é¢˜åˆ†ç±»çš„ pub-subï¼ˆå‘å¸ƒ-è®¢é˜…ï¼‰ç³»ç»Ÿã€‚ä»¥è®¢å•ä¸ºä¾‹ï¼Œå¯ä»¥æ ¹æ®è®¢å•å•å·ï¼ŒæŠŠç›¸åŒå•å·çš„äº‹ä»¶æ¨é€åˆ°åŒä¸€ä¸ªé˜Ÿåˆ—ï¼ˆchannelï¼‰ï¼Œä¸€ä¸ªç‰¹å®šçš„æ‰§è¡Œå™¨ï¼ˆgoroutineï¼‰æ¥æ¶ˆè´¹æ‰§è¡Œè¿™ä¸ªé˜Ÿåˆ—ä¸­çš„äº‹ä»¶ï¼Œå¦‚æ­¤å¹³è¡Œæ‰©å±•å¤šä¸ªç±»ä¼¼çš„ç»„åˆï¼Œå®ç°å¹¶å‘ã€‚&lt;/p&gt;

&lt;h2 id=&quot;è®¾è®¡çš„æ€è·¯&quot;&gt;è®¾è®¡çš„æ€è·¯&lt;/h2&gt;
&lt;h3 id=&quot;å¹³å¸¸çš„è®¾è®¡&quot;&gt;å¹³å¸¸çš„è®¾è®¡&lt;/h3&gt;

&lt;p&gt;é€šè¿‡å®šä¹‰ä¸€ä¸ªå¸¦ç¼“å†²çš„ channel å˜é‡æ¥æ”¶æŸç§äº‹ä»¶ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªä¸“ç”¨çš„ goroutine æ¶ˆè´¹æ‰§è¡Œè¿™ä¸ª channel ä¸­çš„äº‹ä»¶ã€‚&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
event -&amp;gt;
        |
event -&amp;gt; buffer-channel -&amp;gt; goroutine
        |
event -&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;çŠ¶æ€æ— ä¾èµ–çš„å¹¶å‘è®¾è®¡&quot;&gt;çŠ¶æ€æ— ä¾èµ–çš„å¹¶å‘è®¾è®¡&lt;/h3&gt;

&lt;p&gt;äº‹ä»¶ä¹‹é—´å®Œå…¨æ²¡æœ‰çŠ¶æ€ä¾èµ–ï¼Œå› æ­¤å¯ä»¥ç®€å•æ‰©å±• goroutine è¿›è¡ŒåŠ å¿«äº‹ä»¶æ‰§è¡Œé€Ÿåº¦ã€‚&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
event -&amp;gt;                 -&amp;gt;goroutine
        |               |
event -&amp;gt; buffer-channel -&amp;gt; goroutine
        |               |
event -&amp;gt;                 -&amp;gt;goroutine

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;çŠ¶æ€å­˜åœ¨ä¾èµ–çš„å¹¶å‘è®¾è®¡-gochan&quot;&gt;çŠ¶æ€å­˜åœ¨ä¾èµ–çš„å¹¶å‘è®¾è®¡ (gochan)&lt;/h3&gt;

&lt;p&gt;å¼•å…¥ä¸€å±‚åˆ†å‘å™¨ï¼ˆdispatcherï¼‰ï¼Œæ ¹æ®æŸä¸ªç‰¹æ€§ï¼ˆæ¯”å¦‚ uuidï¼‰æŠŠäº‹ä»¶åˆ†å‘åˆ°ç›¸åº”çš„é˜Ÿåˆ—ï¼ˆbuffer-channelï¼‰ä¸­ã€‚&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
event -&amp;gt;              -&amp;gt; buffer-channel -&amp;gt; goroutine
        |            |
event &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; dispatcher -&amp;gt; buffer-channel -&amp;gt; goroutine
        |            |
event -&amp;gt;              -&amp;gt; buffer-channel -&amp;gt; goroutine

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ä½¿ç”¨ç¤ºä¾‹&quot;&gt;ä½¿ç”¨ç¤ºä¾‹&lt;/h2&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;errors&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;math/rand&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;time&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;github.com/chalvern/gochan&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Manager&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gochanNum&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bufferNum&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dispatcher&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gochan&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Dispatcher&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Manager&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Dispatch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objID&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gochan&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TaskFunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objID&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objID&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Intn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gochanNum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dispatcher&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Dispatch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Manager&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dispatcher&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gochanNum&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bufferNum&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;manager&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Manager&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gochanNum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gochanNum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bufferNum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bufferNum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dispatcher&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gochan&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NewDispatcher&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gochanNum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bufferNum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objID&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;task1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;New&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;task 1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;manager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Dispatch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;task1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Second&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/chalvern/gochan&quot;&gt;GitHub - chalvern/gochan: pool of goroutine with buffer channel, for concurrent execution but events of individual object running sequentially&lt;/a&gt; gochan ä»£ç åº“&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 02 Jun 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/06/02/gochan-of-chalvern.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/06/02/gochan-of-chalvern.html</guid>
        
        <category>golang</category>
        
        <category>å®ç”¨</category>
        
        <category>åŸºç¡€</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>Golang é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; id=&quot;markdown-toc-å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#golang-é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡&quot; id=&quot;markdown-toc-golang-é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡&quot;&gt;Golang é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#é—­åŒ…åŒ¿åå‡½æ•°&quot; id=&quot;markdown-toc-é—­åŒ…åŒ¿åå‡½æ•°&quot;&gt;é—­åŒ…ï¼ˆåŒ¿åå‡½æ•°ï¼‰&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#å…ˆçœ‹ä¸€æ®µä»£ç &quot; id=&quot;markdown-toc-å…ˆçœ‹ä¸€æ®µä»£ç &quot;&gt;å…ˆçœ‹ä¸€æ®µä»£ç &lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#golang-é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡-1&quot; id=&quot;markdown-toc-golang-é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡-1&quot;&gt;Golang é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#æ±‡ç¼–ä»£ç çš„åˆ†æ&quot; id=&quot;markdown-toc-æ±‡ç¼–ä»£ç çš„åˆ†æ&quot;&gt;æ±‡ç¼–ä»£ç çš„åˆ†æ&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#æ±‡ç¼–ä»£ç çš„ç”Ÿæˆ&quot; id=&quot;markdown-toc-æ±‡ç¼–ä»£ç çš„ç”Ÿæˆ&quot;&gt;æ±‡ç¼–ä»£ç çš„ç”Ÿæˆ&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#mainmain-å‡½æ•°çš„æ±‡ç¼–ä»£ç &quot; id=&quot;markdown-toc-mainmain-å‡½æ•°çš„æ±‡ç¼–ä»£ç &quot;&gt;main.main å‡½æ•°çš„æ±‡ç¼–ä»£ç &lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#myfunc-åŒ¿åå‡½æ•°çš„æ±‡ç¼–ä»£ç &quot; id=&quot;markdown-toc-myfunc-åŒ¿åå‡½æ•°çš„æ±‡ç¼–ä»£ç &quot;&gt;myfunc ï¼ˆåŒ¿åå‡½æ•°ï¼‰çš„æ±‡ç¼–ä»£ç &lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å°ç»“&quot; id=&quot;markdown-toc-å°ç»“&quot;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†åœ¨ä¸åŒçš„çº¿ç¨‹ä¹‹é—´è½¬ç§»ä»»åŠ¡ï¼Œæœ€è¿‘é¡¹ç›®ä»£ç ä¸­å¤§é‡åœ°ä½¿ç”¨äº†é—­åŒ…ï¼šåœ¨ä¸€ä¸ª goroutineï¼ˆåç¨‹ï¼‰ä¸­æŠŠä¸€æ®µé€»è¾‘å°è£…æˆä¸ºåŒ¿åå‡½æ•°ï¼Œç„¶åä¼ å…¥åˆ°å¦ä¸€ä¸ªçº¿ç¨‹çš„ channelï¼ˆé€šé“ï¼‰å˜é‡å»æ’é˜Ÿè¿è¡Œã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä¸šåŠ¡é€»è¾‘çš„æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°äº†ä¸€ä¸ªæ€ªå¼‚çš„ç‚¹ï¼ŒæŸ¥è¯åå‘ç°åŸæ¥æ˜¯é—­åŒ…çš„ä½¿ç”¨è®¤çŸ¥å­˜åœ¨é—®é¢˜ï¼Œè¿™é‡Œä½œä¸ºä¸€ä¸ªçŸ¥è¯†ç‚¹æ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;h2 id=&quot;golang-é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡&quot;&gt;Golang é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡&lt;/h2&gt;
&lt;h3 id=&quot;é—­åŒ…åŒ¿åå‡½æ•°&quot;&gt;é—­åŒ…ï¼ˆåŒ¿åå‡½æ•°ï¼‰&lt;/h3&gt;
&lt;p&gt;æ•™ç§‘ä¹¦å¼çš„å®šä¹‰å¯ä»¥è¿™ä¹ˆç†è§£é—­åŒ…ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;é—­åŒ…æ˜¯å¯ä»¥åŒ…å«è‡ªç”±ï¼ˆæœªç»‘å®šåˆ°ç‰¹å®šå¯¹è±¡ï¼‰å˜é‡çš„ä»£ç å—ï¼Œè¿™äº›å˜é‡ä¸åœ¨è¿™ä¸ªä»£ç å—å†…æˆ–è€…ä»»ä½•å…¨å±€ä¸Šä¸‹æ–‡ä¸­å®šä¹‰ï¼Œè€Œæ˜¯åœ¨å®šä¹‰ä»£ç å—çš„ç¯å¢ƒä¸­å®šä¹‰ã€‚è¦æ‰§è¡Œçš„ä»£ç å—ï¼ˆç”±äºè‡ªç”±å˜é‡åŒ…å«åœ¨ä»£ç å—ä¸­ï¼Œæ‰€ä»¥è¿™äº›è‡ªç”±å˜é‡ä»¥åŠå®ƒä»¬å¼•ç”¨çš„å¯¹è±¡æ²¡æœ‰è¢«é‡Šæ”¾ï¼‰ä¸ºè‡ªç”±å˜é‡æä¾›ç»‘å®šçš„è®¡ç®—ç¯å¢ƒï¼ˆä½œç”¨åŸŸï¼‰ã€‚ï¼ˆæ‘˜è‡ªã€ŠGoè¯­è¨€ç¼–ç¨‹ã€‹ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å¦‚æœå¤§å®¶å¯¹é—­åŒ…çš„ç»†èŠ‚æ„Ÿå…´è¶£å¸Œæœ›æ·±å…¥ç†è§£å…¶è®¾è®¡ï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥é˜…èµ„æ–™ï¼›æœ¬æ–‡ä¸­æåˆ°çš„é—­åŒ…å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºâ€œåŒ¿åå‡½æ•°â€ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å…ˆçœ‹ä¸€æ®µä»£ç &quot;&gt;å…ˆçœ‹ä¸€æ®µä»£ç &lt;/h3&gt;
&lt;p&gt;ä¸‹é¢çš„ä»£ç ä¸­å®šä¹‰äº†ä¸€ä¸ªåŒ¿åå‡½æ•°å¹¶èµ‹å€¼ç»™ &lt;code class=&quot;highlighter-rouge&quot;&gt;myfunc&lt;/code&gt; å˜é‡ï¼ŒåŒæ—¶åœ¨ä»£ç çš„åé¢è¿ç»­è°ƒç”¨äº†ä¸¤æ¬¡ &lt;code class=&quot;highlighter-rouge&quot;&gt;myfunc&lt;/code&gt; å‡½æ•°ã€‚å¤§å®¶å¯ä»¥å…ˆè€ƒè™‘ä¸€ä¸‹ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Œç„¶åå†æŸ¥çœ‹æ–‡ç« åé¢çš„å†…å®¹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// cat main.go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a2&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myfunc&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a2&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;a1: %d, a2:%d, sum: %d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myfunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a2&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myfunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°ä¸Šé¢ä»£ç çš„è¾“å‡ºä¸ºï¼š&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# go run main.go &lt;/span&gt;
a1: 1, a2:2, &lt;span class=&quot;nb&quot;&gt;sum&lt;/span&gt;: 3
a1: 11, a2:22, &lt;span class=&quot;nb&quot;&gt;sum&lt;/span&gt;: 33
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;golang-é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡-1&quot;&gt;Golang é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ myfunc æŒ‡å‘äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ˆé—­åŒ…ï¼‰ï¼Œåœ¨è¿™ä¸ªåŒ¿åå‡½æ•°ä¸­ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;a1&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;a2&lt;/code&gt; å‡æ˜¯å¤–éƒ¨å˜é‡ã€‚&lt;/p&gt;

&lt;p&gt;ä»ä¸Šé¢ä»£ç çš„è¿è¡Œè¾“å‡ºå¯ä»¥çŸ¥é“ï¼Œ&lt;strong&gt;é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡å¹¶ä¸æ˜¯è¢«â€œé”æ­»â€çš„ï¼Œè€Œæ˜¯ä¼šéšç€å¤–éƒ¨å˜é‡çš„å˜åŒ–è€Œå˜åŒ–&lt;/strong&gt;ã€‚è¿™ä¸ªç‰¹æ€§åº”è¯¥ä¸å‡½æ•°å‚æ•°çš„ä¼ å€¼ç‰¹æ€§è¿›è¡ŒåŒºåˆ†ï¼šâ‘  Golang ä¸­å‡½æ•°çš„å‚æ•°ä»¥åŠè¿”å›éƒ½æ˜¯æ•°å€¼çš„ä¼ é€’ï¼Œè€Œéå¼•ç”¨çš„ä¼ é€’ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿å…¥å‚æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œåœ¨å‡½æ•°è¿è¡Œçš„æ—¶å€™èµ·ä½œç”¨çš„ä¹Ÿæ˜¯ä¸€ä¸ªè¢«æ‹·è´å‡ºæ¥çš„æŒ‡é’ˆã€‚â‘¡ é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡ä¼šè·Ÿéšå¤–éƒ¨å˜é‡çš„å˜åŒ–ï¼Œå°±&lt;strong&gt;å¥½åƒ&lt;/strong&gt;åœ¨é—­åŒ…å†…å¼•ç”¨çš„æ°¸è¿œæ˜¯å˜é‡çš„æŒ‡é’ˆï¼ˆå“ªæ€•å˜é‡æ˜¯ä¸€ä¸ªæ™®æ™®é€šé€šçš„æ•°å€¼ï¼‰ï¼›æ¯”å¦‚ä¸Šé¢ä»£ç ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;a1&lt;/code&gt; å’Œ  &lt;code class=&quot;highlighter-rouge&quot;&gt;a2&lt;/code&gt; å‡æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;int&lt;/code&gt; ç±»å‹çš„å€¼ï¼Œä½†åœ¨é—­åŒ…å†…çš„ä½¿ç”¨å°±å¥½åƒæ˜¯æŒ‡é’ˆã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ±‡ç¼–ä»£ç çš„åˆ†æ&quot;&gt;æ±‡ç¼–ä»£ç çš„åˆ†æ&lt;/h2&gt;
&lt;p&gt;å¦‚æœæƒ³è¦è¿›ä¸€æ­¥åˆ†æé—­åŒ…å†…å¤–éƒ¨å˜é‡çš„ä½œç”¨æ–¹å¼ï¼Œå¯ä»¥åœ¨æ±‡ç¼–å±‚é¢è¿›è¡Œè¿›ä¸€æ­¥çš„æ¢ç©¶ï¼Œç ”ç©¶å…¶æœ¬è´¨ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ±‡ç¼–ä»£ç çš„ç”Ÿæˆ&quot;&gt;æ±‡ç¼–ä»£ç çš„ç”Ÿæˆ&lt;/h3&gt;
&lt;p&gt;æŠŠä¸Šé¢çš„ä»£ç ä¿å­˜åˆ°æŸä¸ªç›®å½•ä¸­ï¼Œè¿è¡Œä¸‹é¢çš„æŒ‡ä»¤å¯ä»¥å¾—åˆ°ç›¸åº”çš„æ±‡ç¼–æ–‡ä»¶ï¼š&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# ä¸‹é¢çš„æŒ‡ä»¤æ ‡æ˜æŠŠ main.go ç”Ÿæˆ linux ä¸‹çš„ amd64 äºŒè¿›åˆ¶æ–‡ä»¶&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# å…¶ä¸­ -N æŒ‡å®šç¼–è¯‘å™¨ä¸è¦è¿›è¡Œä¼˜åŒ–ï¼Œ-l æŒ‡å®šç¼–è¯‘å™¨ä¸è¦å¯¹å‡½æ•°è¿›è¡Œå†…è”å¤„ç†&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# å…¶ä¸­ -o testl æŒ‡å®šè¾“å‡ºäºŒè¿›åˆ¶æ–‡ä»¶åˆ° testl ä¸­&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# -gcflags çš„å‚æ•°å¯ä»¥é€šè¿‡ go tool compile --help è·å–&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;CGO_ENABLED&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0 &lt;span class=&quot;nv&quot;&gt;GOOS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;linux &lt;span class=&quot;nv&quot;&gt;GOARCH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;amd64 go build &lt;span class=&quot;nt&quot;&gt;--gcflags&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;-N -l&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; testl main.go

&lt;span class=&quot;c&quot;&gt;# å¯ä»¥é€šè¿‡ go tool objdump --help æ¥æŸ¥çœ‹ objdump çš„ -s ç”¨æ³•&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# æ¯”å¦‚ go tool objdump -s &quot;^main.main$&quot; testl åªè¿”å› main.main å‡½æ•°çš„æ±‡ç¼–ä»£ç &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# ä¸‹é¢çš„æŒ‡ä»¤æ ‡æ˜æŠŠ ä¸Šä¸€æ­¥ç”Ÿæˆçš„ testl æå–æ±‡ç¼–ä»£ç åˆ° ojbl.S æ–‡ä»¶ä¸­&lt;/span&gt;
go tool objdump &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt; testl &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; objl.S
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;mainmain-å‡½æ•°çš„æ±‡ç¼–ä»£ç &quot;&gt;main.main å‡½æ•°çš„æ±‡ç¼–ä»£ç &lt;/h3&gt;
&lt;p&gt;å‡½æ•°ä½“å¯¹åº”çš„æ±‡ç¼–è¯­è¨€å¦‚ä¸‹ï¼Œå¤§å®¶å¯ä»¥çœ‹é‡Œé¢çš„æ³¨é‡Šè¿›è¡Œç†è§£ã€‚&lt;strong&gt;éœ€è¦é‡ç‚¹å…³æ³¨çš„ç‚¹&lt;/strong&gt;æ˜¯ï¼šåœ¨ myfunc å‡½æ•°å®šä¹‰çš„åœ°æ–¹ï¼Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;a1&lt;/code&gt; ä¸ &lt;code class=&quot;highlighter-rouge&quot;&gt;a2&lt;/code&gt; éƒ½æ˜¯åœ°å€ä¼ é€’ï¼ˆåœ°å€ä¼ é€’ï¼‰è€Œéæ•°å€¼ä¼ é€’ã€‚&lt;/p&gt;

&lt;p&gt;ä»ä¸‹é¢çš„æ±‡ç¼–ä»£ç è¿˜å¯ä»¥çœ‹å‡ºç¬¬äºŒæ¬¡è°ƒç”¨ myfunc å‡½æ•°ä¸ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ–¹å¼ä¸ä¸€æ ·ï¼Œä¸»è¦è€ƒè™‘æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;DX&lt;/code&gt; å¯„å­˜å™¨çš„çº¯ç²¹æ€§ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;myfunc&lt;/code&gt; æ—¶ &lt;code class=&quot;highlighter-rouge&quot;&gt;DX&lt;/code&gt; æ˜¯æ»¡è¶³éœ€æ±‚çš„ï¼Œç¬¬äºŒæ¬¡å°±éœ€è¦ä¸“é—¨ç½®ä½äº†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-as highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;TEXT&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;golang&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;jingwei&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;go&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488300&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;64488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b0c25f8ffffff&lt;/span&gt;	&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xfffffff8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CX&lt;/span&gt;	
  &lt;span class=&quot;mh&quot;&gt;0x488309&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;483&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b6110&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;CMPQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;CX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;	
  &lt;span class=&quot;mh&quot;&gt;0x48830d&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;f8690000000&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;JBE&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x4883a3&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸Šé¢ä¸‰æ˜¯å¯¹æ ˆè¿›è¡Œæ‰©å®¹åˆ¤å®šï¼Œå¦‚æœæ ˆä¸å¤Ÿç”¨äº†ï¼Œä¼šè¿›è¡Œæ‰©å®¹&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488313&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;4883&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ec40&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;SUBQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$0x40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;é¢„ç•™å‡º&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x40&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„æ ˆç©ºé—´ä¾›&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;å‡½æ•°ä½¿ç”¨&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488317&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;48896&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c2438&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;BP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x38&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;	
  &lt;span class=&quot;mh&quot;&gt;0x48831c&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;d6c2438&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;LEAQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x38&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;BP&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸Šé¢ä¸¤å¥å¾…æ¢ç©¶ï¼Œåº”è¯¥æ˜¯ä¸ºäº†ä¿å­˜æŸä¸ªåœºæ™¯ä¸ºæœªæ¥æ¢å¤æŸä¸ªçŠ¶æ€åšå‡†å¤‡&lt;/span&gt;
	&lt;span class=&quot;nl&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488321&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c744240801000000&lt;/span&gt;	&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$0x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼Œå³&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a1&lt;/span&gt;
	&lt;span class=&quot;nl&quot;&gt;a2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48832a&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c7042402000000&lt;/span&gt;	&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$0x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼Œå³&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a2&lt;/span&gt;
	&lt;span class=&quot;nl&quot;&gt;myfunc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488332&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c744242000000000&lt;/span&gt;	&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$0x0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;		
  &lt;span class=&quot;mh&quot;&gt;0x48833b&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;f57c0&lt;/span&gt;			&lt;span class=&quot;nx&quot;&gt;XORPS&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;X0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;X0&lt;/span&gt;			
  &lt;span class=&quot;mh&quot;&gt;0x48833e&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;f11442428&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVUPS&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;X0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x28&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;		
  &lt;span class=&quot;mh&quot;&gt;0x488343&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;d542420&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;LEAQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€åŠ è½½åˆ°&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488348&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;4889542418&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„å€¼ï¼Œå³&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„å€¼ï¼Œèµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­ä¿å­˜çš„æ˜¯&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48834d&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;8402&lt;/span&gt;			&lt;span class=&quot;nx&quot;&gt;TESTB&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;			
  &lt;span class=&quot;mh&quot;&gt;0x48834f&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;d05ca000000&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;LEAQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼ˆæˆ‘ä»¬å®šä¹‰çš„é—­åŒ…å‡½æ•°ä½“ï¼‰&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488356&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;4889442420&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„å€¼ï¼Œå³&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;func1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼Œèµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­ï¼›&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­ä¿å­˜çš„æ˜¯&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;func1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„è°ƒç”¨åœ°å€&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48835b&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;8402&lt;/span&gt;			&lt;span class=&quot;nx&quot;&gt;TESTB&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;			
  &lt;span class=&quot;mh&quot;&gt;0x48835d&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;d442408&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;LEAQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼Œå³&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼ˆæŒ‡é’ˆï¼‰èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488362&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;4889442428&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x28&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x28&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­ï¼›&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x28&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­ä¿å­˜çš„æ˜¯&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488367&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;8402&lt;/span&gt;			&lt;span class=&quot;nx&quot;&gt;TESTB&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;			
  &lt;span class=&quot;mh&quot;&gt;0x488369&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;d0424&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;LEAQ&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;			&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼Œå³&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a2&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼ˆæŒ‡é’ˆï¼‰èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48836d&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;4889442430&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a2&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­ï¼›&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­ä¿å­˜çš„æ˜¯&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a2&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488372&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;4889542410&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„å€¼ï¼Œå³&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼Œèµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­ï¼›&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­ä¿å­˜çš„æ˜¯&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;myfunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488377&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b442420&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;ä¸­çš„å†…å®¹ï¼Œå³&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;func1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€åŠ è½½åˆ°&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;å¯„å­˜å™¨&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48837c&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;ffd0&lt;/span&gt;			&lt;span class=&quot;nx&quot;&gt;CALL&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;			&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;è°ƒç”¨&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;func1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;å‡½æ•°&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48837e&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c74424080b000000&lt;/span&gt;	&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$0xb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼Œå³æ›´æ–°&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a1&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;a2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488387&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c7042416000000&lt;/span&gt;	&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$0x16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼Œå³æ›´æ–°&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a2&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;myfunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48838f&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b542410&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;è¿™é‡ŒæŠŠ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­çš„å€¼ï¼Œå³&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€åŠ è½½åˆ°&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;å¯„å­˜å™¨&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488394&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b02&lt;/span&gt;			&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­çš„å€¼ï¼Œå³&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;func1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€åŠ è½½åˆ°&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;å¯„å­˜å™¨&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488397&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;ffd0&lt;/span&gt;			&lt;span class=&quot;nx&quot;&gt;CALL&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;			&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;è°ƒç”¨&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;å‡½æ•°ã€‚&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488399&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b6c2438&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x38&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;BP&lt;/span&gt;	
  &lt;span class=&quot;mh&quot;&gt;0x48839e&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;4883&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c440&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;ADDQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$0x40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;		
  &lt;span class=&quot;mh&quot;&gt;0x4883a2&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;c3&lt;/span&gt;			&lt;span class=&quot;nx&quot;&gt;RET&lt;/span&gt;			
&lt;span class=&quot;nx&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x4883a3&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;e83869fcff&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;CALL&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;runtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;morestack_noctxt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ç”³è¯·æ›´å¤šçš„æ ˆç©ºé—´çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;goroutine&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠ¢å çš„æ£€æŸ¥ç‚¹&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x4883a8&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;e953ffffff&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;JMP&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;			
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;myfunc-åŒ¿åå‡½æ•°çš„æ±‡ç¼–ä»£ç &quot;&gt;myfunc ï¼ˆåŒ¿åå‡½æ•°ï¼‰çš„æ±‡ç¼–ä»£ç &lt;/h3&gt;

&lt;p&gt;ä»ä¸‹é¢çš„æ±‡ç¼–ä»£ç å¯ä»¥çœ‹åˆ°ï¼ŒåŒ¿åå‡½æ•°åœ¨æ¯æ¬¡è°ƒç”¨æ—¶ï¼Œéƒ½ä¼š â‘  é¦–å…ˆæ ¹æ®é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡çš„åœ°å€ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;a1&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;a2&lt;/code&gt; çš„åœ°å€ï¼‰è·å–å¾—åˆ°å¤–éƒ¨å˜é‡çš„å€¼ï¼Œç„¶åæ‰ â‘¡ åˆ©ç”¨è·å–å¾—åˆ°çš„å€¼è¿›è¡Œé—­åŒ…å†…é€»è¾‘çš„è¿ç®—ã€‚&lt;/p&gt;

&lt;div class=&quot;language-as highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;TEXT&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;golang&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;jingwei&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;go&lt;/span&gt;
	&lt;span class=&quot;nl&quot;&gt;myfunc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488420&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;64488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b0c25f8ffffff&lt;/span&gt;	&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;FS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xfffffff8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CX&lt;/span&gt;	
  &lt;span class=&quot;mh&quot;&gt;0x488429&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;d4424a8&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;LEAQ&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;-0&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;x58&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;	
  &lt;span class=&quot;mh&quot;&gt;0x48842e&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;483&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b4110&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;CMPQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;CX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;	
  &lt;span class=&quot;mh&quot;&gt;0x488432&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;f86ab010000&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;JBE&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x4885e3&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸Šé¢ä¸‰æ˜¯å¯¹æ ˆè¿›è¡Œæ‰©å®¹åˆ¤å®šï¼Œå¦‚æœæ ˆä¸å¤Ÿç”¨äº†ï¼Œä¼šè¿›è¡Œæ‰©å®¹&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488438&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;4881&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ecd8000000&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;SUBQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$0xd8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;		&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;é¢„ç•™å‡º&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xd8&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„æ ˆç©ºé—´ä¾›&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;myfunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;å‡½æ•°ä½¿ç”¨&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48843f&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;4889&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ac24d0000000&lt;/span&gt;	&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;BP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xd0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;	
  &lt;span class=&quot;mh&quot;&gt;0x488447&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dac24d0000000&lt;/span&gt;	&lt;span class=&quot;nx&quot;&gt;LEAQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xd0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;BP&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸Šé¢ä¸¤å¥å¾…æ¢ç©¶ï¼Œåº”è¯¥æ˜¯ä¸ºäº†ä¿å­˜æŸä¸ªåœºæ™¯ä¸ºæ¢å¤æŸä¸ªçŠ¶æ€åšå‡†å¤‡&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸‹é¢é‡ç‚¹å…³æ³¨&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„å€¼ï¼Œæ˜¯&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mian&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼ˆåŒºåˆ«äºæœ¬å‡½æ•°çš„&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;åœ°å€ï¼Œæœ¬å‡½æ•°çš„&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;åœ°å€å·²ç»ç”±&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SUBQ&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æ”¹å˜è¿‡äº†ï¼‰&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48844f&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b4208&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼Œå…¶å®å°±æ˜¯&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­çš„&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x28&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼Œå³&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼ŒæŠŠè¿™ä¸ªåœ°å€é‡Œçš„å€¼èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488453&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;4889842480000000&lt;/span&gt;	&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„å€¼èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48845b&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b4210&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;DX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼Œå…¶å®å°±æ˜¯&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ä¸­çš„&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;ï¼Œå³&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a2&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„åœ°å€ï¼ŒæŠŠè¿™ä¸ªåœ°å€é‡Œçš„å€¼èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48845f&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;4889442478&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x78&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æŠŠ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a2&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;çš„å€¼èµ‹å€¼åˆ°&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;nl&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a2&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x488464&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b8c2480000000&lt;/span&gt;	&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CX&lt;/span&gt;	&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;æ¥ä¸‹æ¥å°±æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„åŠ æ³•è¿ç®—äº†&lt;/span&gt;
  &lt;span class=&quot;mh&quot;&gt;0x48846c&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;488&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;b09&lt;/span&gt;			&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;CX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CX&lt;/span&gt;		
  &lt;span class=&quot;mh&quot;&gt;0x48846f&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;480308&lt;/span&gt;			&lt;span class=&quot;nx&quot;&gt;ADDQ&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;AX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CX&lt;/span&gt;		
  &lt;span class=&quot;mh&quot;&gt;0x488472&lt;/span&gt;		&lt;span class=&quot;mi&quot;&gt;48894&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c2440&lt;/span&gt;		&lt;span class=&quot;nx&quot;&gt;MOVQ&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;	
	&lt;span class=&quot;nx&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a1: %d, a2:%d, sum: %d\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;å†å¾€ä¸‹å°±æ˜¯å¤æ‚çš„&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Printf&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;å‡½æ•°äº†ï¼Œä»£ç å¾ˆé•¿å¾ˆè‡­ï¼Œå°±ä¸è´´äº†&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡å°±é—­åŒ…ä¸­å¤–éƒ¨å˜é‡çš„ä½¿ç”¨è¿›è¡Œå±•å¼€ï¼Œé¦–å…ˆ â‘  ä»‹ç»äº†é—­åŒ…å†…çš„å¤–éƒ¨å˜é‡ä¼šéšç€å¤–éƒ¨å˜é‡çš„å˜åŒ–è€Œå˜åŒ–ï¼ˆç±»æ¯”äºæŒ‡é’ˆçš„ä½¿ç”¨ï¼‰ï¼Œç„¶å â‘¡ åœ¨æ±‡ç¼–è¯­å¥å±‚é¢è¿›è¡Œäº†è¿›ä¸€æ­¥çš„åˆ†æï¼Œé“æ˜äº†é—­åŒ…ä¸­å¤–éƒ¨å˜é‡ä½¿ç”¨çš„æœ¬è´¨ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/hzhuxin/p/9199332.html&quot;&gt;Goè¯­è¨€ä¸­çš„é—­åŒ…&lt;/a&gt; ä»‹ç»äº† Golang ä¸­çš„é—­åŒ…&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://9p.io/sys/doc/asm.html&quot;&gt;A Manual for the Plan 9 assembler&lt;/a&gt;  ç¥å¥‡çš„æ±‡ç¼–å™¨ï¼Œè¿˜æ²¡æ¥å¾—åŠç ”ç©¶ï¼Œæ”¾è¿™é‡Œä½œä¸ºåé¢çš„å‚è€ƒ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://9p.io/sys/doc/asm.pdf&quot;&gt;Plan9 çš„ asm.PDF&lt;/a&gt;  PDF æ–‡æ¡£ï¼Œå¯ä»¥ä½œä¸ºç†è§£ Golang æ±‡ç¼–è¯­å¥çš„å‚è€ƒ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://lrita.github.io/2017/12/12/golang-asm/&quot;&gt;golang æ±‡ç¼– â€” æºä»£ç &lt;/a&gt; å¾ˆä¸é”™çš„è®²æ±‡ç¼–çš„å†…å®¹&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sat, 01 Jun 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/06/01/golang-outer-variable-in-clousure.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/06/01/golang-outer-variable-in-clousure.html</guid>
        
        <category>golang</category>
        
        <category>å®ç”¨</category>
        
        <category>åŸºç¡€</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>Golang å¹¶å‘é—®é¢˜ï¼ˆäº”ï¼‰goroutine çš„è°ƒåº¦åŠæŠ¢å </title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; id=&quot;markdown-toc-å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å…ˆçœ‹ä¸¤æ®µä»£ç &quot; id=&quot;markdown-toc-å…ˆçœ‹ä¸¤æ®µä»£ç &quot;&gt;å…ˆçœ‹ä¸¤æ®µä»£ç &lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ç¬¬ä¸€æ®µä»£ç &quot; id=&quot;markdown-toc-ç¬¬ä¸€æ®µä»£ç &quot;&gt;ç¬¬ä¸€æ®µä»£ç &lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ç¬¬äºŒæ®µä»£ç &quot; id=&quot;markdown-toc-ç¬¬äºŒæ®µä»£ç &quot;&gt;ç¬¬äºŒæ®µä»£ç &lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#åç¨‹-goroutine-çš„æŠ¢å &quot; id=&quot;markdown-toc-åç¨‹-goroutine-çš„æŠ¢å &quot;&gt;åç¨‹ goroutine çš„æŠ¢å &lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#gpm-æ¨¡å‹&quot; id=&quot;markdown-toc-gpm-æ¨¡å‹&quot;&gt;G/P/M æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#goroutine-å‘ç”Ÿè°ƒåº¦çš„æ—¶æœº&quot; id=&quot;markdown-toc-goroutine-å‘ç”Ÿè°ƒåº¦çš„æ—¶æœº&quot;&gt;goroutine å‘ç”Ÿè°ƒåº¦çš„æ—¶æœº&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#goroutine-çš„æŠ¢å &quot; id=&quot;markdown-toc-goroutine-çš„æŠ¢å &quot;&gt;goroutine çš„æŠ¢å &lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å°ç»“&quot; id=&quot;markdown-toc-å°ç»“&quot;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;è¿‡å» Web å¼€å‘çš„å·¥ä½œæ¯”è¾ƒå°‘æ¶‰åŠåˆ°å¹¶å‘çš„é—®é¢˜ï¼Œæ¯ä¸ªç”¨æˆ·è¯·æ±‚åœ¨ç‹¬ç«‹çš„çº¿ç¨‹é‡Œé¢è¿›è¡Œï¼Œå¶å°”æ¶‰åŠåˆ°å¼‚æ­¥ä»»åŠ¡ä½†æ˜¯çº¿ç¨‹é—´æ•°æ®åŒæ­¥æ¨¡å‹éå¸¸ç®€å•ï¼Œå› æ­¤å¹¶æœªæ·±å…¥æ¢ç©¶è¿‡å¹¶å‘è¿™ä¸€å—ã€‚æœ€è¿‘åœ¨å†™æ¸¸æˆç›¸å…³çš„æœåŠ¡ç«¯ä»£ç æ—¶å‘ç°æ•°æ®çš„å¹¶å‘åŒæ­¥åœºæ™¯éå¸¸å¤šï¼Œå› æ­¤èŠ±äº†ä¸€ç‚¹æ—¶é—´æ¥æ¢ç´¢å’Œæ€»ç»“ã€‚è¿™æ˜¯ä¸€ä¸ªç³»åˆ—æ–‡ç« ï¼Œæœ¬æ–‡ä¸ºç¬¬äº”ç¯‡ã€‚&lt;/p&gt;

&lt;p&gt;å°±åƒå‰é¢å‡ ç¯‡æ–‡ç« æ‰€æè¿°çš„ï¼Œå¼€å‘è€…åœ¨æ—¥å¸¸å¼€å‘ä¸­å¯¹å¹¶å‘çš„å…³æ³¨ç‚¹ä¸»è¦æ˜¯é”ã€ç®¡é“ï¼ˆchannelï¼‰ï¼Œæ¯”è¾ƒå°‘æ¶‰åŠåˆ°åç¨‹ï¼ˆgoroutineï¼‰ çš„è°ƒåº¦ã€‚ä¸è¿‡äº†è§£åç¨‹çš„è°ƒåº¦æœºåˆ¶èƒ½å¤Ÿè®©å¼€å‘è€…æ›´å¥½åœ°è®¤è¯†å¹¶å‘çš„æœ¬è´¨ï¼Œä»è€Œåœ¨æ—¥å¸¸ç¼–ç è¿‡ç¨‹ä¸­åšå‡ºæ›´å¥½çš„å¹¶å‘ä¿è¯æªæ–½ã€‚æœ¬æ–‡ç®€å•ä»‹ç» Golang ä¸­åç¨‹ï¼ˆgoroutineï¼‰çš„è°ƒåº¦åŠå…¶æŠ¢å ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å…ˆçœ‹ä¸¤æ®µä»£ç &quot;&gt;å…ˆçœ‹ä¸¤æ®µä»£ç &lt;/h2&gt;
&lt;h3 id=&quot;ç¬¬ä¸€æ®µä»£ç &quot;&gt;ç¬¬ä¸€æ®µä»£ç &lt;/h3&gt;
&lt;p&gt;ä¸‹é¢çš„ä»£ç æ˜¯ã€Š&lt;a href=&quot;/2019/05/11/golang-concurrency-02.html&quot;&gt;æµ…è°ˆ Golang ä¸­æ•°æ®çš„å¹¶å‘åŒæ­¥é—®é¢˜ï¼ˆäºŒï¼‰&lt;/a&gt;ã€‹ä¸­çš„ä¸€ä¸ªç¤ºä¾‹ demoï¼Œä¸ºäº†è¯´æ˜é—®é¢˜å¢åŠ äº†å¯¹å•æ ¸çš„é™åˆ¶ã€‚è¿è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;go run -race main.go&lt;/code&gt; å¯ä»¥çœ‹åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;Money: 1100&lt;/code&gt; çš„è¾“å‡ºã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹é¢çš„ä»£ç ä¸­åŒ…å«ä¸¤æ¡ &lt;code class=&quot;highlighter-rouge&quot;&gt;atomic.AddInt64&lt;/code&gt; è¯­å¥ï¼Œåˆ†åˆ«åœ¨ä¸¤ä¸ªåç¨‹ä¸­è¿è¡Œã€‚å¦‚æœåœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Printf&lt;/code&gt; è¯­å¥æ‰§è¡Œæ—¶å­åç¨‹å·²ç»æ‰§è¡Œï¼Œè¾“å‡ºç»“æœæ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;Money: 2100&lt;/code&gt;ï¼›å½“ç„¶ï¼Œä¸Šé¢çš„ä»£ç æå¤§æ¦‚ç‡ä¼šè¾“å‡º &lt;code class=&quot;highlighter-rouge&quot;&gt;Money: 1100&lt;/code&gt; ï¼Œå³åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Printf&lt;/code&gt; è¯­å¥æ‰§è¡Œæ—¶å­åç¨‹å°šæœªæ‰§è¡Œã€‚&lt;strong&gt;é‚£ä¹ˆï¼Œ Golang è°ƒåº¦å™¨ä½•æ—¶æ‰ä¼šè°ƒåº¦å¹¶è¿è¡Œå­åç¨‹å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// cat main.go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;runtime&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sync/atomic&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Money&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int64&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;runtime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GOMAXPROCS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Money&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;atomic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AddInt64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Money&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;atomic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AddInt64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Money&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Money: %d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;atomic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LoadInt64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Money&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ç¬¬äºŒæ®µä»£ç &quot;&gt;ç¬¬äºŒæ®µä»£ç &lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æ„é€ ä¸€æ®µä¸ä¸Šä¸€å°èŠ‚ç»“æ„ç±»ä¼¼çš„ä»£ç ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºã€‚é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;go run main.go&lt;/code&gt; è¿è¡Œä¸‹é¢çš„ä»£ç å¯ä»¥çœ‹åˆ°è¾“å‡ºç»“æœä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;panic: hello goroutine&lt;/code&gt; ï¼Œå´æ‰¾ä¸åˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;sum: xxxxxx&lt;/code&gt;ï¼ˆå¦‚æœçœ‹åˆ°çš„ç»“æœä¸ä¸€è‡´ï¼Œå¯ä»¥è€ƒè™‘å¢åŠ  &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt; å¾ªç¯çš„ç»ˆæ­¢åˆ¤å®šæ¡ä»¶ï¼‰ã€‚&lt;strong&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸‹é¢çš„ä»£ç çš„å­åç¨‹åœ¨ä»£ç é€€å‡ºå‰è¢«æˆåŠŸè°ƒåº¦ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// cat main.go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;runtime&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;time&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;printTime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Index: %d, Second: %d, NanoSecond: %d &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Second&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Nanosecond&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;runtime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GOMAXPROCS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;printTime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;panic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hello goroutine&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;printTime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;666666666&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sum: %d&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;åç¨‹-goroutine-çš„æŠ¢å &quot;&gt;åç¨‹ goroutine çš„æŠ¢å &lt;/h2&gt;
&lt;p&gt;åœ¨ Golang ä¸­å¯ä»¥éå¸¸æ–¹ä¾¿åœ°åˆ›å»ºåç¨‹ï¼ˆgoroutineï¼‰ï¼Œåœ¨å¯ç”¨æ ¸å¿ƒä¸€å®šçš„æ¡ä»¶ä¸‹ï¼Œåç¨‹è¯¥å¦‚ä½•æœ‰æ•ˆåœ°åˆ©ç”¨ CPU èµ„æºå‘¢ï¼Ÿåœ¨ã€Š&lt;a href=&quot;/2019/02/13/linux-process-thread-schedule-2.html&quot;&gt;Linuxç³»ç»Ÿè°ƒåº¦åŸç†æµ…æï¼ˆäºŒï¼‰&lt;/a&gt;ã€‹ä¸­ç®€å•æè¿°è¿‡ Linux å†…æ ¸çš„è°ƒåº¦æœºåˆ¶ä»¥åŠ goroutine çš„è°ƒåº¦æœºåˆ¶ï¼šå…¶ä¸­ Linux å†…æ ¸é€šè¿‡æ—¶é—´ç‰‡çš„æ–¹å¼ç»™ä¸åŒçš„ç³»ç»Ÿçº¿ç¨‹åˆ†é… CPU èµ„æºï¼ŒGolang åˆ™å¼•å…¥äº† G/P/M æ¨¡å‹æ¥å®ç°è°ƒåº¦ï¼Œé‚£ä¹ˆ Golang çš„è¿è¡Œæ—¶ï¼ˆruntimeï¼‰å¦‚ä½•å®ç°å¯¹ goroutine çš„è°ƒåº¦ä»è€Œåˆç†åˆ†é… CPU èµ„æºå‘¢ï¼Ÿ&lt;/p&gt;

&lt;h3 id=&quot;gpm-æ¨¡å‹&quot;&gt;G/P/M æ¨¡å‹&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/pic/golang-routine-scheduler.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆå›¾ç‰‡æ‘˜è‡ªã€Š&lt;a href=&quot;https://tonybai.com/2017/06/23/an-intro-about-goroutine-scheduler/&quot;&gt;ä¹Ÿè°ˆgoroutineè°ƒåº¦å™¨ - Tony Bai&lt;/a&gt;ã€‹ï¼‰&lt;/p&gt;

&lt;p&gt;P æ˜¯ä¸€ä¸ªâ€œé€»è¾‘ Proccessorâ€ï¼Œæ¯ä¸ª G è¦æƒ³çœŸæ­£è¿è¡Œèµ·æ¥ï¼Œé¦–å…ˆéœ€è¦è¢«åˆ†é…ä¸€ä¸ª Pï¼ˆè¿›å…¥åˆ° P çš„ local runq ä¸­ï¼Œè¿™é‡Œæš‚å¿½ç•¥ global runq é‚£ä¸ªç¯èŠ‚ï¼‰ã€‚å¯¹äº G æ¥è¯´ï¼ŒP å°±æ˜¯è¿è¡Œå®ƒçš„ â€œCPUâ€ï¼Œå¯ä»¥è¯´ï¼šG çš„çœ¼é‡Œåªæœ‰ Pã€‚ä½†ä» Go scheduler è§†è§’æ¥çœ‹ï¼ŒçœŸæ­£çš„ â€œCPUâ€ æ˜¯ Mï¼Œåªæœ‰å°† P å’Œ M ç»‘å®šæ‰èƒ½è®© P çš„ runq ä¸­ G å¾—ä»¥çœŸå®è¿è¡Œèµ·æ¥ã€‚è¿™æ ·çš„ P ä¸ M çš„å…³ç³»ï¼Œå°±å¥½æ¯” Linux æ“ä½œç³»ç»Ÿè°ƒåº¦å±‚é¢ç”¨æˆ·çº¿ç¨‹ (user thread) ä¸æ ¸å¿ƒçº¿ç¨‹ (kernel thread) çš„å¯¹åº”å…³ç³»é‚£æ ·ï¼Œéƒ½æ˜¯ ï¼ˆn Ã— mï¼‰ æ¨¡å‹ã€‚å…·ä½“åœ°ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;G: è¡¨ç¤º goroutineï¼Œå­˜å‚¨äº† goroutine çš„æ‰§è¡Œ stack ä¿¡æ¯ã€goroutine çŠ¶æ€ä»¥åŠ goroutine çš„ä»»åŠ¡å‡½æ•°ç­‰ï¼›å¦å¤– G å¯¹è±¡æ˜¯å¯ä»¥é‡ç”¨çš„ã€‚&lt;/li&gt;
  &lt;li&gt;P: è¡¨ç¤ºé€»è¾‘ processorï¼ŒPçš„æ•°é‡å†³å®šäº†ç³»ç»Ÿå†…æœ€å¤§å¯å¹¶è¡Œçš„ G çš„æ•°é‡ï¼ˆå‰ææ˜¯ç³»ç»Ÿçš„ç‰©ç† CPU æ ¸æ•°&amp;gt;=P çš„æ•°é‡ï¼Œå¯ä»¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;runtime.GOMAXPROCS(20)&lt;/code&gt;å¢åŠ  P æ•°é‡å¤§äº CPU æ ¸æ•°ï¼‰ï¼›P çš„æœ€å¤§ä½œç”¨è¿˜æ˜¯å…¶æ‹¥æœ‰çš„å„ç§ G å¯¹è±¡é˜Ÿåˆ—ã€é“¾è¡¨ã€ä¸€äº› cache å’ŒçŠ¶æ€ã€‚&lt;/li&gt;
  &lt;li&gt;M: Mä»£è¡¨ç€çœŸæ­£çš„æ‰§è¡Œè®¡ç®—èµ„æºã€‚åœ¨ç»‘å®šæœ‰æ•ˆçš„ P åï¼Œè¿›å…¥ schedule å¾ªç¯ï¼›è€Œ schedule å¾ªç¯çš„æœºåˆ¶å¤§è‡´æ˜¯ä»å„ç§é˜Ÿåˆ—ã€P çš„æœ¬åœ°é˜Ÿåˆ—ä¸­è·å– Gï¼Œåˆ‡æ¢åˆ° G çš„æ‰§è¡Œæ ˆä¸Šå¹¶æ‰§è¡ŒGçš„å‡½æ•°ï¼Œè°ƒç”¨ goexit åšæ¸…ç†å·¥ä½œå¹¶å›åˆ° Mï¼Œå¦‚æ­¤åå¤ã€‚Må¹¶ä¸ä¿ç•™ G çŠ¶æ€ï¼Œè¿™æ˜¯ G å¯ä»¥è·¨ M è°ƒåº¦çš„åŸºç¡€ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;goroutine-å‘ç”Ÿè°ƒåº¦çš„æ—¶æœº&quot;&gt;goroutine å‘ç”Ÿè°ƒåº¦çš„æ—¶æœº&lt;/h3&gt;
&lt;p&gt;å‡å¦‚å¿½ç•¥ï¼ˆGã€Pã€Mï¼‰æ¨¡å‹çš„å¤æ‚æ€§ï¼Œå¯ä»¥æƒ³è±¡ä¸€ä¸ª goroutine è·å¾—è®¡ç®—èµ„æºï¼ˆCPUï¼‰åä¸€èˆ¬ä¸èƒ½ä¸€ç›´è¿è¡Œåˆ°å®Œæ¯•ï¼Œå®ƒä»¬å¾€å¾€å¯èƒ½è¦&lt;strong&gt;ç­‰å¾…&lt;/strong&gt;å…¶ä»–èµ„æºæ‰èƒ½æ‰§è¡Œå®Œæˆï¼Œæ¯”å¦‚è¯»å–ç£ç›˜æ–‡ä»¶å†…å®¹ã€é€šè¿‡ RPC è°ƒç”¨è¿œç¨‹æœåŠ¡ç­‰ï¼Œåœ¨&lt;strong&gt;ç­‰å¾…&lt;/strong&gt;çš„è¿‡ç¨‹ä¸­ goroutine æ˜¯ä¸éœ€è¦æ¶ˆè€—è®¡ç®—èµ„æºçš„ï¼Œå› æ­¤è°ƒåº¦å™¨å¯ä»¥æŠŠè®¡ç®—èµ„æºç»™å…¶ä»–çš„ goroutine ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;å‚è€ƒã€Š&lt;a href=&quot;https://www.jianshu.com/p/fc35e081d900&quot;&gt;Golang goroutine&lt;/a&gt;ã€‹å¯ä»¥çŸ¥é“ï¼Œgoroutine é‡åˆ°ä¸‹é¢çš„æƒ…å†µä¸‹å¯èƒ½ä¼šäº§ç”Ÿé‡æ–°è°ƒåº¦ï¼ˆå¤§å®¶åˆ¤æ–­å“ªäº›ä»£ç å±äºä¸‹é¢è¿™äº›æƒ…å†µï¼‰ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;é˜»å¡ I/O&lt;/li&gt;
  &lt;li&gt;selectæ“ä½œ&lt;/li&gt;
  &lt;li&gt;é˜»å¡åœ¨channel&lt;/li&gt;
  &lt;li&gt;ç­‰å¾…é”&lt;/li&gt;
  &lt;li&gt;ä¸»åŠ¨è°ƒç”¨ runtime.Gosched()&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;goroutine-çš„æŠ¢å &quot;&gt;goroutine çš„æŠ¢å &lt;/h3&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ª goroutine ä¸åŒ…å«ä¸Šé¢æåˆ°çš„å‡ ç§æƒ…å†µï¼Œé‚£ä¹ˆå…¶ä»–çš„ goroutine å°±æ— æ³•è¢«è°ƒåº¦åˆ°ç›¸åº”çš„ CPU ä¸Šé¢è¿è¡Œï¼Œè¿™æ˜¯ä¸åº”è¯¥å‘ç”Ÿçš„ã€‚è¿™æ—¶å€™å°±éœ€è¦æŠ¢å æœºåˆ¶æ¥æ‰“æ–­é•¿æ—¶é—´å ç”¨ CPU èµ„æºçš„ goroutine ï¼Œå‘èµ·é‡æ–°è°ƒåº¦ã€‚&lt;/p&gt;

&lt;p&gt;Golang è¿è¡Œæ—¶ï¼ˆruntimeï¼‰ä¸­çš„ç³»ç»Ÿç›‘æ§çº¿ç¨‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;sysmon&lt;/code&gt; å¯ä»¥æ‰¾å‡ºâ€œé•¿æ—¶é—´å ç”¨â€çš„ goroutineï¼Œä»è€Œâ€œæé†’â€ç›¸åº”çš„ goroutine è¯¥ä¸­æ–­äº†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç‰¹åˆ«è¯´æ˜-1&lt;/strong&gt;ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;sysmon&lt;/code&gt;åœ¨ç‹¬ç«‹çš„ Mï¼ˆçº¿ç¨‹ï¼‰ä¸­è¿è¡Œï¼Œä¸”ä¸éœ€è¦ç»‘å®š Pã€‚è¿™æ„å‘³ç€ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;runtime.GOMAXPROCS(1)&lt;/code&gt;é™åˆ¶ P çš„æ•°é‡ä¸º 1 çš„æƒ…å†µä¸‹ï¼Œå³ä½¿ä¸€ä¸ª goroutine ä¸€ç›´å ç”¨è¿™ä¸ª P è¿›è¡Œå¯†é›†å‹è®¡ç®—ï¼ˆæ„å‘³ç€ goroutine ä¸€ç›´å æœ‰å”¯ä¸€çš„ Pï¼‰ï¼Œä¾ç„¶ä¸å½±å“ &lt;code class=&quot;highlighter-rouge&quot;&gt;sysmon&lt;/code&gt; çš„æ­£å¸¸è¿è¡Œã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç‰¹åˆ«è¯´æ˜-2&lt;/strong&gt;ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;sysmon&lt;/code&gt; å¯ä»¥æ‰¾åˆ°â€œé•¿æ—¶é—´å ç”¨ Pâ€çš„ goroutineï¼Œä½†ä¹Ÿåªæ˜¯æ ‡è®° goroutine åº”è¯¥è¢«æŠ¢å äº†ï¼Œå¹¶æ— æ³•å¼ºåˆ¶è¿›è¡Œ goroutine çš„åˆ‡æ¢ã€‚å› æ­¤æœ¬æ–‡çš„ â€œç¬¬äºŒæ®µä»£ç â€ åœ¨è¿›è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt; å¾ªç¯æ—¶å¹¶ä¸ä¼šè¢«æŠ¢å ï¼Œè€Œæ˜¯åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt; å¾ªç¯ç»“æŸåæ‰§è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Printf(&quot;sum: %d\n&quot;, sum)&lt;/code&gt; çš„æ—¶å€™æ‰è¢«æŠ¢å ï¼ˆå› ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt; å¾ªç¯é‡Œæ²¡æœ‰è¢«æ’å…¥æŠ¢å æ£€æŸ¥ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´æŠ¢å æ£€æŸ¥ç‚¹æ˜¯ç¼–è¯‘å™¨é¢„å…ˆæ’å…¥çš„ï¼Œåœ¨éå†…è”çš„å‡½æ•°çš„å‰é¢ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹æœ€åå‡ ç¯‡å‚è€ƒæ–‡ç« ï¼‰ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;æœ¬æ–‡ä»ä¸¤æ®µä»£ç åˆ‡å…¥ï¼Œæ¢ç©¶äº† goroutine çš„è°ƒåº¦ä»¥åŠæŠ¢å ã€‚å¯¹äºæœ¬æ–‡çš„ç¬¬ä¸€æ®µä»£ç ï¼Œä¸»åç¨‹çš„ä»£ç å¹¶ä¸éœ€è¦æ¶ˆè€— &lt;code class=&quot;highlighter-rouge&quot;&gt;forcePreemptNS&lt;/code&gt;ï¼ˆé»˜è®¤ä¸º 10 msï¼‰æ—¶é•¿çš„èµ„æºï¼Œè€Œä¸»çº¿ç¨‹ä¹Ÿæ²¡æœ‰ä¸»åŠ¨æŠŠèµ„æºè®©å‡ºæ¥ï¼Œå› æ­¤å­åç¨‹æ²¡æœ‰è¿è¡Œã€‚å¯¹äºæœ¬æ–‡çš„ç¬¬äºŒæ®µä»£ç ï¼Œç”±äº &lt;code class=&quot;highlighter-rouge&quot;&gt;for&lt;/code&gt; å¾ªç¯æ¶ˆè€—äº†å¤§é‡çš„è®¡ç®—èµ„æºï¼Œæ»¡è¶³äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;forcePreemptNS&lt;/code&gt; æ—¶é—´é˜ˆå€¼ï¼Œè°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;fmt.Printf&lt;/code&gt; æ—¶è§¦å‘äº†æŠ¢å ï¼Œå› æ­¤å­åç¨‹å¾—ä»¥è¿è¡Œã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡çš„ç¼–å†™å†æ—¶å¥½å‡ å¤©ï¼ŒæœŸé—´æŸ¥é˜…äº†å¤§é‡çš„èµ„æ–™ï¼Œä¿®ä¿®æ”¹æ”¹å¥½å‡ æ¬¡ï¼Œå¯¼è‡´æœ¬æ–‡çš„æ¶æ„æ¯”è¾ƒæ¾æ•£ï¼›å¦‚æœå¤§å®¶å¯¹æœ¬æ–‡æœ‰ä»€ä¹ˆç–‘é—®ï¼Œå¯ä»¥ç›´æ¥é‚®ä»¶æˆ‘è¿›è¡Œäº¤æµ ğŸ¤ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://skoo.me/go/2013/11/29/golang-schedule&quot;&gt;skoo  goroutineä¸è°ƒåº¦å™¨&lt;/a&gt; æ¯”è¾ƒç»å…¸çš„æ¯”å–»ï¼Œæè¿°äº†è°ƒåº¦çš„æœºåˆ¶&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/fc35e081d900&quot;&gt;Golang goroutine - ç®€ä¹¦&lt;/a&gt; ä»‹ç»äº†æŠ¢å å¼è°ƒåº¦çš„æœºåˆ¶&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://tonybai.com/2017/06/23/an-intro-about-goroutine-scheduler/&quot;&gt;ä¹Ÿè°ˆgoroutineè°ƒåº¦å™¨ - Tony Bai&lt;/a&gt; æ¯”è¾ƒç³»ç»Ÿåœ°ä»‹ç»äº† goroutine çš„è°ƒåº¦&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://jingwei.link/2019/02/13/linux-process-thread-schedule-2.html&quot;&gt;Linuxç³»ç»Ÿè°ƒåº¦åŸç†æµ…æï¼ˆäºŒï¼‰ - æ•¬ç»´&lt;/a&gt; ç®€å•ä»‹ç»äº† linux ç³»ç»Ÿè°ƒåº¦&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/golang/go/blob/release-branch.go1.12/src/runtime/proc.go#L4378&quot;&gt;go/proc.go at release-branch.go1.12 Â· golang/go Â· GitHub&lt;/a&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;forcePreemptNS&lt;/code&gt; å¼ºåˆ¶åç¨‹è°ƒåº¦çš„å˜é‡ï¼Œé»˜è®¤ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;10 ms&lt;/code&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/golang/go/blob/release-branch.go1.12/src/runtime/proc.go#L4378&quot;&gt;go/proc.go at release-branch.go1.12 Â· golang/go Â· GitHub&lt;/a&gt; å¦‚æœä¸€ä¸ª goroutine é•¿æ—¶é—´å ç”¨è®¡ç®—èµ„æºï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;sysmon&lt;/code&gt;å¯ä»¥è§¦å‘æŠ¢å ï¼›&lt;code class=&quot;highlighter-rouge&quot;&gt;sysmon&lt;/code&gt;åœ¨ç‹¬ç«‹çš„ Mï¼ˆçº¿ç¨‹ï¼‰ä¸­è¿è¡Œï¼Œä¸”ä¸éœ€è¦ç»‘å®š Pã€‚&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/golang/go/blob/dev.boringcrypto.go1.12/src/runtime/stack.go#L911&quot;&gt;go/stack.go at release-branch.go1.12 Â· golang/go Â· GitHub&lt;/a&gt; Golang ç¼–è¯‘å™¨ä¼šåœ¨æ¯ä¸ªéå†…è”å‡½æ•°å‰é¢è¿è¡Œæ ˆæº¢å‡ºæ£€æŸ¥ï¼Œå¦‚æœæ ˆæº¢å‡ºåˆ™æ‰©å±•æ ˆï¼Œä»è€Œæ‰§è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;newstack()&lt;/code&gt;å‡½æ•°ï¼Œç»§è€Œè§¦å‘æŠ¢å æœºåˆ¶&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://software.intel.com/en-us/blogs/2014/05/10/debugging-performance-issues-in-go-programs&quot;&gt;Debugging performance issues in Go programs - IntelÂ® Software&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/golang/go/issues/10958&quot;&gt;runtime: tight loops should be preemptible Â· Issue #10958 Â· golang/go Â· GitHub&lt;/a&gt; ä»‹ç»äº†ç©º for çš„ä¸å¯ä¸­æ–­&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.ardanlabs.com/blog/2018/08/scheduling-in-go-part2.html&quot;&gt;Scheduling In Go : Part II - Go Scheduler&lt;/a&gt; if you run any tight loops that are not making function calls, you will cause latencies within the scheduler and garbage collection&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/12413510/why-is-this-go-code-blocking&quot;&gt;goroutine - Why is this Go code blocking? - Stack Overflow&lt;/a&gt; ä»‹ç»äº†ä¸ºä»€ä¹ˆ for{} æ— é™&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 26 May 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/05/26/golang-routine-scheduler.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/05/26/golang-routine-scheduler.html</guid>
        
        <category>golang</category>
        
        <category>å®ç”¨</category>
        
        <category>åŸºç¡€</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>Golang å¹¶å‘é—®é¢˜ï¼ˆå››ï¼‰ä¹‹å•æ ¸ä¸Šçš„å¹¶å‘é—®é¢˜</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; id=&quot;markdown-toc-å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#golang-åœ¨å•æ ¸ä¸Šçš„å¹¶å‘é—®é¢˜&quot; id=&quot;markdown-toc-golang-åœ¨å•æ ¸ä¸Šçš„å¹¶å‘é—®é¢˜&quot;&gt;Golang åœ¨å•æ ¸ä¸Šçš„â€œå¹¶å‘â€é—®é¢˜&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#gotourä¸Šçš„ä¹Œé¾™æ¡ˆä¾‹&quot; id=&quot;markdown-toc-gotourä¸Šçš„ä¹Œé¾™æ¡ˆä¾‹&quot;&gt;gotourä¸Šçš„ä¹Œé¾™æ¡ˆä¾‹&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#å•ä¸ªç‰©ç†æ ¸å¿ƒä¸Šçš„å¹¶å‘&quot; id=&quot;markdown-toc-å•ä¸ªç‰©ç†æ ¸å¿ƒä¸Šçš„å¹¶å‘&quot;&gt;å•ä¸ªç‰©ç†æ ¸å¿ƒä¸Šçš„â€œå¹¶å‘â€&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#runtimegomaxprocs1-æ–¹æ³•&quot; id=&quot;markdown-toc-runtimegomaxprocs1-æ–¹æ³•&quot;&gt;runtime.GOMAXPROCS(1) æ–¹æ³•&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å°ç»“&quot; id=&quot;markdown-toc-å°ç»“&quot;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;è¿‡å» Web å¼€å‘çš„å·¥ä½œæ¯”è¾ƒå°‘æ¶‰åŠåˆ°å¹¶å‘çš„é—®é¢˜ï¼Œæ¯ä¸ªç”¨æˆ·è¯·æ±‚åœ¨ç‹¬ç«‹çš„çº¿ç¨‹é‡Œé¢è¿›è¡Œï¼Œå¶å°”æ¶‰åŠåˆ°å¼‚æ­¥ä»»åŠ¡ä½†æ˜¯çº¿ç¨‹é—´æ•°æ®åŒæ­¥æ¨¡å‹éå¸¸ç®€å•ï¼Œå› æ­¤å¹¶æœªæ·±å…¥æ¢ç©¶è¿‡å¹¶å‘è¿™ä¸€å—ã€‚æœ€è¿‘åœ¨å†™æ¸¸æˆç›¸å…³çš„æœåŠ¡ç«¯ä»£ç æ—¶å‘ç°æ•°æ®çš„å¹¶å‘åŒæ­¥åœºæ™¯éå¸¸å¤šï¼Œå› æ­¤èŠ±äº†ä¸€ç‚¹æ—¶é—´æ¥æ¢ç´¢å’Œæ€»ç»“ã€‚è¿™æ˜¯ä¸€ä¸ªç³»åˆ—æ–‡ç« ï¼Œæœ¬æ–‡ä¸ºç¬¬å››ç¯‡ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡ç®€å•ä»‹ç» Golang ä¸­é…ç½®å¯ç”¨ CPU æ ¸çš„æ–¹æ³•åŠå…¶å¯èƒ½å¯¼è‡´çš„è¯¯è§£ã€‚&lt;/p&gt;

&lt;h2 id=&quot;golang-åœ¨å•æ ¸ä¸Šçš„å¹¶å‘é—®é¢˜&quot;&gt;Golang åœ¨å•æ ¸ä¸Šçš„â€œå¹¶å‘â€é—®é¢˜&lt;/h2&gt;
&lt;h3 id=&quot;gotourä¸Šçš„ä¹Œé¾™æ¡ˆä¾‹&quot;&gt;gotourä¸Šçš„ä¹Œé¾™æ¡ˆä¾‹&lt;/h3&gt;
&lt;p&gt;åœ¨&lt;a href=&quot;/2019/05/12/golang-concurrency-03-map.html&quot;&gt;ä¸Šä¸€ç¯‡åšå®¢&lt;/a&gt;ä¸­ä»‹ç»äº† Golang å¹¶å‘ç¼–ç¨‹ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; ç±»å‹çš„â€œè„†å¼±â€æ€§ã€‚å…·ä½“åœ°ï¼ŒGolang çš„è¿è¡Œæ—¶ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;runtime&lt;/code&gt;ï¼‰ä¼šå¼ºæ ¡éªŒå¹¶å‘è¯»å†™çš„çŠ¶æ€ï¼Œå¦‚æœå‘ç°æœ‰åç¨‹ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;goroutine&lt;/code&gt;ï¼‰è¯» &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; åŒæ—¶æœ‰å…¶ä»–åç¨‹è¯»æˆ–è€…å†™åŒä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt;ï¼Œç¨‹åºå°±ä¼šç›´æ¥å¼‚å¸¸é€€å‡ºã€‚&lt;/p&gt;

&lt;p&gt;ç„¶è€Œè¹Šè··çš„æ˜¯ï¼Œåœ¨ Golang å®˜æ–¹æ•™ç¨‹ä¸­ï¼Œå¹¶å‘éƒ¨åˆ†æœ‰ä¸€ä¸ªç¤ºä¾‹ï¼ˆè§&lt;a href=&quot;https://tour.golang.org/concurrency/9&quot;&gt;è¿™é‡Œ&lt;/a&gt;ï¼Œéœ€è‡ªå¤‡æ¢¯å­ï¼‰å´å¹¶æ²¡æœ‰å› ä¸ºå¤šä¸ªåç¨‹å¹¶å‘å†™åŒä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; å˜é‡è€Œå¼‚å¸¸é€€å‡ºã€‚ç¤ºä¾‹çš„ä¸»è¦å†…å®¹æ˜¯é€šè¿‡ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;Mutex&lt;/code&gt; é”æ¥é™å®š &lt;code class=&quot;highlighter-rouge&quot;&gt;SafeCounter&lt;/code&gt; ç»“æ„ä½“ä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;v&lt;/code&gt; å˜é‡ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt;ç±»å‹ï¼‰çš„å¹¶å‘è¯»å†™ï¼Œå…¶æºç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sync&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;time&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// SafeCounter is safe to use concurrently.&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SafeCounter&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mux&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Mutex&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// Inc increments the counter for the given key.&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SafeCounter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Inc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// Lock so only one goroutine at a time can access the map c.v.&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Unlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// Value returns the current value of the counter for the given key.&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SafeCounter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// Lock so only one goroutine at a time can access the map c.v.&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Unlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SafeCounter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Inc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;somekey&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Second&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;somekey&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœå»æ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;Inc&lt;/code&gt;  å‡½æ•°ä¸­ &lt;code class=&quot;highlighter-rouge&quot;&gt;mux&lt;/code&gt; åŠ é”ä¸è§£é”çš„è¿‡ç¨‹ï¼ˆå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºï¼‰ï¼Œç†è®ºä¸Šç¤ºä¾‹ä»£ç ä¼šæŠ¥å‡º &lt;code class=&quot;highlighter-rouge&quot;&gt;concurrent map writes&lt;/code&gt; é”™è¯¯ï¼Œä½†æ˜¯å¦‚æœç™»å½•&lt;a href=&quot;https://tour.golang.org/concurrency/9&quot;&gt;å®˜æ–¹å¯¹åº”çš„ tour é¡µé¢&lt;/a&gt;ï¼Œä¿®æ”¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;Inc&lt;/code&gt; æ–¹æ³•åè¿è¡Œå´å¹¶æœªæŠ¥å‡º &lt;strong&gt;å¹¶å‘å†™ map&lt;/strong&gt; çš„é”™è¯¯ï¼ˆæ­¤ç»“è®ºæˆªæ­¢åˆ° 2019/05/15ï¼Œå·²ç»æäº† issueï¼Œå®˜æ–¹å¯èƒ½ä¼šåšä¿®å¤ï¼‰&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// ä¿®æ”¹åçš„ Inc å‡½æ•°ï¼Œæ­¤å¤„å»æ‰äº†é”ç›¸å…³çš„è¿‡ç¨‹&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SafeCounter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Inc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;å•ä¸ªç‰©ç†æ ¸å¿ƒä¸Šçš„å¹¶å‘&quot;&gt;å•ä¸ªç‰©ç†æ ¸å¿ƒä¸Šçš„â€œå¹¶å‘â€&lt;/h3&gt;
&lt;p&gt;å¦‚æœ &lt;code class=&quot;highlighter-rouge&quot;&gt;CPU&lt;/code&gt; åªæœ‰å•ä¸ªç‰©ç†æ ¸ï¼ŒGolang è¿è¡Œæ—¶ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;runtime&lt;/code&gt;ï¼‰å¦‚ä½•æ‰èƒ½å®ç°é€»è¾‘ä¸Šçš„ &lt;strong&gt;â€œå¹¶å‘â€&lt;/strong&gt; å‘¢ï¼Ÿ å…¶å®æˆ‘ä»¬å¯ä»¥ç±»æ¯”æ“ä½œç³»ç»Ÿçš„å¤šè¿›ç¨‹æ¨¡å‹ï¼ˆå‚è€ƒã€Š &lt;a href=&quot;https://jingwei.link/2018/12/30/linux-process-thread-schedule.html&quot;&gt;Linuxç³»ç»Ÿè°ƒåº¦åŸç†æµ…æ&lt;/a&gt; ã€‹å’Œã€Š &lt;a href=&quot;https://jingwei.link/2019/02/13/linux-process-thread-schedule-2.html&quot;&gt;Linuxç³»ç»Ÿè°ƒåº¦åŸç†æµ…æï¼ˆäºŒï¼‰&lt;/a&gt; ã€‹ï¼‰ï¼Œå¼•å…¥ æ—¶é—´ç‰‡ çš„æ¦‚å¿µï¼ŒæŠŠä¸€ä¸ªç‰©ç†æ ¸çš„ä½¿ç”¨æƒæŒ‰æ—¶é—´ç‰‡åˆ’åˆ†å¹¶åˆ†é…ç»™æ‰€æœ‰çš„åç¨‹ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;goroutine&lt;/code&gt;ï¼‰ï¼Œæ¯ä¸ªåç¨‹æ¶ˆè€—è‡ªå·±çš„æ—¶é—´ç‰‡ &lt;strong&gt;è½®æµäº¤æ›¿&lt;/strong&gt; åœ¨åŒä¸€ä¸ªç‰©ç†æ ¸ä¸Šè¿è¡Œï¼Œä»è€Œå®ç°é€»è¾‘ä¸Šçš„ â€œå¹¶å‘â€ã€‚&lt;/p&gt;

&lt;p&gt;å…¶å®è¿™é‡Œé¢å°±æ¶‰åŠåˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœ Golang ä»£ç è¿è¡Œæ—¶åªè¢«åˆ†é…äº†ä¸€ä¸ªç‰©ç†æ ¸ï¼ˆæ¯”å¦‚å®¿ä¸»æœºåªæœ‰ä¸€ä¸ªç‰©ç†æ ¸ï¼Œæˆ–è€…é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;runtime.GOMAXPROCS(1)&lt;/code&gt;æ˜¾å¼é…ç½® Golang è¿›ç¨‹åªèƒ½ä½¿ç”¨ä¸€ä¸ªæ ¸ï¼‰ï¼Œé‚£ä¹ˆæ˜¯å¦å°±æ„å‘³ç€ Golang è¿è¡Œæ—¶ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;runtime&lt;/code&gt;ï¼‰å¯¹  &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; çš„è¯»å†™éƒ½å˜æˆäº†é¡ºåºçš„ä»è€Œé¿å…äº†å¹¶å‘é”™è¯¯å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ç›®å‰æ¥çœ‹ï¼Œä¸€ä¸ªç‰©ç†æ ¸çš„è¿è¡Œæ—¶é…ç½®ç¡®å®ä¼šè®© map è¡¨ç°çš„ä¸é‚£ä¹ˆ â€œè„†å¼±â€ã€‚Golang å®˜æ–¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;https://tour.golang.org/concurrency/9&lt;/code&gt; è¿™ä¸ªç¤ºä¾‹æ‰€è¿è¡Œçš„æœåŠ¡å™¨å¾ˆå¤§æ¦‚ç‡é»˜è®¤æ·»åŠ äº†å•ä¸ªç‰©ç†æ ¸çš„é™åˆ¶ï¼ˆå¯èƒ½è€ƒè™‘åˆ°èŠ‚çœèµ„æºï¼‰ï¼Œä»è€Œå¯¼è‡´ä¸Šé¢æåˆ°çš„ä¹Œé¾™ç¤ºä¾‹ã€‚ä¸è¿‡è¿™é‡Œ&lt;strong&gt;éœ€è¦ç‰¹åˆ«è¯´æ˜&lt;/strong&gt;ä¸€ä¸‹ï¼ŒæŒ‰ç…§è¿›ç¨‹è°ƒåº¦çš„åŸºæœ¬åŸç†ï¼Œå‡è®¾æ¯ä¸ªåç¨‹å¯ä»¥åœ¨ä»»æ„è¿‡ç¨‹è¢«ä¸­æ–­ï¼Œç†è®ºä¸Šå•ä¸ªç‰©ç†æ ¸ä¸Šä¹Ÿå¯èƒ½ä¼šå¼•å‘ map çš„å¹¶å‘é”™è¯¯ä»è€Œå¯¼è‡´è¿›ç¨‹å¼‚å¸¸é€€å‡ºï¼ˆå› ä¸º map çš„è¯»ä¸å†™è¿‡ç¨‹éƒ½å¾ˆå¤æ‚ï¼ŒäºŒè€…éƒ½ä¸æ˜¯åŸå­æ€§çš„ï¼‰ï¼Œä»è¿™ä¸ªè§’åº¦é…ç½®å•ä¸ªæ ¸å¹¶ä¸èƒ½ä¿è¯ Go çº¿ç¨‹å®‰å…¨ï¼ˆ&lt;strong&gt;æ­¤é¡¹æœ‰å¾…è¿›ä¸€æ­¥ç¡®è®¤&lt;/strong&gt;ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šé¢æ‰€æåˆ°çš„ä¹Œé¾™ç¤ºä¾‹ä¸€èˆ¬ä¸ä¼šç¢°åˆ°ï¼Œå› ä¸ºå¤§éƒ¨åˆ†çš„å¼€å‘ç¯å¢ƒéƒ½æ˜¯å¤šæ ¸å¿ƒçš„ï¼›ä¸è¿‡å¦‚æœå¼€å‘ç¯å¢ƒæ˜¯å•æ ¸é…ç½®çš„è™šæ‹Ÿæœºå°±ä¼šé‡åˆ°äº†ï¼ˆæˆ‘å‘¨å›´å°±æœ‰æœ‹å‹ç”¨å•æ ¸çš„è™šæ‹Ÿæœºä½œä¸ºå¼€å‘ç¯å¢ƒå­¦ä¹  Golangï¼‰ã€‚&lt;/p&gt;

&lt;h3 id=&quot;runtimegomaxprocs1-æ–¹æ³•&quot;&gt;runtime.GOMAXPROCS(1) æ–¹æ³•&lt;/h3&gt;
&lt;p&gt;ç¿»è¯‘å®˜æ–¹å¯¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;GOMAXPROCS&lt;/code&gt; çš„æè¿°ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;GOMAXPROCS&lt;/code&gt; å¯è®¾ç½®èƒ½å¤ŸåŒæ—¶è¿è¡Œä»£ç é€»è¾‘çš„æœ€å¤§ CPU æ•°é‡ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨äº†è§£äº†å•ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;CPU&lt;/code&gt; æ ¸å¿ƒ å¯¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; ç±»å‹å˜é‡çš„å½±å“åï¼Œå¯èƒ½æœ‰çš„åŒå­¦ä¼šè€ƒè™‘é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;runtime.GOMAXPROCS(1)&lt;/code&gt; é™åˆ¶ Golang åº”ç”¨å¯ä½¿ç”¨çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;CPU&lt;/code&gt; æ ¸å¿ƒä»è€Œå¢åŠ ä»£ç çš„å¥å£®æ€§â€”â€”å…¶å®è¿™ç§è€ƒè™‘æ˜¯æ¯”è¾ƒå±é™©çš„ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; çš„è¯»å†™è¿‡ç¨‹éƒ½ä¸æ˜¯åŸå­æ€§çš„ï¼ˆåŸå­æ€§çš„æ¦‚å¿µå‚è€ƒã€Š &lt;a href=&quot;https://jingwei.link/2019/05/11/golang-concurrency-02.html&quot;&gt;æµ…è°ˆ Golang ä¸­æ•°æ®çš„å¹¶å‘åŒæ­¥é—®é¢˜ï¼ˆäºŒï¼‰&lt;/a&gt; ã€‹ä¸­çš„é˜è¿°ï¼‰ï¼Œè¿™å°±å¯¼è‡´è¯»å†™è¿‡ç¨‹å¯èƒ½è¢«åœ¨ä»»æ„è¿‡ç¨‹ä¸­æ–­ï¼Œä»è€Œå¼•å‘ &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; çš„å¹¶å‘è¯»å†™æ ¡éªŒç”Ÿæ•ˆå¯¼è‡´ç¨‹åºå¼‚å¸¸é€€å‡ºï¼ˆ&lt;strong&gt;è¿™ä¸€æ¡æœ‰å¾…è¿›ä¸€æ­¥ç¡®è®¤ goroutine çš„è°ƒåº¦æœºåˆ¶&lt;/strong&gt;ï¼‰ã€‚å…¶æ¬¡ï¼Œåœ¨ä½æˆæœ¬åˆ›å»º &lt;code class=&quot;highlighter-rouge&quot;&gt;goroutine&lt;/code&gt; çš„ç¼–ç¨‹æ¨¡å‹ä¸­ï¼Œå•æ ¸å¿ƒçš„é…ç½®å¯èƒ½é€ æˆé€»è¾‘æ­»é”ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç å°±ä¼šåƒµæ­»ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;runtime&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;setup complete!&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;runtime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GOMAXPROCS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;Golang è¿è¡Œæ—¶é»˜è®¤ä¼šå¯ç”¨æ‰€æœ‰çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;CPU&lt;/code&gt; æ ¸å¿ƒï¼Œå¯ä»¥é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;runtime.GOMAXPROCS()&lt;/code&gt; æ–¹æ³•é…ç½®å¯ç”¨çš„æœ€å¤§ &lt;code class=&quot;highlighter-rouge&quot;&gt;CPU&lt;/code&gt;æ ¸å¿ƒæ•°é‡ã€‚å½“åªæœ‰ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;CPU&lt;/code&gt; æ ¸çš„æ—¶å€™ï¼ˆæ¯”å¦‚è™šæ‹Ÿæœºåªé…ç½®äº†ä¸€ä¸ªç‰©ç†æ ¸ï¼Œæˆ–è€…é€šè¿‡  &lt;code class=&quot;highlighter-rouge&quot;&gt;runtime.GOMAXPROCS(1)&lt;/code&gt; é…ç½®åªä½¿ç”¨ä¸€ä¸ªç‰©ç†æ ¸ï¼‰ï¼Œä¼šå¯¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; ç±»å‹å˜é‡çš„å¹¶å‘ç¨³å®šæ€§äº§ç”Ÿä¸€äº›å½±å“ï¼ˆä¸åŠ é”çš„æƒ…å†µä¸‹ä¹Ÿä¸ä¼šå‡ºç°å¹¶å‘è¯»å†™é—®é¢˜ï¼‰ï¼Œä½†æ˜¯&lt;strong&gt;å¼€å‘è€…ä¸åº”è¯¥ä¾èµ–è¿™ä¸ªç‰¹æ€§æ¥è¯•å›¾å¢åŠ ä»£ç çš„å¥å£®æ€§&lt;/strong&gt;ï¼Œå¦åˆ™ä¼šé€ æˆæ— æ³•é¢„æ–™çš„ç»“æœã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;/2018/12/30/linux-process-thread-schedule.html&quot;&gt;Linuxç³»ç»Ÿè°ƒåº¦åŸç†æµ…æ - æ•¬ç»´&lt;/a&gt;  ç®€å•ä»‹ç»äº† è¿›ç¨‹ã€çº¿ç¨‹ã€å¤šçº¿ç¨‹æ¨¡å‹ã€æ—¶é—´ç‰‡ä»¥åŠè°ƒåº¦ç­‰æ¦‚å¿µ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2019/02/13/linux-process-thread-schedule-2.html&quot;&gt;Linuxç³»ç»Ÿè°ƒåº¦åŸç†æµ…æï¼ˆäºŒï¼‰ - æ•¬ç»´&lt;/a&gt; ç®€å•ä»‹ç»äº† è¿›ç¨‹ã€çº¿ç¨‹ã€è°ƒåº¦ä»¥åŠGoroutineçš„è°ƒåº¦&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2019/05/11/golang-concurrency-02.html&quot;&gt;æµ…è°ˆ Golang ä¸­æ•°æ®çš„å¹¶å‘åŒæ­¥é—®é¢˜ï¼ˆäºŒï¼‰ - æ•¬ç»´&lt;/a&gt; ä»‹ç»äº†åŸå­æ€§&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://studygolang.com/articles/5025&quot;&gt;golangå¤šæ ¸è®¾ç½®&lt;/a&gt; ä»‹ç»äº† golang çš„å¤šæ ¸é…ç½®æ–¹æ³•ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;runtime.GOMAXPROCS(1)&lt;/code&gt;ï¼‰åŠç¤ºä¾‹&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Wed, 15 May 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/05/15/golang-concurrency-04-single-core.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/05/15/golang-concurrency-04-single-core.html</guid>
        
        <category>golang</category>
        
        <category>å®ç”¨</category>
        
        <category>åŸºç¡€</category>
        
        
        <category>golang</category>
        
      </item>
    
      <item>
        <title>æµ…è°ˆ Golang ä¸­æ•°æ®çš„å¹¶å‘åŒæ­¥é—®é¢˜ï¼ˆä¸‰ï¼‰</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; id=&quot;markdown-toc-å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#golang-ä¸­-map-çš„ä½¿ç”¨&quot; id=&quot;markdown-toc-golang-ä¸­-map-çš„ä½¿ç”¨&quot;&gt;Golang ä¸­ map çš„ä½¿ç”¨&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ä¸å…è®¸å¹¶å‘è¯»å†™çš„-map&quot; id=&quot;markdown-toc-ä¸å…è®¸å¹¶å‘è¯»å†™çš„-map&quot;&gt;ä¸å…è®¸å¹¶å‘è¯»å†™çš„ map&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#å®‰å…¨ä½¿ç”¨-mapæ˜¾è€Œæ˜“è§åœ°åŠ é”&quot; id=&quot;markdown-toc-å®‰å…¨ä½¿ç”¨-mapæ˜¾è€Œæ˜“è§åœ°åŠ é”&quot;&gt;å®‰å…¨ä½¿ç”¨ mapâ€”â€”æ˜¾è€Œæ˜“è§åœ°åŠ é”&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆ-map-å¹¶å‘è¯»å†™æ—¶ä¼šåœ¨è¿è¡Œæ—¶å¼‚å¸¸é€€å‡º&quot; id=&quot;markdown-toc-ä¸ºä»€ä¹ˆ-map-å¹¶å‘è¯»å†™æ—¶ä¼šåœ¨è¿è¡Œæ—¶å¼‚å¸¸é€€å‡º&quot;&gt;ä¸ºä»€ä¹ˆ map å¹¶å‘è¯»å†™æ—¶ä¼šåœ¨è¿è¡Œæ—¶å¼‚å¸¸é€€å‡º&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å°ç»“&quot; id=&quot;markdown-toc-å°ç»“&quot;&gt;å°ç»“&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒ&quot; id=&quot;markdown-toc-å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å†™åœ¨å‰é¢&quot;&gt;å†™åœ¨å‰é¢&lt;/h2&gt;
&lt;p&gt;è¿‡å» Web å¼€å‘çš„å·¥ä½œæ¯”è¾ƒå°‘æ¶‰åŠåˆ°å¹¶å‘çš„é—®é¢˜ï¼Œæ¯ä¸ªç”¨æˆ·è¯·æ±‚åœ¨ç‹¬ç«‹çš„çº¿ç¨‹é‡Œé¢è¿›è¡Œï¼Œå¶å°”æ¶‰åŠåˆ°å¼‚æ­¥ä»»åŠ¡ä½†æ˜¯çº¿ç¨‹é—´æ•°æ®åŒæ­¥æ¨¡å‹éå¸¸ç®€å•ï¼Œå› æ­¤å¹¶æœªæ·±å…¥æ¢ç©¶è¿‡å¹¶å‘è¿™ä¸€å—ã€‚æœ€è¿‘åœ¨å†™æ¸¸æˆç›¸å…³çš„æœåŠ¡ç«¯ä»£ç æ—¶å‘ç°æ•°æ®çš„å¹¶å‘åŒæ­¥åœºæ™¯éå¸¸å¤šï¼Œå› æ­¤èŠ±äº†ä¸€ç‚¹æ—¶é—´æ¥æ¢ç´¢ã€‚è¿™æ˜¯ä¸€ä¸ªç³»åˆ—æ–‡ç« ï¼Œæœ¬æ–‡ä¸ºç¬¬ä¸‰ç¯‡ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡ç®€å•ä»‹ç» Golang ä¸­ map ç±»å‹çš„å®‰å…¨ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;h2 id=&quot;golang-ä¸­-map-çš„ä½¿ç”¨&quot;&gt;Golang ä¸­ map çš„ä½¿ç”¨&lt;/h2&gt;
&lt;p&gt;åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ä¿å­˜ &lt;code class=&quot;highlighter-rouge&quot;&gt;key-value&lt;/code&gt; æ˜¯ä¸€ä¸ªéå¸¸æ™®éçš„éœ€æ±‚ï¼Œå› æ­¤ &lt;code class=&quot;highlighter-rouge&quot;&gt;Map&lt;/code&gt; çš„ä½¿ç”¨åœºæ™¯éå¸¸å¤šã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä¸å…è®¸å¹¶å‘è¯»å†™çš„-map&quot;&gt;ä¸å…è®¸å¹¶å‘è¯»å†™çš„ map&lt;/h3&gt;

&lt;p&gt;åœ¨ Golang æºç å®ç°ä¸­å¯¹ map çš„è¦æ±‚æ¯”è¾ƒé«˜ï¼ˆè§ã€Š &lt;a href=&quot;https://blog.golang.org/go-maps-in-action&quot;&gt;Go maps in action&lt;/a&gt;ã€‹ï¼‰ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;Maps are not safe for concurrent use: it's not defined what happens when you read and write to them simultaneously&lt;/code&gt;ï¼ˆå½“å¹¶å‘ä½¿ç”¨æ—¶ Maps æ˜¯ä¸å®‰å…¨çš„ï¼Œå½“å¹¶å‘åœ°è¯»å†™ map çš„æ—¶å€™æ— æ³•é¢„çŸ¥ä¼šå‘ç”Ÿå•¥ ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä¸åŠ ä¿æŠ¤åœ°åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­è¯»å†™ &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; ç±»å‹çš„æ•°æ®ï¼Œä»£ç ä¼šç›´æ¥å´©æºƒå¹¶å¼‚å¸¸é€€å‡ºã€‚æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿è¡Œä¸Šé¢çš„ä»£ç å¯ä»¥å¾—åˆ°ä¸‹é¢ç±»ä¼¼çš„ç»“æœï¼š&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;go run map/main.go 
&lt;span class=&quot;c&quot;&gt;# fatal error: concurrent map read and map write&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# ....(çœç•¥å¼‚å¸¸å †æ ˆ)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»è¾“å‡ºç»“æœæ¥çœ‹ï¼ŒGolang è¿è¡Œæ—¶æ˜ç¡®ç¦æ­¢ &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; çš„å¹¶å‘è¯»å†™ï¼Œä¸”åœ¨æ£€æµ‹åˆ°è¿™ç§æƒ…å†µåç›´æ¥å¼‚å¸¸é€€å‡ºã€‚è¿™ä¸åŒäºå…¶ä»–æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;int&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;string&lt;/code&gt; ç­‰ï¼Œå¯¹æ¯”ä¸‹é¢çš„ä»£ç ï¼ˆè¯´æ˜ï¼šä¸‹é¢çš„ä»£ç å­˜åœ¨éšå½¢çš„å¹¶å‘é—®é¢˜ï¼Œå…·ä½“å‚è€ƒã€Š&lt;a href=&quot;/2019/05/11/golang-concurrency-02.html&quot;&gt;æµ…è°ˆ Golang ä¸­æ•°æ®çš„å¹¶å‘åŒæ­¥é—®é¢˜ï¼ˆäºŒï¼‰&lt;/a&gt;ã€‹ï¼‰ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;// è¿è¡Œä¸‹é¢çš„ä»£ç å¹¶ä¸ä¼šå¼‚å¸¸é€€å‡ºï¼Œä¸åŒäºä¸Šé¢ map ç±»å‹çš„ m çš„ä½¿ç”¨&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;// go run main.go &lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å†æ¬¡&lt;strong&gt;éœ€è¦è¯´æ˜&lt;/strong&gt;ï¼Œè™½ç„¶ä¸Šé¢çš„ä»£ç åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­è®¿é—® &lt;code class=&quot;highlighter-rouge&quot;&gt;int&lt;/code&gt; ç±»å‹çš„æ•°æ®å¹¶æœªç›´æ¥å¼‚å¸¸é€€å‡ºï¼Œä½†æ˜¯è¿™ç§ä¸åŠ ä»»ä½•å®‰å…¨æªæ–½çš„å¹¶å‘è¯»å†™æ˜¯å­˜åœ¨å®‰å…¨é£é™©çš„ï¼Œå…·ä½“å‚è€ƒã€Š&lt;a href=&quot;/2019/05/11/golang-concurrency-02.html&quot;&gt;æµ…è°ˆ Golang ä¸­æ•°æ®çš„å¹¶å‘åŒæ­¥é—®é¢˜ï¼ˆäºŒï¼‰&lt;/a&gt;ã€‹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å®‰å…¨ä½¿ç”¨-mapæ˜¾è€Œæ˜“è§åœ°åŠ é”&quot;&gt;å®‰å…¨ä½¿ç”¨ mapâ€”â€”æ˜¾è€Œæ˜“è§åœ°åŠ é”&lt;/h3&gt;

&lt;p&gt;æ—¢ç„¶ Golang åœ¨è¿è¡Œæ—¶ä¸å…è®¸å¯¹ map çš„å¹¶å‘è¯»å†™ï¼Œå½“éœ€è¦åœ¨å¤šä¸ªçº¿ç¨‹ä¸­è¯»å†™ map æ—¶ï¼Œæ˜¾è€Œæ˜“è§çš„æ–¹å¼æ˜¯&lt;strong&gt;åŠ é”&lt;/strong&gt;ï¼ˆå¦‚ã€Š&lt;a href=&quot;/2019/05/11/golang-concurrency-01.html&quot;&gt;æµ…è°ˆ Golang ä¸­æ•°æ®çš„å¹¶å‘åŒæ­¥é—®é¢˜ï¼ˆä¸€ï¼‰&lt;/a&gt;ã€‹æ‰€æè¿°çš„ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹é¢çš„ä»£ç æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; ç±»å‹çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;m&lt;/code&gt; å°è£…åœ¨ä¸€ä¸ªåŒ¿åçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;struct&lt;/code&gt; ä¸­ï¼ŒåŒæ—¶æ•´ä¸ªåŒ¿åçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;struct&lt;/code&gt; ç»§æ‰¿äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;sync.RWMutex&lt;/code&gt; ç»“æ„ï¼Œå› æ­¤æ‹¥æœ‰äº† &lt;strong&gt;åŠ è¯»å†™é”&lt;/strong&gt; çš„åŠŸèƒ½ï¼Œä»è€Œå®‰å…¨åœ°å®ç°äº†å¤šä¸ªçº¿ç¨‹å¯¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; çš„ â€œå¹¶å‘è¯»å†™â€ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sync&quot;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RWMutex&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;

	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RLock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;some_key&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RUnlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;some_key&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
			&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Unlock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
		&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
	&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;x&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ä¸ºä»€ä¹ˆ-map-å¹¶å‘è¯»å†™æ—¶ä¼šåœ¨è¿è¡Œæ—¶å¼‚å¸¸é€€å‡º&quot;&gt;ä¸ºä»€ä¹ˆ map å¹¶å‘è¯»å†™æ—¶ä¼šåœ¨è¿è¡Œæ—¶å¼‚å¸¸é€€å‡º&lt;/h3&gt;

&lt;p&gt;æœ€åæä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼š&lt;strong&gt;ä¸ºä»€ä¹ˆ intã€stringã€slice ç­‰å˜é‡åœ¨å¤šä¸ªçº¿ç¨‹è¯»å†™æ—¶è¿è¡Œæ­£å¸¸ï¼Œè€Œ map åœ¨å¤šä¸ªçº¿ç¨‹å¹¶å‘è¯»å†™æ—¶ä¼šè¿è¡Œæ—¶å¼‚å¸¸é€€å‡ºï¼Ÿ&lt;/strong&gt; å…¶å®è¿™ä¸ªæ¶‰åŠåˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; çš„å…·ä½“å®ç°ï¼ˆæˆ‘çŸ¥é“è¿™æ˜¯ä¸€å¥åºŸè¯ +_+ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ç®€å•æ¥è®²ï¼Œå¯ä»¥ä»Go æºç ä¸­  &lt;a href=&quot;https://github.com/golang/go/blob/release-branch.go1.12/src/runtime/map.go&quot;&gt;map è¿è¡Œæ—¶ç›¸å…³çš„éƒ¨åˆ†&lt;/a&gt; çª¥è§ä¸€äº›ä¾æ®ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt; çš„å¢æ”¹åˆ æŸ¥å¯ä»¥åˆ†åˆ«å¯¹åº”åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;func mapassign()&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;func mapaccess1()&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;func mapdelete()&lt;/code&gt;è¿™å‡ ä¸ªå‡½æ•°ï¼Œæ¯ä¸ªå‡½æ•°éƒ½æœ‰éå¸¸é•¿çš„æ‰§è¡Œé€»è¾‘ï¼›å¦‚æœå¤šä¸ªçº¿ç¨‹å¹¶å‘è¯»å†™åŒä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;map&lt;/code&gt;ï¼Œå¤§æ¦‚ç‡ä¼šå‡ºç° â‘  &lt;code class=&quot;highlighter-rouge&quot;&gt;mapassign&lt;/code&gt; å‡½æ•°ï¼ˆå¢åŠ æŸä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;key&lt;/code&gt; çš„å€¼ï¼‰æ‰§è¡Œåˆ°ä¸€åŠçš„æ—¶å€™ &lt;code class=&quot;highlighter-rouge&quot;&gt;mapaccess1&lt;/code&gt; è¯»å–åˆ°ä¸€ä¸ªç›¸åº”çš„é›¶å€¼ï¼Œâ‘¡  &lt;code class=&quot;highlighter-rouge&quot;&gt;mapaccess1&lt;/code&gt; å‡½æ•°ï¼ˆè¯»å–æŸä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;key&lt;/code&gt; çš„å€¼ï¼‰æ‰§è¡Œåˆ°ä¸€åŠçš„æ—¶å€™ &lt;code class=&quot;highlighter-rouge&quot;&gt;mapdelete&lt;/code&gt; å·²ç»åˆ é™¤äº†å¯¹åº”çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;key&lt;/code&gt;ï¼Œç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;åŒæ—¶&lt;/strong&gt;è€ƒè™‘åˆ°å¢åˆ æ•°æ®æ—¶åº•å±‚æ•°æ®çš„æ”¹å˜ï¼ˆæ¯”å¦‚æ‰©å®¹é‡åˆ†é…ï¼Œè¿™ä¸€å—è¿˜æ²¡æ·±å…¥ç ”ç©¶ï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥çœ‹æºç =ã€‚=ï¼‰ï¼Œå› æ­¤ä¿æŒ map çš„å•çº¯å˜å¾—å¾ˆé‡è¦ï¼›ä¸ºé¿å…å‡ºç°éš¾ä»¥ debug çš„å¼‚å¸¸ï¼Œ&lt;strong&gt;è¿è¡Œæ—¶ç¯å¢ƒæ˜¾å¼åœ°å¹¶å‘å¼‚å¸¸é€€å‡ºä¹Ÿå°±å¯ä»¥ç†è§£äº†ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;Golang çš„è¿è¡Œæ—¶ä¼š&lt;strong&gt;åœ¨ map çš„å¢æ”¹åˆ æŸ¥è¿‡ç¨‹ä¸­æ£€æµ‹æ˜¯å¦æœ‰å¹¶å‘è¯»å†™çš„æƒ…å†µï¼Œå½“å‘ç°å¹¶å‘è¯»å†™æ—¶ç›´æ¥å¼‚å¸¸é€€å‡º&lt;/strong&gt;ã€‚ç›¸å¯¹äºå…¶ä»–æ•°æ®ç±»å‹ï¼ˆæ¯”å¦‚ intã€stringã€slice ç­‰ï¼‰ï¼Œmap çš„å¹¶å‘ä½¿ç”¨æ˜¯æ¯”è¾ƒä¸¥è‹›çš„ï¼ˆå®‰å…¨&amp;amp;æ€§èƒ½çš„æŠ˜ä¸­ï¼‰ï¼›å¯ä»¥è®¤ä¸º map çš„è¿™ç§ä¸¥è‹›å¾ˆå¤§ç¨‹åº¦ä¸Šé™ä½äº†è¯¡å¼‚ bug çš„äº§ç”Ÿï¼Œå¢åŠ ä»£ç çš„é²æ£’æ€§ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åï¼Œå½“æåˆ° map çš„å¹¶å‘ä½¿ç”¨æ—¶ï¼Œå¾ˆå¤šæ—¶å€™ä¼šæåˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;sync.Map&lt;/code&gt; çš„ä½¿ç”¨ï¼Œä¸è¿‡ç”±äºå®ƒå¤§é‡ä½¿ç”¨äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;interface{}&lt;/code&gt; ç±»å‹ï¼Œä½¿ç”¨èµ·æ¥å¹¶ä¸æ˜¯é‚£ä¹ˆæ–¹ä¾¿ï¼›ç›®å‰ä¸ºæ­¢ï¼Œ&lt;strong&gt;æˆ‘æ›´å–œæ¬¢åŠ è¯»å†™é”çš„æ–¹å¼&lt;/strong&gt;æ¥ä½¿ç”¨ map è€Œä¸æ˜¯ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;sync.Map&lt;/code&gt; ğŸ˜†&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;/2019/05/11/golang-concurrency-01.html&quot;&gt;æµ…è°ˆ Golang ä¸­æ•°æ®çš„å¹¶å‘åŒæ­¥é—®é¢˜ï¼ˆä¸€ï¼‰&lt;/a&gt; ä»‹ç»é€šè¿‡åŠ é”çš„æ–¹å¼ä¿è¯çº¿ç¨‹å®‰å…¨&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;/2019/05/11/golang-concurrency-02.html&quot;&gt;æµ…è°ˆ Golang ä¸­æ•°æ®çš„å¹¶å‘åŒæ­¥é—®é¢˜ï¼ˆäºŒï¼‰&lt;/a&gt; ä»‹ç»äº† atomic åŒ…çš„ä½¿ç”¨åŠå…¶å±€é™æ€§&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.golang.org/go-maps-in-action&quot;&gt;Go maps in action - The Go Blog&lt;/a&gt; å®˜æ–¹æ–‡æ¡£ä¸­ä»‹ç» map çš„åšå®¢ï¼ˆéœ€è¦è‡ªå¤‡æ¢¯å­ï¼‰&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/10a998089486&quot;&gt;goè¯­è¨€å‘ä¹‹å¹¶å‘è®¿é—®map&lt;/a&gt; æµ…æ˜¾æ˜“æ‡‚åœ°ä»‹ç»äº† map çš„å‘åŠå¹¶å‘è®¿é—®æ–¹æ³•&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://coolshell.cn/articles/9606.html&quot;&gt;ç–«è‹—ï¼šJava HashMapçš„æ­»å¾ªç¯&lt;/a&gt; äº†è§£ Java ä¸­ HashMap çš„å®ç°æœºåˆ¶ï¼Œå¯ä»¥çŸ¥é“ Map çš„çº¿ç¨‹ä¸å®‰å…¨çš„å®ç°æ˜¯ä¸€ä¸ªæ™®éç°è±¡&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/golang/go/blob/release-branch.go1.12/src/runtime/map.go&quot;&gt;src/runtime/map.go&lt;/a&gt; Go æºç ä¸­ map ç›¸å…³çš„éƒ¨åˆ†ï¼ˆè¿è¡Œæ—¶ï¼‰&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://golang.google.cn/pkg/sync/#Map&quot;&gt;sync - The Go Programming Language&lt;/a&gt; Golang å®˜æ–¹ sync åŒ…ä¸­åŒ…å«çº¿ç¨‹å®‰å…¨çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;sync.Map&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/1d45e31343d8&quot;&gt;go mapçš„çº¿ç¨‹å®‰å…¨ä½¿ç”¨&lt;/a&gt; ä»‹ç»äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;sync.Map&lt;/code&gt; çš„ä½¿ç”¨&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sun, 12 May 2019 00:00:00 +0800</pubDate>
        <link>https://jingwei.link/2019/05/12/golang-concurrency-03-map.html</link>
        <guid isPermaLink="true">https://jingwei.link/2019/05/12/golang-concurrency-03-map.html</guid>
        
        <category>golang</category>
        
        <category>å®ç”¨</category>
        
        <category>åŸºç¡€</category>
        
        
        <category>golang</category>
        
      </item>
    
  </channel>
</rss>